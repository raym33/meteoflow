{"version":3,"file":"LandscapeEngine-DK-6Imta.js","sources":["../../src/components/LandscapeEngine.tsx"],"sourcesContent":["import React, { useRef, useMemo, useEffect } from 'react';\nimport { Canvas, useFrame, useThree } from '@react-three/fiber';\nimport { Float, Sky, Cloud, Stars } from '@react-three/drei';\nimport * as THREE from 'three';\n\n// ============================================================================\n// LANDSCAPE CONFIGURATION TYPES\n// ============================================================================\n\ninterface LandscapeConfig {\n  id: number;\n  name: string;\n  // Terrain\n  terrainColor: string;\n  terrainRoughness: number;\n  terrainHeight: number;\n  terrainSegments: number;\n  // Mountains\n  hasMountains: boolean;\n  mountainCount: number;\n  mountainColor: string;\n  mountainSnow: boolean;\n  mountainHeight: number;\n  // Water\n  hasWater: boolean;\n  waterColor: string;\n  waterOpacity: number;\n  waterLevel: number;\n  isOcean: boolean;\n  // Vegetation\n  hasVegetation: boolean;\n  vegetationType: 'none' | 'grass' | 'trees' | 'palms' | 'cactus' | 'snow_trees';\n  vegetationDensity: number;\n  vegetationColor: string;\n  // Sky\n  skyType: 'day' | 'night' | 'sunset' | 'sunrise' | 'overcast' | 'storm';\n  sunPosition: [number, number, number];\n  skyColor: string;\n  fogColor: string;\n  fogDensity: number;\n  // Weather effects\n  weatherType: 'clear' | 'cloudy' | 'rain' | 'heavy_rain' | 'snow' | 'heavy_snow' | 'storm' | 'fog' | 'mist';\n  cloudDensity: number;\n  cloudColor: string;\n  precipitationIntensity: number;\n  // Lighting\n  ambientIntensity: number;\n  sunIntensity: number;\n  lightColor: string;\n  // Special effects\n  hasLightning: boolean;\n  hasAurora: boolean;\n  hasSandstorm: boolean;\n  hasVolcano: boolean;\n  // Temperature visual\n  temperatureEffect: 'freezing' | 'cold' | 'cool' | 'mild' | 'warm' | 'hot' | 'extreme_heat';\n}\n\n// ============================================================================\n// LANDSCAPE GENERATOR - Creates 100+ unique configurations\n// ============================================================================\n\nconst generateLandscapeConfigs = (): LandscapeConfig[] => {\n  const configs: LandscapeConfig[] = [];\n  let id = 0;\n\n  // Base biomes\n  const biomes = [\n    'tropical', 'desert', 'temperate', 'arctic', 'mountain',\n    'coastal', 'forest', 'plains', 'volcanic', 'tundra'\n  ];\n\n  // Weather conditions\n  const weathers = [\n    'clear', 'cloudy', 'rain', 'heavy_rain', 'snow',\n    'heavy_snow', 'storm', 'fog', 'mist'\n  ] as const;\n\n  // Time of day\n  const times = ['day', 'night', 'sunset', 'sunrise'] as const;\n\n  // Generate combinations\n  biomes.forEach(biome => {\n    weathers.forEach(weather => {\n      times.forEach(time => {\n        // Skip invalid combinations\n        if (biome === 'arctic' && (weather === 'rain' || weather === 'heavy_rain')) return;\n        if (biome === 'desert' && (weather === 'snow' || weather === 'heavy_snow')) return;\n        if (biome === 'tropical' && (weather === 'snow' || weather === 'heavy_snow')) return;\n\n        const config = createLandscapeConfig(id++, biome, weather, time);\n        configs.push(config);\n      });\n    });\n  });\n\n  return configs;\n};\n\nconst createLandscapeConfig = (\n  id: number,\n  biome: string,\n  weather: LandscapeConfig['weatherType'],\n  time: 'day' | 'night' | 'sunset' | 'sunrise'\n): LandscapeConfig => {\n  // Base configuration\n  const config: LandscapeConfig = {\n    id,\n    name: `${biome}_${weather}_${time}`,\n    terrainColor: '#4a7c59',\n    terrainRoughness: 0.8,\n    terrainHeight: 2,\n    terrainSegments: 64,\n    hasMountains: false,\n    mountainCount: 3,\n    mountainColor: '#6b6b6b',\n    mountainSnow: false,\n    mountainHeight: 5,\n    hasWater: false,\n    waterColor: '#4a90d9',\n    waterOpacity: 0.7,\n    waterLevel: -0.5,\n    isOcean: false,\n    hasVegetation: true,\n    vegetationType: 'grass',\n    vegetationDensity: 0.5,\n    vegetationColor: '#2d5a27',\n    skyType: time === 'day' ? 'day' : time === 'night' ? 'night' : time,\n    sunPosition: [100, 50, 100],\n    skyColor: '#87ceeb',\n    fogColor: '#ffffff',\n    fogDensity: 0.01,\n    weatherType: weather,\n    cloudDensity: 0,\n    cloudColor: '#ffffff',\n    precipitationIntensity: 0,\n    ambientIntensity: 0.5,\n    sunIntensity: 1,\n    lightColor: '#ffffff',\n    hasLightning: false,\n    hasAurora: false,\n    hasSandstorm: false,\n    hasVolcano: false,\n    temperatureEffect: 'mild',\n  };\n\n  // Biome-specific settings\n  switch (biome) {\n    case 'tropical':\n      config.terrainColor = '#3d8b40';\n      config.hasWater = true;\n      config.waterColor = '#00bcd4';\n      config.isOcean = true;\n      config.vegetationType = 'palms';\n      config.vegetationColor = '#1b5e20';\n      config.vegetationDensity = 0.8;\n      config.temperatureEffect = 'hot';\n      config.skyColor = '#00bfff';\n      break;\n\n    case 'desert':\n      config.terrainColor = '#d4a574';\n      config.terrainRoughness = 0.3;\n      config.hasVegetation = true;\n      config.vegetationType = 'cactus';\n      config.vegetationDensity = 0.1;\n      config.vegetationColor = '#6b8e23';\n      config.temperatureEffect = 'extreme_heat';\n      config.skyColor = '#f4a460';\n      config.fogColor = '#d4a574';\n      config.hasSandstorm = weather === 'storm';\n      break;\n\n    case 'arctic':\n      config.terrainColor = '#e8f4f8';\n      config.terrainRoughness = 0.2;\n      config.hasWater = true;\n      config.waterColor = '#1a5276';\n      config.waterOpacity = 0.9;\n      config.hasMountains = true;\n      config.mountainSnow = true;\n      config.mountainColor = '#ffffff';\n      config.hasVegetation = false;\n      config.temperatureEffect = 'freezing';\n      config.skyColor = '#b0c4de';\n      config.hasAurora = time === 'night';\n      break;\n\n    case 'mountain':\n      config.hasMountains = true;\n      config.mountainCount = 5;\n      config.mountainHeight = 8;\n      config.mountainColor = '#5d5d5d';\n      config.mountainSnow = true;\n      config.terrainColor = '#4a6741';\n      config.vegetationType = 'trees';\n      config.vegetationDensity = 0.4;\n      config.temperatureEffect = 'cold';\n      break;\n\n    case 'coastal':\n      config.hasWater = true;\n      config.isOcean = true;\n      config.waterColor = '#1e90ff';\n      config.waterLevel = -0.2;\n      config.terrainColor = '#c2b280';\n      config.vegetationType = 'grass';\n      config.vegetationDensity = 0.3;\n      config.temperatureEffect = 'mild';\n      break;\n\n    case 'forest':\n      config.vegetationType = 'trees';\n      config.vegetationDensity = 0.9;\n      config.vegetationColor = '#1a472a';\n      config.terrainColor = '#3d5c3d';\n      config.hasMountains = true;\n      config.mountainCount = 2;\n      config.mountainHeight = 4;\n      config.temperatureEffect = 'cool';\n      config.fogDensity = 0.02;\n      break;\n\n    case 'plains':\n      config.terrainColor = '#90a955';\n      config.terrainHeight = 0.5;\n      config.vegetationType = 'grass';\n      config.vegetationDensity = 0.7;\n      config.temperatureEffect = 'mild';\n      break;\n\n    case 'volcanic':\n      config.terrainColor = '#2d2d2d';\n      config.hasMountains = true;\n      config.mountainColor = '#1a1a1a';\n      config.mountainHeight = 6;\n      config.hasVolcano = true;\n      config.hasVegetation = false;\n      config.skyColor = '#4a4a4a';\n      config.fogColor = '#3d3d3d';\n      config.fogDensity = 0.03;\n      config.temperatureEffect = 'hot';\n      break;\n\n    case 'tundra':\n      config.terrainColor = '#8fbc8f';\n      config.vegetationType = 'grass';\n      config.vegetationDensity = 0.2;\n      config.vegetationColor = '#6b8e6b';\n      config.temperatureEffect = 'cold';\n      config.hasWater = true;\n      config.waterColor = '#4682b4';\n      break;\n  }\n\n  // Weather-specific settings\n  switch (weather) {\n    case 'clear':\n      config.cloudDensity = 0;\n      break;\n    case 'cloudy':\n      config.cloudDensity = 0.5;\n      config.cloudColor = '#d3d3d3';\n      config.ambientIntensity = 0.4;\n      break;\n    case 'rain':\n      config.cloudDensity = 0.7;\n      config.cloudColor = '#808080';\n      config.precipitationIntensity = 0.5;\n      config.ambientIntensity = 0.3;\n      config.fogDensity = 0.02;\n      break;\n    case 'heavy_rain':\n      config.cloudDensity = 0.9;\n      config.cloudColor = '#4a4a4a';\n      config.precipitationIntensity = 1;\n      config.ambientIntensity = 0.2;\n      config.fogDensity = 0.04;\n      break;\n    case 'snow':\n      config.cloudDensity = 0.6;\n      config.cloudColor = '#e0e0e0';\n      config.precipitationIntensity = 0.5;\n      config.ambientIntensity = 0.5;\n      config.terrainColor = blendColors(config.terrainColor, '#ffffff', 0.3);\n      break;\n    case 'heavy_snow':\n      config.cloudDensity = 0.8;\n      config.cloudColor = '#c0c0c0';\n      config.precipitationIntensity = 1;\n      config.ambientIntensity = 0.4;\n      config.terrainColor = blendColors(config.terrainColor, '#ffffff', 0.6);\n      config.fogDensity = 0.03;\n      break;\n    case 'storm':\n      config.cloudDensity = 1;\n      config.cloudColor = '#2f2f2f';\n      config.precipitationIntensity = 0.8;\n      config.ambientIntensity = 0.15;\n      config.hasLightning = true;\n      config.fogDensity = 0.03;\n      config.skyType = 'storm';\n      break;\n    case 'fog':\n      config.fogDensity = 0.08;\n      config.fogColor = '#c0c0c0';\n      config.ambientIntensity = 0.4;\n      config.cloudDensity = 0.3;\n      break;\n    case 'mist':\n      config.fogDensity = 0.04;\n      config.fogColor = '#e0e0e0';\n      config.ambientIntensity = 0.5;\n      break;\n  }\n\n  // Time-specific settings\n  switch (time) {\n    case 'day':\n      config.sunPosition = [100, 80, 50];\n      config.sunIntensity = 1;\n      config.lightColor = '#fffaf0';\n      break;\n    case 'night':\n      config.sunPosition = [-100, -50, -50];\n      config.sunIntensity = 0.1;\n      config.ambientIntensity *= 0.3;\n      config.lightColor = '#4169e1';\n      config.skyColor = '#0a0a2e';\n      break;\n    case 'sunset':\n      config.sunPosition = [100, 10, 50];\n      config.sunIntensity = 0.7;\n      config.lightColor = '#ff7f50';\n      config.skyColor = '#ff6b6b';\n      break;\n    case 'sunrise':\n      config.sunPosition = [-100, 15, 50];\n      config.sunIntensity = 0.6;\n      config.lightColor = '#ffb347';\n      config.skyColor = '#ffd700';\n      break;\n  }\n\n  return config;\n};\n\n// Color blending utility\nconst blendColors = (color1: string, color2: string, ratio: number): string => {\n  const hex = (c: string) => parseInt(c.slice(1), 16);\n  const r = (h: number) => (h >> 16) & 255;\n  const g = (h: number) => (h >> 8) & 255;\n  const b = (h: number) => h & 255;\n\n  const h1 = hex(color1);\n  const h2 = hex(color2);\n\n  const nr = Math.round(r(h1) * (1 - ratio) + r(h2) * ratio);\n  const ng = Math.round(g(h1) * (1 - ratio) + g(h2) * ratio);\n  const nb = Math.round(b(h1) * (1 - ratio) + b(h2) * ratio);\n\n  return `#${((nr << 16) | (ng << 8) | nb).toString(16).padStart(6, '0')}`;\n};\n\n// ============================================================================\n// WEATHER TO LANDSCAPE MAPPING\n// ============================================================================\n\nexport interface WeatherParams {\n  temperature: number;\n  weatherCode: number;\n  isDay: boolean;\n  humidity: number;\n  windSpeed: number;\n  precipitation: number;\n  cloudCover: number;\n  visibility: number;\n}\n\nexport const selectLandscape = (params: WeatherParams): LandscapeConfig => {\n  const configs = generateLandscapeConfigs();\n\n  // Determine biome from temperature\n  let targetBiome: string;\n  if (params.temperature <= -10) targetBiome = 'arctic';\n  else if (params.temperature <= 0) targetBiome = 'tundra';\n  else if (params.temperature <= 10) targetBiome = 'mountain';\n  else if (params.temperature <= 15) targetBiome = 'forest';\n  else if (params.temperature <= 25) targetBiome = 'temperate';\n  else if (params.temperature <= 30) targetBiome = 'coastal';\n  else if (params.temperature <= 35) targetBiome = 'tropical';\n  else targetBiome = 'desert';\n\n  // Determine weather type from code\n  let targetWeather: LandscapeConfig['weatherType'];\n  const code = params.weatherCode;\n\n  if (code === 0) targetWeather = 'clear';\n  else if (code <= 3) targetWeather = 'cloudy';\n  else if (code >= 45 && code <= 48) targetWeather = 'fog';\n  else if (code >= 51 && code <= 55) targetWeather = 'mist';\n  else if (code >= 56 && code <= 57) targetWeather = 'rain';\n  else if (code >= 61 && code <= 63) targetWeather = 'rain';\n  else if (code >= 65 && code <= 67) targetWeather = 'heavy_rain';\n  else if (code >= 71 && code <= 73) targetWeather = 'snow';\n  else if (code >= 75 && code <= 77) targetWeather = 'heavy_snow';\n  else if (code >= 80 && code <= 82) targetWeather = 'rain';\n  else if (code >= 85 && code <= 86) targetWeather = 'snow';\n  else if (code >= 95 && code <= 99) targetWeather = 'storm';\n  else targetWeather = 'cloudy';\n\n  // Determine time\n  const targetTime = params.isDay ? 'day' : 'night';\n\n  // Find best matching config\n  let bestMatch = configs[0];\n  let bestScore = -1;\n\n  configs.forEach(config => {\n    let score = 0;\n\n    if (config.name.includes(targetBiome)) score += 10;\n    if (config.weatherType === targetWeather) score += 5;\n    if (config.skyType === targetTime ||\n        (targetTime === 'day' && ['day', 'sunrise', 'sunset'].includes(config.skyType)) ||\n        (targetTime === 'night' && config.skyType === 'night')) score += 3;\n\n    if (score > bestScore) {\n      bestScore = score;\n      bestMatch = config;\n    }\n  });\n\n  return bestMatch;\n};\n\n// ============================================================================\n// 3D LANDSCAPE COMPONENTS\n// ============================================================================\n\n// Animated Terrain\nconst AnimatedTerrain: React.FC<{ config: LandscapeConfig }> = ({ config }) => {\n  const meshRef = useRef<THREE.Mesh>(null);\n\n  const geometry = useMemo(() => {\n    const geo = new THREE.PlaneGeometry(\n      50, 50,\n      config.terrainSegments,\n      config.terrainSegments\n    );\n\n    const positions = geo.attributes.position;\n    for (let i = 0; i < positions.count; i++) {\n      const x = positions.getX(i);\n      const y = positions.getY(i);\n      const height =\n        Math.sin(x * 0.1) * Math.cos(y * 0.1) * config.terrainHeight +\n        Math.sin(x * 0.3 + y * 0.2) * config.terrainHeight * 0.5 +\n        (Math.random() - 0.5) * config.terrainRoughness;\n      positions.setZ(i, height);\n    }\n\n    geo.computeVertexNormals();\n    return geo;\n  }, [config]);\n\n  return (\n    <mesh ref={meshRef} rotation={[-Math.PI / 2, 0, 0]} position={[0, -2, 0]} receiveShadow>\n      <primitive object={geometry} attach=\"geometry\" />\n      <meshStandardMaterial\n        color={config.terrainColor}\n        roughness={0.9}\n        metalness={0.1}\n      />\n    </mesh>\n  );\n};\n\n// Animated Mountains\nconst AnimatedMountains: React.FC<{ config: LandscapeConfig }> = ({ config }) => {\n  if (!config.hasMountains) return null;\n\n  const mountains = useMemo(() => {\n    const mts = [];\n    for (let i = 0; i < config.mountainCount; i++) {\n      const angle = (i / config.mountainCount) * Math.PI + Math.PI * 0.5;\n      const distance = 15 + Math.random() * 10;\n      mts.push({\n        position: [\n          Math.cos(angle) * distance,\n          config.mountainHeight * 0.5 - 2,\n          Math.sin(angle) * distance - 10\n        ] as [number, number, number],\n        scale: 0.8 + Math.random() * 0.4,\n        height: config.mountainHeight * (0.7 + Math.random() * 0.6),\n      });\n    }\n    return mts;\n  }, [config]);\n\n  return (\n    <group>\n      {mountains.map((mt, i) => (\n        <group key={i} position={mt.position}>\n          <mesh castShadow>\n            <coneGeometry args={[3 * mt.scale, mt.height, 8]} />\n            <meshStandardMaterial color={config.mountainColor} roughness={0.9} />\n          </mesh>\n          {config.mountainSnow && (\n            <mesh position={[0, mt.height * 0.3, 0]}>\n              <coneGeometry args={[1.5 * mt.scale, mt.height * 0.4, 8]} />\n              <meshStandardMaterial color=\"#ffffff\" roughness={0.3} />\n            </mesh>\n          )}\n        </group>\n      ))}\n    </group>\n  );\n};\n\n// Animated Water\nconst AnimatedWater: React.FC<{ config: LandscapeConfig }> = ({ config }) => {\n  const meshRef = useRef<THREE.Mesh>(null);\n\n  useFrame((state) => {\n    if (meshRef.current) {\n      const geo = meshRef.current.geometry as THREE.PlaneGeometry;\n      const positions = geo.attributes.position;\n      const time = state.clock.elapsedTime;\n\n      for (let i = 0; i < positions.count; i++) {\n        const x = positions.getX(i);\n        const y = positions.getY(i);\n        const wave = Math.sin(x * 0.5 + time) * 0.1 + Math.cos(y * 0.3 + time * 0.7) * 0.1;\n        positions.setZ(i, wave);\n      }\n      positions.needsUpdate = true;\n    }\n  });\n\n  if (!config.hasWater) return null;\n\n  return (\n    <mesh\n      ref={meshRef}\n      rotation={[-Math.PI / 2, 0, 0]}\n      position={[0, config.waterLevel, config.isOcean ? 10 : 0]}\n    >\n      <planeGeometry args={[config.isOcean ? 100 : 30, config.isOcean ? 50 : 20, 32, 32]} />\n      <meshStandardMaterial\n        color={config.waterColor}\n        transparent\n        opacity={config.waterOpacity}\n        roughness={0.1}\n        metalness={0.3}\n      />\n    </mesh>\n  );\n};\n\n// Rain Effect\nconst RainEffect: React.FC<{ intensity: number }> = ({ intensity }) => {\n  const rainRef = useRef<THREE.Points>(null);\n  const count = Math.floor(intensity * 5000);\n\n  const [positions, velocities] = useMemo(() => {\n    const pos = new Float32Array(count * 3);\n    const vel = new Float32Array(count);\n\n    for (let i = 0; i < count; i++) {\n      pos[i * 3] = (Math.random() - 0.5) * 50;\n      pos[i * 3 + 1] = Math.random() * 30;\n      pos[i * 3 + 2] = (Math.random() - 0.5) * 50;\n      vel[i] = 0.2 + Math.random() * 0.3;\n    }\n\n    return [pos, vel];\n  }, [count]);\n\n  useFrame(() => {\n    if (rainRef.current) {\n      const positions = rainRef.current.geometry.attributes.position.array as Float32Array;\n\n      for (let i = 0; i < count; i++) {\n        positions[i * 3 + 1] -= velocities[i];\n        if (positions[i * 3 + 1] < -2) {\n          positions[i * 3 + 1] = 30;\n        }\n      }\n\n      rainRef.current.geometry.attributes.position.needsUpdate = true;\n    }\n  });\n\n  if (intensity === 0) return null;\n\n  return (\n    <points ref={rainRef}>\n      <bufferGeometry>\n        <bufferAttribute\n          attach=\"attributes-position\"\n          count={count}\n          array={positions}\n          itemSize={3}\n        />\n      </bufferGeometry>\n      <pointsMaterial\n        color=\"#88ccff\"\n        size={0.1}\n        transparent\n        opacity={0.6}\n        sizeAttenuation\n      />\n    </points>\n  );\n};\n\n// Snow Effect\nconst SnowEffect: React.FC<{ intensity: number }> = ({ intensity }) => {\n  const snowRef = useRef<THREE.Points>(null);\n  const count = Math.floor(intensity * 3000);\n\n  const [positions, velocities, drifts] = useMemo(() => {\n    const pos = new Float32Array(count * 3);\n    const vel = new Float32Array(count);\n    const dft = new Float32Array(count);\n\n    for (let i = 0; i < count; i++) {\n      pos[i * 3] = (Math.random() - 0.5) * 50;\n      pos[i * 3 + 1] = Math.random() * 30;\n      pos[i * 3 + 2] = (Math.random() - 0.5) * 50;\n      vel[i] = 0.03 + Math.random() * 0.05;\n      dft[i] = Math.random() * Math.PI * 2;\n    }\n\n    return [pos, vel, dft];\n  }, [count]);\n\n  useFrame((state) => {\n    if (snowRef.current) {\n      const positions = snowRef.current.geometry.attributes.position.array as Float32Array;\n      const time = state.clock.elapsedTime;\n\n      for (let i = 0; i < count; i++) {\n        positions[i * 3] += Math.sin(time + drifts[i]) * 0.01;\n        positions[i * 3 + 1] -= velocities[i];\n        positions[i * 3 + 2] += Math.cos(time * 0.7 + drifts[i]) * 0.01;\n\n        if (positions[i * 3 + 1] < -2) {\n          positions[i * 3 + 1] = 30;\n        }\n      }\n\n      snowRef.current.geometry.attributes.position.needsUpdate = true;\n    }\n  });\n\n  if (intensity === 0) return null;\n\n  return (\n    <points ref={snowRef}>\n      <bufferGeometry>\n        <bufferAttribute\n          attach=\"attributes-position\"\n          count={count}\n          array={positions}\n          itemSize={3}\n        />\n      </bufferGeometry>\n      <pointsMaterial\n        color=\"#ffffff\"\n        size={0.15}\n        transparent\n        opacity={0.8}\n        sizeAttenuation\n      />\n    </points>\n  );\n};\n\n// Lightning Effect\nconst LightningEffect: React.FC<{ active: boolean }> = ({ active }) => {\n  const lightRef = useRef<THREE.PointLight>(null);\n  const [flash, setFlash] = React.useState(false);\n\n  useEffect(() => {\n    if (!active) return;\n\n    const flashInterval = setInterval(() => {\n      if (Math.random() > 0.7) {\n        setFlash(true);\n        setTimeout(() => setFlash(false), 100);\n        setTimeout(() => {\n          if (Math.random() > 0.5) {\n            setFlash(true);\n            setTimeout(() => setFlash(false), 50);\n          }\n        }, 150);\n      }\n    }, 2000);\n\n    return () => clearInterval(flashInterval);\n  }, [active]);\n\n  if (!active) return null;\n\n  return (\n    <pointLight\n      ref={lightRef}\n      position={[0, 20, 0]}\n      intensity={flash ? 50 : 0}\n      color=\"#ffffff\"\n      distance={100}\n    />\n  );\n};\n\n// Aurora Effect\nconst AuroraEffect: React.FC<{ active: boolean }> = ({ active }) => {\n  const meshRef = useRef<THREE.Mesh>(null);\n\n  useFrame((state) => {\n    if (meshRef.current) {\n      const material = meshRef.current.material as THREE.ShaderMaterial;\n      if (material.uniforms) {\n        material.uniforms.time.value = state.clock.elapsedTime;\n      }\n    }\n  });\n\n  if (!active) return null;\n\n  return (\n    <mesh ref={meshRef} position={[0, 15, -20]} rotation={[0.3, 0, 0]}>\n      <planeGeometry args={[60, 20, 32, 32]} />\n      <shaderMaterial\n        transparent\n        uniforms={{\n          time: { value: 0 },\n        }}\n        vertexShader={`\n          varying vec2 vUv;\n          uniform float time;\n          void main() {\n            vUv = uv;\n            vec3 pos = position;\n            pos.z += sin(pos.x * 0.5 + time) * 2.0;\n            pos.y += cos(pos.x * 0.3 + time * 0.5) * 1.0;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n          }\n        `}\n        fragmentShader={`\n          varying vec2 vUv;\n          uniform float time;\n          void main() {\n            vec3 green = vec3(0.0, 1.0, 0.5);\n            vec3 purple = vec3(0.5, 0.0, 1.0);\n            float mixer = sin(vUv.x * 10.0 + time) * 0.5 + 0.5;\n            vec3 color = mix(green, purple, mixer);\n            float alpha = (1.0 - vUv.y) * 0.5 * (sin(vUv.x * 5.0 + time) * 0.3 + 0.7);\n            gl_FragColor = vec4(color, alpha);\n          }\n        `}\n      />\n    </mesh>\n  );\n};\n\n// Animated Sun with enhanced effects\nconst AnimatedSun: React.FC<{ position: [number, number, number]; intensity: number }> = ({ position, intensity }) => {\n  const sunRef = useRef<THREE.Group>(null);\n  const raysRef = useRef<THREE.Group>(null);\n  const innerRaysRef = useRef<THREE.Group>(null);\n  const glowRef = useRef<THREE.Mesh>(null);\n  const coronaRef = useRef<THREE.Mesh>(null);\n\n  useFrame((state) => {\n    const time = state.clock.elapsedTime;\n\n    if (sunRef.current) {\n      // Gentle rotation\n      sunRef.current.rotation.z = time * 0.05;\n      // Pulsating scale\n      const pulse = 1 + Math.sin(time * 1.5) * 0.03;\n      sunRef.current.scale.setScalar(pulse);\n    }\n\n    if (raysRef.current) {\n      // Outer rays rotate slowly\n      raysRef.current.rotation.z = -time * 0.08;\n      // Pulsating rays\n      const rayPulse = 1 + Math.sin(time * 2) * 0.1;\n      raysRef.current.scale.setScalar(rayPulse);\n    }\n\n    if (innerRaysRef.current) {\n      // Inner rays rotate opposite direction\n      innerRaysRef.current.rotation.z = time * 0.15;\n      const innerPulse = 1 + Math.cos(time * 3) * 0.08;\n      innerRaysRef.current.scale.setScalar(innerPulse);\n    }\n\n    if (glowRef.current) {\n      // Pulsating glow\n      const glowPulse = 1 + Math.sin(time * 0.8) * 0.15;\n      glowRef.current.scale.setScalar(glowPulse);\n      (glowRef.current.material as THREE.MeshBasicMaterial).opacity = 0.15 + Math.sin(time) * 0.05;\n    }\n\n    if (coronaRef.current) {\n      // Corona flicker\n      const coronaScale = 1 + Math.sin(time * 4) * 0.02 + Math.sin(time * 7) * 0.01;\n      coronaRef.current.scale.setScalar(coronaScale);\n    }\n  });\n\n  if (intensity < 0.3) return null;\n\n  const scaledPosition: [number, number, number] = [\n    position[0] * 0.3,\n    position[1] * 0.3 + 10,\n    position[2] * 0.3 - 20\n  ];\n\n  return (\n    <Float speed={0.3} floatIntensity={0.15}>\n      <group ref={sunRef} position={scaledPosition}>\n        {/* Core sun */}\n        <mesh>\n          <sphereGeometry args={[3, 32, 32]} />\n          <meshBasicMaterial color=\"#ffd93d\" />\n        </mesh>\n\n        {/* Inner glow layer */}\n        <mesh scale={1.1}>\n          <sphereGeometry args={[3, 32, 32]} />\n          <meshBasicMaterial color=\"#ffeb3b\" transparent opacity={0.5} />\n        </mesh>\n\n        {/* Corona effect */}\n        <mesh ref={coronaRef} scale={1.25}>\n          <sphereGeometry args={[3, 32, 32]} />\n          <meshBasicMaterial color=\"#fff4b0\" transparent opacity={0.25} />\n        </mesh>\n\n        {/* Outer glow */}\n        <mesh ref={glowRef} scale={1.8}>\n          <sphereGeometry args={[3, 32, 32]} />\n          <meshBasicMaterial color=\"#ffff88\" transparent opacity={0.15} />\n        </mesh>\n\n        {/* Inner short rays */}\n        <group ref={innerRaysRef}>\n          {[...Array(8)].map((_, i) => (\n            <mesh key={`inner-${i}`} rotation={[0, 0, (i * Math.PI) / 4]}>\n              <boxGeometry args={[0.4, 4.5, 0.1]} />\n              <meshBasicMaterial color=\"#fff59d\" transparent opacity={0.7} />\n            </mesh>\n          ))}\n        </group>\n\n        {/* Outer long rays */}\n        <group ref={raysRef}>\n          {[...Array(12)].map((_, i) => (\n            <mesh key={`outer-${i}`} rotation={[0, 0, (i * Math.PI) / 6]}>\n              <boxGeometry args={[0.25, 7, 0.1]} />\n              <meshBasicMaterial color=\"#ffd93d\" transparent opacity={0.5} />\n            </mesh>\n          ))}\n        </group>\n\n        {/* Light source */}\n        <pointLight color=\"#ffd93d\" intensity={intensity * 2.5} distance={60} />\n      </group>\n    </Float>\n  );\n};\n\n// Animated Moon with enhanced glow and phases\nconst AnimatedMoon: React.FC<{ active: boolean }> = ({ active }) => {\n  const moonRef = useRef<THREE.Mesh>(null);\n  const glowRef = useRef<THREE.Mesh>(null);\n  const haloRef = useRef<THREE.Mesh>(null);\n  const starsNearRef = useRef<THREE.Group>(null);\n\n  useFrame((state) => {\n    const time = state.clock.elapsedTime;\n\n    if (moonRef.current) {\n      // Slow rotation\n      moonRef.current.rotation.y = time * 0.03;\n      // Gentle wobble\n      moonRef.current.rotation.x = Math.sin(time * 0.5) * 0.02;\n    }\n\n    if (glowRef.current) {\n      // Pulsating glow\n      const glowPulse = 1 + Math.sin(time * 0.6) * 0.1;\n      glowRef.current.scale.setScalar(glowPulse);\n      (glowRef.current.material as THREE.MeshBasicMaterial).opacity = 0.15 + Math.sin(time * 0.8) * 0.05;\n    }\n\n    if (haloRef.current) {\n      // Slowly rotating halo\n      haloRef.current.rotation.z = time * 0.02;\n      const haloPulse = 1 + Math.sin(time * 0.4) * 0.05;\n      haloRef.current.scale.setScalar(haloPulse);\n    }\n\n    // Twinkling stars near moon\n    if (starsNearRef.current) {\n      starsNearRef.current.children.forEach((star, i) => {\n        const twinkle = 0.5 + Math.sin(time * 3 + i * 2) * 0.5;\n        (star as THREE.Mesh).scale.setScalar(twinkle);\n      });\n    }\n  });\n\n  if (!active) return null;\n\n  return (\n    <Float speed={0.2} floatIntensity={0.08}>\n      <group position={[15, 18, -25]}>\n        {/* Main moon sphere */}\n        <mesh ref={moonRef}>\n          <sphereGeometry args={[2.5, 32, 32]} />\n          <meshStandardMaterial\n            color=\"#f5f5dc\"\n            roughness={0.8}\n            emissive=\"#f5f5dc\"\n            emissiveIntensity={0.1}\n          />\n        </mesh>\n\n        {/* Moon craters */}\n        <mesh position={[0.8, 0.8, 2]}>\n          <sphereGeometry args={[0.4, 16, 16]} />\n          <meshStandardMaterial color=\"#d4d4aa\" roughness={1} />\n        </mesh>\n        <mesh position={[-1, -0.5, 1.8]}>\n          <sphereGeometry args={[0.25, 16, 16]} />\n          <meshStandardMaterial color=\"#d4d4aa\" roughness={1} />\n        </mesh>\n        <mesh position={[0.3, -0.9, 2.2]}>\n          <sphereGeometry args={[0.2, 16, 16]} />\n          <meshStandardMaterial color=\"#ccc8a8\" roughness={1} />\n        </mesh>\n\n        {/* Inner glow */}\n        <mesh scale={1.1}>\n          <sphereGeometry args={[2.5, 32, 32]} />\n          <meshBasicMaterial color=\"#fffff0\" transparent opacity={0.15} />\n        </mesh>\n\n        {/* Outer glow */}\n        <mesh ref={glowRef} scale={1.4}>\n          <sphereGeometry args={[2.5, 32, 32]} />\n          <meshBasicMaterial color=\"#f5f5dc\" transparent opacity={0.1} />\n        </mesh>\n\n        {/* Halo ring */}\n        <mesh ref={haloRef} scale={2}>\n          <ringGeometry args={[2.6, 3.2, 64]} />\n          <meshBasicMaterial color=\"#f0f0e0\" transparent opacity={0.05} side={THREE.DoubleSide} />\n        </mesh>\n\n        {/* Twinkling stars near moon */}\n        <group ref={starsNearRef}>\n          {[...Array(8)].map((_, i) => (\n            <mesh\n              key={i}\n              position={[\n                Math.cos((i / 8) * Math.PI * 2) * 6 + (Math.random() - 0.5) * 2,\n                Math.sin((i / 8) * Math.PI * 2) * 4 + (Math.random() - 0.5) * 2,\n                -2 + Math.random()\n              ]}\n            >\n              <sphereGeometry args={[0.08, 8, 8]} />\n              <meshBasicMaterial color=\"#ffffff\" />\n            </mesh>\n          ))}\n        </group>\n\n        {/* Moon light */}\n        <pointLight color=\"#f5f5dc\" intensity={0.6} distance={35} />\n      </group>\n    </Float>\n  );\n};\n\n// Animated Clouds with enhanced dynamics\nconst AnimatedClouds: React.FC<{ density: number; color: string; isStorm: boolean }> = ({ density, color, isStorm }) => {\n  const cloudsRef = useRef<THREE.Group>(null);\n  const cloudDataRef = useRef<Array<{\n    baseY: number;\n    speed: number;\n    drift: number;\n    phase: number;\n    scaleBase: number;\n  }>>([]);\n\n  // Initialize cloud data\n  const cloudCount = Math.floor(density * 15);\n\n  if (cloudDataRef.current.length !== cloudCount) {\n    cloudDataRef.current = [...Array(cloudCount)].map(() => ({\n      baseY: 10 + Math.random() * 8,\n      speed: (0.01 + Math.random() * 0.02) * (isStorm ? 2 : 1),\n      drift: Math.random() * Math.PI * 2,\n      phase: Math.random() * Math.PI * 2,\n      scaleBase: 0.8 + Math.random() * 0.4,\n    }));\n  }\n\n  useFrame((state) => {\n    const time = state.clock.elapsedTime;\n\n    if (cloudsRef.current) {\n      cloudsRef.current.children.forEach((cloud, i) => {\n        const data = cloudDataRef.current[i];\n        if (!data) return;\n\n        // Horizontal movement with varying speeds\n        const direction = i % 2 === 0 ? 1 : -1;\n        cloud.position.x += data.speed * direction;\n\n        // Wrap around\n        if (cloud.position.x > 35) cloud.position.x = -35;\n        if (cloud.position.x < -35) cloud.position.x = 35;\n\n        // Vertical bobbing\n        cloud.position.y = data.baseY + Math.sin(time * 0.5 + data.phase) * 0.3;\n\n        // Subtle Z drift\n        cloud.position.z += Math.sin(time * 0.3 + data.drift) * 0.005;\n\n        // Breathing scale effect\n        const breathe = 1 + Math.sin(time * 0.8 + data.phase) * 0.05;\n        cloud.scale.setScalar(data.scaleBase * breathe);\n\n        // Storm clouds move faster and are more turbulent\n        if (isStorm) {\n          cloud.position.y += Math.sin(time * 2 + data.phase) * 0.1;\n          cloud.rotation.y = Math.sin(time * 0.5 + data.drift) * 0.1;\n        }\n      });\n    }\n  });\n\n  if (density === 0) return null;\n\n  return (\n    <group ref={cloudsRef}>\n      {[...Array(cloudCount)].map((_, i) => (\n        <Cloud\n          key={i}\n          position={[\n            (Math.random() - 0.5) * 60,\n            cloudDataRef.current[i]?.baseY ?? 12,\n            (Math.random() - 0.5) * 30 - 10\n          ]}\n          speed={isStorm ? 0.8 : 0.3}\n          opacity={isStorm ? 0.95 : 0.75}\n          color={color}\n          segments={isStorm ? 30 : 20}\n          bounds={isStorm ? [8, 3, 4] : [6, 2, 3]}\n          volume={isStorm ? 8 : 5}\n        />\n      ))}\n    </group>\n  );\n};\n\n// Animated Vegetation with wind effects\nconst Vegetation: React.FC<{ config: LandscapeConfig; windSpeed?: number }> = ({ config, windSpeed = 10 }) => {\n  const groupRef = useRef<THREE.Group>(null);\n\n  const items = useMemo(() => {\n    const count = Math.floor(config.vegetationDensity * 100);\n    const result = [];\n\n    for (let i = 0; i < count; i++) {\n      result.push({\n        position: [\n          (Math.random() - 0.5) * 40,\n          -1.5,\n          (Math.random() - 0.5) * 30\n        ] as [number, number, number],\n        scale: 0.5 + Math.random() * 0.5,\n        rotation: Math.random() * Math.PI * 2,\n        windPhase: Math.random() * Math.PI * 2,\n        windSensitivity: 0.5 + Math.random() * 0.5,\n      });\n    }\n\n    return result;\n  }, [config.vegetationDensity]);\n\n  // Normalize wind speed for animation (0-1 range)\n  const windIntensity = Math.min(windSpeed / 50, 1);\n\n  useFrame((state) => {\n    const time = state.clock.elapsedTime;\n\n    if (groupRef.current) {\n      groupRef.current.children.forEach((item, i) => {\n        const data = items[i];\n        if (!data) return;\n\n        // Wind sway effect\n        const windSway = Math.sin(time * 2 + data.windPhase) * windIntensity * data.windSensitivity * 0.15;\n        const gustEffect = Math.sin(time * 5 + data.windPhase * 2) * windIntensity * 0.05;\n\n        item.rotation.z = windSway + gustEffect;\n        item.rotation.x = windSway * 0.3;\n\n        // Subtle scale pulse for grass\n        if (config.vegetationType === 'grass') {\n          const scaleWave = 1 + Math.sin(time * 3 + data.windPhase) * 0.05 * windIntensity;\n          item.scale.y = data.scale * 2 * scaleWave;\n        }\n      });\n    }\n  });\n\n  if (!config.hasVegetation || config.vegetationType === 'none') return null;\n\n  const renderItem = (item: typeof items[0], index: number) => {\n    switch (config.vegetationType) {\n      case 'trees':\n        return (\n          <group key={index} position={item.position} rotation={[0, item.rotation, 0]} scale={item.scale}>\n            {/* Tree foliage with multiple layers */}\n            <mesh position={[0, 2.2, 0]}>\n              <coneGeometry args={[0.6, 1.5, 8]} />\n              <meshStandardMaterial color={config.vegetationColor} />\n            </mesh>\n            <mesh position={[0, 1.5, 0]}>\n              <coneGeometry args={[0.8, 2, 8]} />\n              <meshStandardMaterial color={config.vegetationColor} />\n            </mesh>\n            <mesh position={[0, 0.8, 0]}>\n              <coneGeometry args={[1, 2, 8]} />\n              <meshStandardMaterial color={config.vegetationColor} />\n            </mesh>\n            {/* Trunk */}\n            <mesh position={[0, 0, 0]}>\n              <cylinderGeometry args={[0.15, 0.22, 1.2, 8]} />\n              <meshStandardMaterial color=\"#4a3728\" />\n            </mesh>\n          </group>\n        );\n      case 'palms':\n        return (\n          <group key={index} position={item.position} rotation={[0, item.rotation, 0]} scale={item.scale}>\n            {/* Palm fronds */}\n            {[...Array(6)].map((_, j) => (\n              <mesh\n                key={j}\n                position={[\n                  Math.cos((j / 6) * Math.PI * 2) * 0.3,\n                  2.3,\n                  Math.sin((j / 6) * Math.PI * 2) * 0.3\n                ]}\n                rotation={[0.8, (j / 6) * Math.PI * 2, 0]}\n              >\n                <boxGeometry args={[0.15, 1.5, 0.02]} />\n                <meshStandardMaterial color={config.vegetationColor} />\n              </mesh>\n            ))}\n            {/* Trunk */}\n            <mesh position={[0, 1, 0]}>\n              <cylinderGeometry args={[0.08, 0.15, 2.5, 8]} />\n              <meshStandardMaterial color=\"#8b7355\" />\n            </mesh>\n          </group>\n        );\n      case 'cactus':\n        return (\n          <group key={index} position={item.position} rotation={[0, item.rotation, 0]} scale={item.scale}>\n            <mesh position={[0, 1, 0]}>\n              <cylinderGeometry args={[0.2, 0.25, 2, 8]} />\n              <meshStandardMaterial color={config.vegetationColor} />\n            </mesh>\n            {/* Arms */}\n            <mesh position={[0.35, 1.3, 0]} rotation={[0, 0, -0.6]}>\n              <cylinderGeometry args={[0.1, 0.12, 0.9, 8]} />\n              <meshStandardMaterial color={config.vegetationColor} />\n            </mesh>\n            <mesh position={[-0.3, 0.9, 0]} rotation={[0, 0, 0.5]}>\n              <cylinderGeometry args={[0.08, 0.1, 0.6, 8]} />\n              <meshStandardMaterial color={config.vegetationColor} />\n            </mesh>\n          </group>\n        );\n      case 'grass':\n      default:\n        return (\n          <group key={index} position={item.position}>\n            {/* Multiple grass blades */}\n            {[...Array(3)].map((_, j) => (\n              <mesh\n                key={j}\n                position={[(j - 1) * 0.05, 0, (j - 1) * 0.03]}\n                scale={[item.scale * (0.8 + j * 0.1), item.scale * 2 * (0.9 + j * 0.1), item.scale]}\n                rotation={[0, item.rotation + j * 0.3, 0]}\n              >\n                <coneGeometry args={[0.08, 0.5, 4]} />\n                <meshStandardMaterial color={config.vegetationColor} />\n              </mesh>\n            ))}\n          </group>\n        );\n    }\n  };\n\n  return <group ref={groupRef}>{items.map(renderItem)}</group>;\n};\n\n// Scene Setup\nconst SceneSetup: React.FC<{ config: LandscapeConfig }> = ({ config }) => {\n  const { scene } = useThree();\n\n  useEffect(() => {\n    scene.fog = new THREE.FogExp2(config.fogColor, config.fogDensity);\n    scene.background = new THREE.Color(config.skyColor);\n  }, [config, scene]);\n\n  return null;\n};\n\n// ============================================================================\n// MAIN LANDSCAPE COMPONENT\n// ============================================================================\n\ninterface LandscapeEngineProps {\n  weatherParams: WeatherParams;\n  className?: string;\n}\n\nexport const LandscapeEngine: React.FC<LandscapeEngineProps> = ({ weatherParams, className }) => {\n  const config = useMemo(() => selectLandscape(weatherParams), [weatherParams]);\n  const isSnow = config.weatherType === 'snow' || config.weatherType === 'heavy_snow';\n  const isRain = config.weatherType === 'rain' || config.weatherType === 'heavy_rain' || config.weatherType === 'storm';\n\n  return (\n    <div className={className} style={{ width: '100%', height: '100%', position: 'absolute', inset: 0 }}>\n      <Canvas\n        camera={{ position: [0, 5, 15], fov: 60 }}\n        gl={{ antialias: true, alpha: true }}\n        dpr={[1, 2]}\n        shadows\n      >\n        <SceneSetup config={config} />\n\n        {/* Lighting */}\n        <ambientLight intensity={config.ambientIntensity} color={config.lightColor} />\n        <directionalLight\n          position={config.sunPosition}\n          intensity={config.sunIntensity}\n          color={config.lightColor}\n          castShadow\n          shadow-mapSize={[2048, 2048]}\n        />\n\n        {/* Sky */}\n        {config.skyType === 'day' && (\n          <Sky sunPosition={config.sunPosition} turbidity={8} rayleigh={2} />\n        )}\n        {config.skyType === 'night' && (\n          <Stars radius={100} depth={50} count={5000} factor={4} saturation={0} fade speed={1} />\n        )}\n\n        {/* Celestial Bodies */}\n        <AnimatedSun position={config.sunPosition} intensity={config.sunIntensity} />\n        <AnimatedMoon active={config.skyType === 'night'} />\n\n        {/* Terrain & Environment */}\n        <AnimatedTerrain config={config} />\n        <AnimatedMountains config={config} />\n        <AnimatedWater config={config} />\n        <Vegetation config={config} windSpeed={weatherParams.windSpeed} />\n\n        {/* Weather Effects */}\n        <AnimatedClouds\n          density={config.cloudDensity}\n          color={config.cloudColor}\n          isStorm={config.weatherType === 'storm'}\n        />\n        {isRain && <RainEffect intensity={config.precipitationIntensity} />}\n        {isSnow && <SnowEffect intensity={config.precipitationIntensity} />}\n        <LightningEffect active={config.hasLightning} />\n        <AuroraEffect active={config.hasAurora} />\n      </Canvas>\n    </div>\n  );\n};\n\nexport { generateLandscapeConfigs };\nexport type { LandscapeConfig };\n"],"names":["generateLandscapeConfigs","configs","id","biomes","weathers","times","biome","weather","time","config","createLandscapeConfig","blendColors","color1","color2","ratio","hex","c","r","h","g","b","h1","h2","nr","ng","nb","selectLandscape","params","targetBiome","targetWeather","code","targetTime","bestMatch","bestScore","score","AnimatedTerrain","meshRef","useRef","geometry","useMemo","geo","THREE.PlaneGeometry","positions","i","x","y","height","jsxs","jsx","AnimatedMountains","mountains","mts","angle","distance","mt","AnimatedWater","useFrame","state","wave","RainEffect","intensity","rainRef","count","velocities","pos","vel","SnowEffect","snowRef","drifts","dft","LightningEffect","active","lightRef","flash","setFlash","React","useEffect","flashInterval","AuroraEffect","material","AnimatedSun","position","sunRef","raysRef","innerRaysRef","glowRef","coronaRef","pulse","rayPulse","innerPulse","glowPulse","coronaScale","scaledPosition","Float","_","AnimatedMoon","moonRef","haloRef","starsNearRef","haloPulse","star","twinkle","THREE.DoubleSide","AnimatedClouds","density","color","isStorm","cloudsRef","cloudDataRef","cloudCount","cloud","data","direction","breathe","Cloud","_a","Vegetation","windSpeed","groupRef","items","result","windIntensity","item","windSway","gustEffect","scaleWave","renderItem","index","j","SceneSetup","scene","useThree","THREE.FogExp2","THREE.Color","LandscapeEngine","weatherParams","className","isSnow","isRain","Canvas","Sky","Stars"],"mappings":"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"}