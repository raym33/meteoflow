{"version":3,"mappings":"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AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAqiBN,GACJ,CAEJ,EAGMqX,GAAgB,IACpBrX,MAACoH,GAAA,CACC,eAACmL,GAAA,CACC,SAAAvS,MAAC0W,GAAA,EAAW,EACd,EACF,ECj1BF,QAAQ,IAAI,yBAAyB,EAErC,GAAI,CACF,MAAMY,EAAO,SAAS,eAAe,MAAM,EAC3C,QAAQ,IAAI,2BAA4BA,CAAI,EAExCA,GACFC,GAAS,WAAWD,CAAI,EAAE,aACvBE,GAAM,WAAN,CACC,SAAAxX,MAACqX,KAAI,EACP,GAEF,QAAQ,IAAI,4BAA4B,GAExC,QAAQ,MAAM,4CAA4C,CAE9D,OAASvZ,EAAO,CACd,QAAQ,MAAM,+BAAgCA,CAAK,EACnD,SAAS,KAAK,UAAY,kDAAkDA,CAAK,QACnF","names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","OPEN_METEO_BASE","AIR_QUALITY_BASE","MARINE_BASE","GEOCODING_BASE","getAQICategory","aqi","aqiCategoryLabels","searchLocations","query","response","data","result","fetchWeatherData","lat","lon","timezone","currentParams","hourlyParams","dailyParams","url","fetchAirQuality","fetchMarineData","parseCurrentWeather","parseHourlyForecast","time","i","parseDailyForecast","date","parseAirQuality","parseMarineData","getWeatherData","location","latitude","longitude","weatherResponse","airQualityResponse","marineResponse","getCurrentPosition","resolve","reject","reverseGeocode","windDirectionToCardinal","degrees","directions","index","formatDate","dateStr","options","formatTime","STORAGE_KEY","DARK_MODE_KEY","REFRESH_INTERVAL","DEFAULT_LOCATION","useWeather","setData","useState","loading","setLoading","error","setError","setLocationState","saved","searchResults","setSearchResults","searching","setSearching","fetchData","useCallback","loc","weatherData","err","setLocation","refresh","search","results","useCurrentLocation","position","useEffect","interval","useDarkMode","isDark","setIsDark","toggleDark","prev","newValue","mediaQuery","handleChange","SunIcon","size","className","color","jsxs","jsx","MoonIcon","WindIcon","DropletIcon","EyeIcon","SunriseIcon","SunsetIcon","CompassIcon","MapPinIcon","SearchIcon","RefreshIcon","WavesIcon","AirVentIcon","CrosshairIcon","LocationSearch","onSelect","onSearch","onUseCurrentLocation","currentLocation","setQuery","isOpen","setIsOpen","containerRef","useRef","inputRef","debounceRef","handleClickOutside","event","handleInputChange","value","handleSelect","handleCurrentLocation","fetchHistoricalData","type","days","endDate","startDate","variable","times","_a","values","_b","generateMockData","baseValues","base","variance","HistoryChart","unit","canvasRef","hoveredPoint","setHoveredPoint","canvas","ctx","dpr","rect","width","height","padding","chartWidth","chartHeight","minVal","maxVal","range","style","textColor","borderColor","y","step","x","label","gradient","handleMouseMove","pointX","handleMouseLeave","HistoricalModal","onClose","title","currentValue","period","setPeriod","modalRef","handleEscape","handleBackdropClick","getColor","stats","sum","Fragment","ClickableValue","children","isModalOpen","setIsModalOpen","AnimatedSun","_","AnimatedMoon","star","AnimatedCloud","dark","AnimatedRain","heavy","dropCount","AnimatedSnow","flakeCount","AnimatedThunder","AnimatedFog","line","AnimatedPartlyCloudy","isDay","WeatherIconAnimated","weatherCode","languageNames","languageFlags","translations","LanguageContext","createContext","detectBrowserLanguage","browserLang","LanguageProvider","language","setLanguageState","lang","useLanguage","context","useContext","CurrentWeatherCard","weather","airQuality","lastUpdated","t","getWeatherDescription","code","aqiInfo","category","labelMap","getTempColor","temp","uvInfo","uv","HourlyForecastCard","hours","selectedIndex","setSelectedIndex","displayHours","numPoints","formatHour","timeStr","originalIndex","hour","temps","minTemp","maxTemp","tempRange","getY","getX","createPath","points","path","curr","cpx","createAreaPath","linePath","lastX","firstX","selectedHour","DailyForecastCard","expandedDay","setExpandedDay","allTemps","getDayName","getDateStr","getBarPosition","min","max","left","right","getGradient","toggleDay","day","isExpanded","InfoCardStyles","AirQualityCard","pollutants","getBarColor","ratio","SunTimesCard","today","sunrise","sunset","now","dayLength","elapsed","progress","dayHours","dayMins","uvLevel","uvColor","uvAdvice","WindCard","cardinal","windLevel","speed","MarineCard","marine","waveHeight","wavePeriod","waveDirection","swellHeight","seaTemperature","waveCardinal","condition","fetchEarthquakes","radiusKm","minMagnitude","endTime","startTime","params","eq","eqLon","eqLat","distance","calculateDistance","severity","mapNWSSeverity","mapNWSEventType","fetchNWSAlerts","pointResponse","zone","alertsResponse","alert","getWeatherAlerts","temperature","windSpeed","_precipitation","alerts","fetchAllAlerts","earthquakes","nwsAlerts","weatherAlerts","getSeverityWeight","lat1","lon1","lat2","lon2","dLat","toRad","dLon","deg","getAlertIcon","getAlertColor","getSeverityLabel","AlertsCard","precipitation","setAlerts","expandedId","setExpandedId","loadAlerts","toggleExpand","id","isoString","count","RainRadarCard","radarFrames","setRadarFrames","currentFrame","setCurrentFrame","isPlaying","setIsPlaying","mapRef","intervalRef","fetchRadarData","past","nowcast","frames","frame","refreshInterval","timestamp","getFrameLabel","pastCount","zoom","tileSize","getTileCoords","latRad","tileX","tileY","tiles","currentRadarPath","radarLabels","labels","dx","dy","LanguageSelector","setLanguage","availableLanguages","dropdownRef","getScreenInfo","ScreenContext","ScreenProvider","screen","setScreen","handleResize","useScreen","getColumnCount","screenType","getCardSpan","DraggableCard","onSizeChange","onDragStart","onDragEnd","onDragOver","onDragLeave","onDrop","onTouchStart","isDragging","draggedOver","cardRef","isResizing","setIsResizing","handleDragStart","handleDragEnd","toggleSize","span","DraggableGrid","cards","onReorder","renderCard","draggedId","setDraggedId","dragOverId","setDragOverId","gridRef","columns","handleDragOver","targetId","handleDragLeave","handleDrop","sourceId","newCards","sourceIndex","targetIndex","removed","card","touchStartPos","handleTouchStart","cardId","touch","timer","cleanup","handleTouchMove","moveEvent","moveTouch","visibleCards","config","ScreenInfoDisplay","saveCardLayout","loadCardLayout","defaultCards","parsed","defaultCard","savedCard","LandscapeEngine","lazy","__vitePreload","DEFAULT_CARDS","AppContent","setCards","isEditMode","setIsEditMode","handleSizeChange","toggleCardVisibility","handleReorder","reorderedCards","resetLayout","renderCardContent","Suspense","App","root","ReactDOM","React"],"ignoreList":[0,1],"sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../src/services/weatherApi.ts","../../src/hooks/useWeather.ts","../../src/components/Icons.tsx","../../src/components/LocationSearch.tsx","../../src/components/HistoricalModal.tsx","../../src/components/WeatherIconAnimated.tsx","../../src/i18n/translations.ts","../../src/i18n/LanguageContext.tsx","../../src/components/CurrentWeatherCard.tsx","../../src/components/HourlyForecast.tsx","../../src/components/DailyForecast.tsx","../../src/components/InfoCards.tsx","../../src/services/alertsApi.ts","../../src/components/AlertsCard.tsx","../../src/components/RainRadar.tsx","../../src/components/LanguageSelector.tsx","../../src/components/DraggableGrid.tsx","../../src/App.tsx","../../src/index.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","import type {\n  WeatherData,\n  CurrentWeather,\n  HourlyForecast,\n  DailyForecast,\n  AirQuality,\n  MarineData,\n  Location,\n  OpenMeteoCurrentResponse,\n  OpenMeteoAirQualityResponse,\n  OpenMeteoMarineResponse,\n} from '../types/weather';\n\nconst OPEN_METEO_BASE = 'https://api.open-meteo.com/v1';\nconst AIR_QUALITY_BASE = 'https://air-quality-api.open-meteo.com/v1';\nconst MARINE_BASE = 'https://marine-api.open-meteo.com/v1';\nconst GEOCODING_BASE = 'https://geocoding-api.open-meteo.com/v1';\n\n// Weather code to description mapping\nexport const weatherCodeMap: Record<number, { description: string; icon: string }> = {\n  0: { description: 'Despejado', icon: 'sun' },\n  1: { description: 'Mayormente despejado', icon: 'sun' },\n  2: { description: 'Parcialmente nublado', icon: 'cloud-sun' },\n  3: { description: 'Nublado', icon: 'cloud' },\n  45: { description: 'Niebla', icon: 'fog' },\n  48: { description: 'Niebla helada', icon: 'fog' },\n  51: { description: 'Llovizna ligera', icon: 'cloud-drizzle' },\n  53: { description: 'Llovizna moderada', icon: 'cloud-drizzle' },\n  55: { description: 'Llovizna intensa', icon: 'cloud-drizzle' },\n  56: { description: 'Llovizna helada ligera', icon: 'cloud-drizzle' },\n  57: { description: 'Llovizna helada intensa', icon: 'cloud-drizzle' },\n  61: { description: 'Lluvia ligera', icon: 'cloud-rain' },\n  63: { description: 'Lluvia moderada', icon: 'cloud-rain' },\n  65: { description: 'Lluvia intensa', icon: 'cloud-rain' },\n  66: { description: 'Lluvia helada ligera', icon: 'cloud-rain' },\n  67: { description: 'Lluvia helada intensa', icon: 'cloud-rain' },\n  71: { description: 'Nevada ligera', icon: 'cloud-snow' },\n  73: { description: 'Nevada moderada', icon: 'cloud-snow' },\n  75: { description: 'Nevada intensa', icon: 'cloud-snow' },\n  77: { description: 'Granizo', icon: 'cloud-snow' },\n  80: { description: 'Chubascos ligeros', icon: 'cloud-rain' },\n  81: { description: 'Chubascos moderados', icon: 'cloud-rain' },\n  82: { description: 'Chubascos violentos', icon: 'cloud-rain' },\n  85: { description: 'Nevadas ligeras', icon: 'cloud-snow' },\n  86: { description: 'Nevadas intensas', icon: 'cloud-snow' },\n  95: { description: 'Tormenta', icon: 'cloud-lightning' },\n  96: { description: 'Tormenta con granizo ligero', icon: 'cloud-lightning' },\n  99: { description: 'Tormenta con granizo intenso', icon: 'cloud-lightning' },\n};\n\n// AQI category mapping\nfunction getAQICategory(aqi: number): AirQuality['category'] {\n  if (aqi <= 20) return 'good';\n  if (aqi <= 40) return 'moderate';\n  if (aqi <= 60) return 'unhealthy-sensitive';\n  if (aqi <= 80) return 'unhealthy';\n  if (aqi <= 100) return 'very-unhealthy';\n  return 'hazardous';\n}\n\nexport const aqiCategoryLabels: Record<AirQuality['category'], { label: string; color: string }> = {\n  'good': { label: 'Bueno', color: '#22c55e' },\n  'moderate': { label: 'Moderado', color: '#eab308' },\n  'unhealthy-sensitive': { label: 'Daino para sensibles', color: '#f97316' },\n  'unhealthy': { label: 'Daino', color: '#ef4444' },\n  'very-unhealthy': { label: 'Muy daino', color: '#a855f7' },\n  'hazardous': { label: 'Peligroso', color: '#7f1d1d' },\n};\n\n// Search locations\nexport async function searchLocations(query: string): Promise<Location[]> {\n  const response = await fetch(\n    `${GEOCODING_BASE}/search?name=${encodeURIComponent(query)}&count=10&language=es&format=json`\n  );\n\n  if (!response.ok) throw new Error('Error buscando ubicaciones');\n\n  const data = await response.json();\n\n  if (!data.results) return [];\n\n  return data.results.map((result: { name: string; admin1?: string; country?: string; latitude: number; longitude: number; timezone?: string }) => ({\n    name: result.name,\n    region: result.admin1 || '',\n    country: result.country || '',\n    latitude: result.latitude,\n    longitude: result.longitude,\n    timezone: result.timezone || 'Europe/Madrid',\n  }));\n}\n\n// Fetch weather data from Open-Meteo\nasync function fetchWeatherData(lat: number, lon: number, timezone: string): Promise<OpenMeteoCurrentResponse> {\n  const currentParams = [\n    'temperature_2m',\n    'relative_humidity_2m',\n    'apparent_temperature',\n    'precipitation',\n    'rain',\n    'weather_code',\n    'pressure_msl',\n    'wind_speed_10m',\n    'wind_direction_10m',\n    'wind_gusts_10m',\n    'uv_index',\n    'cloud_cover',\n    'visibility',\n    'dew_point_2m',\n    'is_day',\n  ].join(',');\n\n  const hourlyParams = [\n    'temperature_2m',\n    'precipitation',\n    'precipitation_probability',\n    'weather_code',\n    'wind_speed_10m',\n    'relative_humidity_2m',\n  ].join(',');\n\n  const dailyParams = [\n    'temperature_2m_max',\n    'temperature_2m_min',\n    'precipitation_sum',\n    'precipitation_probability_max',\n    'weather_code',\n    'wind_speed_10m_max',\n    'sunrise',\n    'sunset',\n    'uv_index_max',\n  ].join(',');\n\n  const url = `${OPEN_METEO_BASE}/forecast?latitude=${lat}&longitude=${lon}&current=${currentParams}&hourly=${hourlyParams}&daily=${dailyParams}&timezone=${timezone}&forecast_days=10`;\n\n  const response = await fetch(url);\n  if (!response.ok) throw new Error('Error obteniendo datos meteorolgicos');\n  return response.json();\n}\n\n// Fetch air quality data\nasync function fetchAirQuality(lat: number, lon: number, timezone: string): Promise<OpenMeteoAirQualityResponse> {\n  const currentParams = [\n    'european_aqi',\n    'pm2_5',\n    'pm10',\n    'nitrogen_dioxide',\n    'ozone',\n    'sulphur_dioxide',\n    'carbon_monoxide',\n  ].join(',');\n\n  const url = `${AIR_QUALITY_BASE}/air-quality?latitude=${lat}&longitude=${lon}&current=${currentParams}&timezone=${timezone}`;\n\n  const response = await fetch(url);\n  if (!response.ok) throw new Error('Error obteniendo calidad del aire');\n  return response.json();\n}\n\n// Fetch marine data (for coastal locations)\nasync function fetchMarineData(lat: number, lon: number, timezone: string): Promise<OpenMeteoMarineResponse | null> {\n  try {\n    const currentParams = [\n      'wave_height',\n      'wave_period',\n      'wave_direction',\n      'swell_wave_height',\n      'swell_wave_direction',\n    ].join(',');\n\n    const url = `${MARINE_BASE}/marine?latitude=${lat}&longitude=${lon}&current=${currentParams}&timezone=${timezone}`;\n\n    const response = await fetch(url);\n    if (!response.ok) return null;\n    return response.json();\n  } catch {\n    return null;\n  }\n}\n\n// Parse weather response to CurrentWeather\nfunction parseCurrentWeather(data: OpenMeteoCurrentResponse['current']): CurrentWeather {\n  return {\n    temperature: data.temperature_2m,\n    apparentTemperature: data.apparent_temperature,\n    humidity: data.relative_humidity_2m,\n    pressure: data.pressure_msl,\n    windSpeed: data.wind_speed_10m,\n    windDirection: data.wind_direction_10m,\n    windGusts: data.wind_gusts_10m,\n    precipitation: data.precipitation,\n    rain: data.rain,\n    weatherCode: data.weather_code,\n    uvIndex: data.uv_index,\n    cloudCover: data.cloud_cover,\n    visibility: data.visibility,\n    dewPoint: data.dew_point_2m,\n    isDay: data.is_day === 1,\n  };\n}\n\n// Parse hourly forecast\nfunction parseHourlyForecast(data: OpenMeteoCurrentResponse['hourly']): HourlyForecast[] {\n  return data.time.slice(0, 48).map((time, i) => ({\n    time,\n    temperature: data.temperature_2m[i],\n    precipitation: data.precipitation[i],\n    precipitationProbability: data.precipitation_probability[i],\n    weatherCode: data.weather_code[i],\n    windSpeed: data.wind_speed_10m[i],\n    humidity: data.relative_humidity_2m[i],\n  }));\n}\n\n// Parse daily forecast\nfunction parseDailyForecast(data: OpenMeteoCurrentResponse['daily']): DailyForecast[] {\n  return data.time.map((date, i) => ({\n    date,\n    temperatureMax: data.temperature_2m_max[i],\n    temperatureMin: data.temperature_2m_min[i],\n    precipitationSum: data.precipitation_sum[i],\n    precipitationProbability: data.precipitation_probability_max[i],\n    weatherCode: data.weather_code[i],\n    windSpeedMax: data.wind_speed_10m_max[i],\n    sunrise: data.sunrise[i],\n    sunset: data.sunset[i],\n    uvIndexMax: data.uv_index_max[i],\n  }));\n}\n\n// Parse air quality\nfunction parseAirQuality(data: OpenMeteoAirQualityResponse['current']): AirQuality {\n  const aqi = data.european_aqi;\n  return {\n    aqi,\n    pm25: data.pm2_5,\n    pm10: data.pm10,\n    no2: data.nitrogen_dioxide,\n    o3: data.ozone,\n    so2: data.sulphur_dioxide,\n    co: data.carbon_monoxide,\n    category: getAQICategory(aqi),\n  };\n}\n\n// Parse marine data\nfunction parseMarineData(data: OpenMeteoMarineResponse['current']): MarineData {\n  return {\n    waveHeight: data.wave_height,\n    wavePeriod: data.wave_period,\n    waveDirection: data.wave_direction,\n    seaTemperature: data.sea_surface_temperature || 0,\n    swellHeight: data.swell_wave_height,\n    swellDirection: data.swell_wave_direction,\n  };\n}\n\n// Main function to get all weather data\nexport async function getWeatherData(location: Location): Promise<WeatherData> {\n  const { latitude, longitude, timezone } = location;\n\n  const [weatherResponse, airQualityResponse, marineResponse] = await Promise.all([\n    fetchWeatherData(latitude, longitude, timezone),\n    fetchAirQuality(latitude, longitude, timezone),\n    fetchMarineData(latitude, longitude, timezone),\n  ]);\n\n  return {\n    location,\n    current: parseCurrentWeather(weatherResponse.current),\n    hourly: parseHourlyForecast(weatherResponse.hourly),\n    daily: parseDailyForecast(weatherResponse.daily),\n    airQuality: parseAirQuality(airQualityResponse.current),\n    marine: marineResponse ? parseMarineData(marineResponse.current) : undefined,\n    lastUpdated: new Date().toISOString(),\n  };\n}\n\n// Get current location\nexport function getCurrentPosition(): Promise<GeolocationPosition> {\n  return new Promise((resolve, reject) => {\n    if (!navigator.geolocation) {\n      reject(new Error('Geolocation not supported'));\n      return;\n    }\n    navigator.geolocation.getCurrentPosition(resolve, reject, {\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 300000,\n    });\n  });\n}\n\n// Reverse geocoding\nexport async function reverseGeocode(lat: number, lon: number): Promise<Location> {\n  // Open-Meteo doesn't support reverse geocoding directly\n  // We'll use a simple approach with the coordinates\n  return {\n    name: 'Mi ubicacin',\n    region: '',\n    country: '',\n    latitude: lat,\n    longitude: lon,\n    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n  };\n}\n\n// Wind direction to cardinal\nexport function windDirectionToCardinal(degrees: number): string {\n  const directions = ['N', 'NNE', 'NE', 'ENE', 'E', 'ESE', 'SE', 'SSE', 'S', 'SSO', 'SO', 'OSO', 'O', 'ONO', 'NO', 'NNO'];\n  const index = Math.round(degrees / 22.5) % 16;\n  return directions[index];\n}\n\n// Format date\nexport function formatDate(dateStr: string, options?: Intl.DateTimeFormatOptions): string {\n  return new Date(dateStr).toLocaleDateString('es-ES', options);\n}\n\n// Format time\nexport function formatTime(dateStr: string): string {\n  return new Date(dateStr).toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' });\n}\n","import { useState, useEffect, useCallback } from 'react';\nimport type { WeatherData, Location } from '../types/weather';\nimport { getWeatherData, searchLocations, getCurrentPosition, reverseGeocode } from '../services/weatherApi';\n\nconst STORAGE_KEY = 'meteoflow_location';\nconst DARK_MODE_KEY = 'meteoflow_dark_mode';\nconst REFRESH_INTERVAL = 5 * 60 * 1000; // 5 minutes\n\n// Default location (Madrid)\nconst DEFAULT_LOCATION: Location = {\n  name: 'Madrid',\n  region: 'Comunidad de Madrid',\n  country: 'Espaa',\n  latitude: 40.4168,\n  longitude: -3.7038,\n  timezone: 'Europe/Madrid',\n};\n\nexport function useWeather() {\n  const [data, setData] = useState<WeatherData | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [location, setLocationState] = useState<Location>(() => {\n    try {\n      const saved = localStorage.getItem(STORAGE_KEY);\n      return saved ? JSON.parse(saved) : DEFAULT_LOCATION;\n    } catch {\n      return DEFAULT_LOCATION;\n    }\n  });\n  const [searchResults, setSearchResults] = useState<Location[]>([]);\n  const [searching, setSearching] = useState(false);\n\n  // Fetch weather data\n  const fetchData = useCallback(async (loc: Location) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const weatherData = await getWeatherData(loc);\n      setData(weatherData);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Error desconocido');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Set location\n  const setLocation = useCallback((loc: Location) => {\n    setLocationState(loc);\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(loc));\n    setSearchResults([]);\n    fetchData(loc);\n  }, [fetchData]);\n\n  // Refresh data\n  const refresh = useCallback(() => {\n    fetchData(location);\n  }, [fetchData, location]);\n\n  // Search locations\n  const search = useCallback(async (query: string) => {\n    if (query.length < 2) {\n      setSearchResults([]);\n      return;\n    }\n    setSearching(true);\n    try {\n      const results = await searchLocations(query);\n      setSearchResults(results);\n    } catch {\n      setSearchResults([]);\n    } finally {\n      setSearching(false);\n    }\n  }, []);\n\n  // Use current location\n  const useCurrentLocation = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const position = await getCurrentPosition();\n      const { latitude, longitude } = position.coords;\n      const loc = await reverseGeocode(latitude, longitude);\n      setLocation(loc);\n    } catch (err) {\n      setError('No se pudo obtener tu ubicacin. Por favor, permite el acceso o busca una ciudad.');\n      setLoading(false);\n    }\n  }, [setLocation]);\n\n  // Initial load\n  useEffect(() => {\n    fetchData(location);\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // Auto refresh\n  useEffect(() => {\n    const interval = setInterval(refresh, REFRESH_INTERVAL);\n    return () => clearInterval(interval);\n  }, [refresh]);\n\n  return {\n    data,\n    loading,\n    error,\n    location,\n    setLocation,\n    refresh,\n    searchResults,\n    search,\n    searching,\n    useCurrentLocation,\n  };\n}\n\nexport function useDarkMode(): [boolean, () => void] {\n  const [isDark, setIsDark] = useState(() => {\n    try {\n      const saved = localStorage.getItem(DARK_MODE_KEY);\n      if (saved !== null) return saved === 'true';\n      return window.matchMedia('(prefers-color-scheme: dark)').matches;\n    } catch {\n      return false;\n    }\n  });\n\n  const toggleDark = useCallback(() => {\n    setIsDark(prev => {\n      const newValue = !prev;\n      localStorage.setItem(DARK_MODE_KEY, String(newValue));\n      return newValue;\n    });\n  }, []);\n\n  // Listen for system preference changes\n  useEffect(() => {\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n    const handleChange = (e: MediaQueryListEvent) => {\n      const saved = localStorage.getItem(DARK_MODE_KEY);\n      if (saved === null) {\n        setIsDark(e.matches);\n      }\n    };\n    mediaQuery.addEventListener('change', handleChange);\n    return () => mediaQuery.removeEventListener('change', handleChange);\n  }, []);\n\n  return [isDark, toggleDark];\n}\n","import React from 'react';\n\ninterface IconProps {\n  size?: number;\n  className?: string;\n  color?: string;\n}\n\nexport const SunIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <circle cx=\"12\" cy=\"12\" r=\"5\" />\n    <line x1=\"12\" y1=\"1\" x2=\"12\" y2=\"3\" />\n    <line x1=\"12\" y1=\"21\" x2=\"12\" y2=\"23\" />\n    <line x1=\"4.22\" y1=\"4.22\" x2=\"5.64\" y2=\"5.64\" />\n    <line x1=\"18.36\" y1=\"18.36\" x2=\"19.78\" y2=\"19.78\" />\n    <line x1=\"1\" y1=\"12\" x2=\"3\" y2=\"12\" />\n    <line x1=\"21\" y1=\"12\" x2=\"23\" y2=\"12\" />\n    <line x1=\"4.22\" y1=\"19.78\" x2=\"5.64\" y2=\"18.36\" />\n    <line x1=\"18.36\" y1=\"5.64\" x2=\"19.78\" y2=\"4.22\" />\n  </svg>\n);\n\nexport const MoonIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z\" />\n  </svg>\n);\n\nexport const CloudIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z\" />\n  </svg>\n);\n\nexport const CloudSunIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M12 2v2\" />\n    <path d=\"m4.93 4.93 1.41 1.41\" />\n    <path d=\"M20 12h2\" />\n    <path d=\"m19.07 4.93-1.41 1.41\" />\n    <path d=\"M15.947 12.65a4 4 0 0 0-5.925-4.128\" />\n    <path d=\"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z\" />\n  </svg>\n);\n\nexport const CloudRainIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242\" />\n    <path d=\"M16 14v6\" />\n    <path d=\"M8 14v6\" />\n    <path d=\"M12 16v6\" />\n  </svg>\n);\n\nexport const CloudDrizzleIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242\" />\n    <path d=\"M8 19v1\" />\n    <path d=\"M8 14v1\" />\n    <path d=\"M16 19v1\" />\n    <path d=\"M16 14v1\" />\n    <path d=\"M12 21v1\" />\n    <path d=\"M12 16v1\" />\n  </svg>\n);\n\nexport const CloudSnowIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242\" />\n    <path d=\"M8 15h.01\" />\n    <path d=\"M8 19h.01\" />\n    <path d=\"M12 17h.01\" />\n    <path d=\"M12 21h.01\" />\n    <path d=\"M16 15h.01\" />\n    <path d=\"M16 19h.01\" />\n  </svg>\n);\n\nexport const CloudLightningIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973\" />\n    <path d=\"m13 12-3 5h4l-3 5\" />\n  </svg>\n);\n\nexport const CloudFogIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242\" />\n    <path d=\"M16 17H7\" />\n    <path d=\"M17 21H9\" />\n  </svg>\n);\n\nexport const WindIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2\" />\n    <path d=\"M9.6 4.6A2 2 0 1 1 11 8H2\" />\n    <path d=\"M12.6 19.4A2 2 0 1 0 14 16H2\" />\n  </svg>\n);\n\nexport const DropletIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z\" />\n  </svg>\n);\n\nexport const ThermometerIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z\" />\n  </svg>\n);\n\nexport const GaugeIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"m12 14 4-4\" />\n    <path d=\"M3.34 19a10 10 0 1 1 17.32 0\" />\n  </svg>\n);\n\nexport const EyeIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z\" />\n    <circle cx=\"12\" cy=\"12\" r=\"3\" />\n  </svg>\n);\n\nexport const SunriseIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M12 2v8\" />\n    <path d=\"m4.93 10.93 1.41 1.41\" />\n    <path d=\"M2 18h2\" />\n    <path d=\"M20 18h2\" />\n    <path d=\"m19.07 10.93-1.41 1.41\" />\n    <path d=\"M22 22H2\" />\n    <path d=\"m8 6 4-4 4 4\" />\n    <path d=\"M16 18a4 4 0 0 0-8 0\" />\n  </svg>\n);\n\nexport const SunsetIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M12 10V2\" />\n    <path d=\"m4.93 10.93 1.41 1.41\" />\n    <path d=\"M2 18h2\" />\n    <path d=\"M20 18h2\" />\n    <path d=\"m19.07 10.93-1.41 1.41\" />\n    <path d=\"M22 22H2\" />\n    <path d=\"m16 6-4 4-4-4\" />\n    <path d=\"M16 18a4 4 0 0 0-8 0\" />\n  </svg>\n);\n\nexport const UmbrellaIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M22 12a10.06 10.06 1 0 0-20 0Z\" />\n    <path d=\"M12 12v8a2 2 0 0 0 4 0\" />\n    <path d=\"M12 2v1\" />\n  </svg>\n);\n\nexport const NavigationIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <polygon points=\"3 11 22 2 13 21 11 13 3 11\" />\n  </svg>\n);\n\nexport const CompassIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <circle cx=\"12\" cy=\"12\" r=\"10\" />\n    <polygon points=\"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76\" />\n  </svg>\n);\n\nexport const MapPinIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z\" />\n    <circle cx=\"12\" cy=\"10\" r=\"3\" />\n  </svg>\n);\n\nexport const SearchIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <circle cx=\"11\" cy=\"11\" r=\"8\" />\n    <line x1=\"21\" y1=\"21\" x2=\"16.65\" y2=\"16.65\" />\n  </svg>\n);\n\nexport const RefreshIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\" />\n    <path d=\"M3 3v5h5\" />\n    <path d=\"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16\" />\n    <path d=\"M16 16h5v5\" />\n  </svg>\n);\n\nexport const WavesIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1\" />\n    <path d=\"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1\" />\n    <path d=\"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1\" />\n  </svg>\n);\n\nexport const AirVentIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <path d=\"M6 12H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2\" />\n    <path d=\"M6 8h12\" />\n    <path d=\"M18.3 17.7a2.5 2.5 0 0 1-3.16 3.83 2.53 2.53 0 0 1-1.14-2V12\" />\n    <path d=\"M6.6 15.6A2 2 0 1 0 10 17v-5\" />\n  </svg>\n);\n\nexport const CrosshairIcon: React.FC<IconProps> = ({ size = 24, className, color = 'currentColor' }) => (\n  <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className}>\n    <circle cx=\"12\" cy=\"12\" r=\"10\" />\n    <line x1=\"22\" y1=\"12\" x2=\"18\" y2=\"12\" />\n    <line x1=\"6\" y1=\"12\" x2=\"2\" y2=\"12\" />\n    <line x1=\"12\" y1=\"6\" x2=\"12\" y2=\"2\" />\n    <line x1=\"12\" y1=\"22\" x2=\"12\" y2=\"18\" />\n  </svg>\n);\n\n// Weather icon selector based on weather code\nexport const WeatherIcon: React.FC<IconProps & { weatherCode: number; isDay?: boolean }> = ({\n  weatherCode,\n  isDay = true,\n  size = 24,\n  className,\n  color = 'currentColor'\n}) => {\n  // Night icons for clear/partly cloudy\n  if (!isDay && weatherCode <= 2) {\n    return <MoonIcon size={size} className={className} color={color} />;\n  }\n\n  // Day/general icons\n  if (weatherCode === 0 || weatherCode === 1) {\n    return <SunIcon size={size} className={className} color={color} />;\n  }\n  if (weatherCode === 2) {\n    return <CloudSunIcon size={size} className={className} color={color} />;\n  }\n  if (weatherCode === 3) {\n    return <CloudIcon size={size} className={className} color={color} />;\n  }\n  if (weatherCode === 45 || weatherCode === 48) {\n    return <CloudFogIcon size={size} className={className} color={color} />;\n  }\n  if (weatherCode >= 51 && weatherCode <= 57) {\n    return <CloudDrizzleIcon size={size} className={className} color={color} />;\n  }\n  if (weatherCode >= 61 && weatherCode <= 67) {\n    return <CloudRainIcon size={size} className={className} color={color} />;\n  }\n  if (weatherCode >= 71 && weatherCode <= 77) {\n    return <CloudSnowIcon size={size} className={className} color={color} />;\n  }\n  if (weatherCode >= 80 && weatherCode <= 82) {\n    return <CloudRainIcon size={size} className={className} color={color} />;\n  }\n  if (weatherCode >= 85 && weatherCode <= 86) {\n    return <CloudSnowIcon size={size} className={className} color={color} />;\n  }\n  if (weatherCode >= 95) {\n    return <CloudLightningIcon size={size} className={className} color={color} />;\n  }\n\n  return <SunIcon size={size} className={className} color={color} />;\n};\n","import React, { useState, useRef, useEffect } from 'react';\nimport type { Location } from '../types/weather';\nimport { SearchIcon, MapPinIcon, CrosshairIcon } from './Icons';\n\ninterface LocationSearchProps {\n  onSelect: (location: Location) => void;\n  onSearch: (query: string) => void;\n  searchResults: Location[];\n  searching: boolean;\n  onUseCurrentLocation: () => void;\n  currentLocation: Location | null;\n}\n\nexport const LocationSearch: React.FC<LocationSearchProps> = ({\n  onSelect,\n  onSearch,\n  searchResults,\n  searching,\n  onUseCurrentLocation,\n  currentLocation,\n}) => {\n  const [query, setQuery] = useState('');\n  const [isOpen, setIsOpen] = useState(false);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n  const debounceRef = useRef<NodeJS.Timeout>();\n\n  // Handle outside clicks\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Debounced search\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    setQuery(value);\n    setIsOpen(true);\n\n    if (debounceRef.current) {\n      clearTimeout(debounceRef.current);\n    }\n\n    debounceRef.current = setTimeout(() => {\n      onSearch(value);\n    }, 300);\n  };\n\n  const handleSelect = (location: Location) => {\n    setQuery('');\n    setIsOpen(false);\n    onSelect(location);\n  };\n\n  const handleCurrentLocation = () => {\n    setQuery('');\n    setIsOpen(false);\n    onUseCurrentLocation();\n  };\n\n  return (\n    <div className=\"location-search\" ref={containerRef}>\n      <div className=\"search-input-container\">\n        <SearchIcon size={18} className=\"search-icon\" />\n        <input\n          ref={inputRef}\n          type=\"text\"\n          value={query}\n          onChange={handleInputChange}\n          onFocus={() => setIsOpen(true)}\n          placeholder=\"Buscar ciudad...\"\n          className=\"search-input\"\n        />\n        {currentLocation && (\n          <button\n            className=\"current-location-btn\"\n            onClick={() => setIsOpen(!isOpen)}\n            title={`${currentLocation.name}${currentLocation.country ? `, ${currentLocation.country}` : ''}`}\n          >\n            <MapPinIcon size={18} />\n          </button>\n        )}\n      </div>\n\n      {isOpen && (\n        <div className=\"search-dropdown\">\n          <button className=\"dropdown-item use-location\" onClick={handleCurrentLocation}>\n            <CrosshairIcon size={18} />\n            <span>Usar mi ubicacin</span>\n          </button>\n\n          {searching && (\n            <div className=\"dropdown-item loading\">\n              <span>Buscando...</span>\n            </div>\n          )}\n\n          {!searching && searchResults.length === 0 && query.length >= 2 && (\n            <div className=\"dropdown-item no-results\">\n              <span>No se encontraron resultados</span>\n            </div>\n          )}\n\n          {searchResults.map((location, index) => (\n            <button\n              key={`${location.latitude}-${location.longitude}-${index}`}\n              className=\"dropdown-item\"\n              onClick={() => handleSelect(location)}\n            >\n              <MapPinIcon size={16} />\n              <div className=\"location-info\">\n                <span className=\"location-name\">{location.name}</span>\n                <span className=\"location-region\">\n                  {[location.region, location.country].filter(Boolean).join(', ')}\n                </span>\n              </div>\n            </button>\n          ))}\n        </div>\n      )}\n\n      <style>{`\n        .location-search {\n          position: relative;\n          width: 100%;\n          max-width: min(320px, calc(100vw - 32px));\n        }\n\n        .search-input-container {\n          display: flex;\n          align-items: center;\n          background: var(--bg-elevated, var(--surface-elevated));\n          border: 1px solid var(--border, var(--border-color));\n          border-radius: var(--radius-lg, 12px);\n          padding: 0 clamp(10px, 2.5vw, 12px);\n          transition: all 0.2s ease;\n        }\n\n        .search-input-container:focus-within {\n          border-color: var(--accent, var(--accent-color));\n          box-shadow: 0 0 0 3px var(--accent-subtle, var(--accent-glow));\n        }\n\n        .search-icon {\n          color: var(--text-tertiary);\n          flex-shrink: 0;\n        }\n\n        .search-input {\n          flex: 1;\n          height: clamp(40px, 10vw, 44px);\n          border: none;\n          background: transparent;\n          color: var(--text-primary);\n          font-size: clamp(13px, 3.5vw, 14px);\n          padding: 0 clamp(8px, 2vw, 12px);\n          outline: none;\n          min-width: 0;\n        }\n\n        .search-input::placeholder {\n          color: var(--text-tertiary);\n        }\n\n        .current-location-btn {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: clamp(28px, 7vw, 32px);\n          height: clamp(28px, 7vw, 32px);\n          border: none;\n          background: var(--bg-subtle, var(--surface-hover));\n          border-radius: var(--radius-sm, 8px);\n          color: var(--text-secondary);\n          cursor: pointer;\n          transition: all 0.2s ease;\n          flex-shrink: 0;\n          -webkit-tap-highlight-color: transparent;\n        }\n\n        .current-location-btn:hover {\n          background: var(--accent, var(--accent-color));\n          color: white;\n        }\n\n        .search-dropdown {\n          position: absolute;\n          top: calc(100% + 8px);\n          left: 0;\n          right: 0;\n          background: var(--bg-elevated, var(--surface-elevated));\n          border: 1px solid var(--border, var(--border-color));\n          border-radius: var(--radius-lg, 12px);\n          box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);\n          overflow: hidden;\n          z-index: 100;\n          max-height: min(320px, 50vh);\n          overflow-y: auto;\n          -webkit-overflow-scrolling: touch;\n        }\n\n        .dropdown-item {\n          display: flex;\n          align-items: center;\n          gap: clamp(10px, 2.5vw, 12px);\n          width: 100%;\n          padding: clamp(10px, 2.5vw, 12px) clamp(12px, 3vw, 16px);\n          border: none;\n          background: transparent;\n          color: var(--text-primary);\n          font-size: clamp(13px, 3.5vw, 14px);\n          text-align: left;\n          cursor: pointer;\n          transition: background 0.15s ease;\n          -webkit-tap-highlight-color: transparent;\n        }\n\n        .dropdown-item:hover {\n          background: var(--bg-subtle, var(--surface-hover));\n        }\n\n        .dropdown-item.use-location {\n          border-bottom: 1px solid var(--border, var(--border-color));\n          color: var(--accent, var(--accent-color));\n          font-weight: 500;\n        }\n\n        .dropdown-item.loading,\n        .dropdown-item.no-results {\n          color: var(--text-tertiary);\n          cursor: default;\n        }\n\n        .dropdown-item.loading:hover,\n        .dropdown-item.no-results:hover {\n          background: transparent;\n        }\n\n        .location-info {\n          display: flex;\n          flex-direction: column;\n          gap: 2px;\n          overflow: hidden;\n          min-width: 0;\n          flex: 1;\n        }\n\n        .location-name {\n          font-weight: 500;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .location-region {\n          font-size: clamp(10px, 2.5vw, 12px);\n          color: var(--text-tertiary);\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        @media (hover: none) {\n          .dropdown-item:hover {\n            background: transparent;\n          }\n\n          .dropdown-item:active {\n            background: var(--bg-subtle, var(--surface-hover));\n          }\n\n          .current-location-btn:hover {\n            background: var(--bg-subtle, var(--surface-hover));\n            color: var(--text-secondary);\n          }\n\n          .current-location-btn:active {\n            background: var(--accent, var(--accent-color));\n            color: white;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n","import React, { useState, useEffect, useRef } from 'react';\n\n// ============================================================================\n// HISTORICAL DATA TYPES\n// ============================================================================\n\nexport type HistoryType = 'temperature' | 'humidity' | 'pressure' | 'wind' | 'precipitation' | 'uv' | 'air_quality';\n\ninterface HistoricalDataPoint {\n  date: string;\n  value: number;\n  label?: string;\n}\n\ninterface HistoricalModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  type: HistoryType;\n  title: string;\n  currentValue: number;\n  unit: string;\n  lat: number;\n  lon: number;\n}\n\n// ============================================================================\n// FETCH HISTORICAL DATA FROM OPEN-METEO\n// ============================================================================\n\nconst fetchHistoricalData = async (\n  lat: number,\n  lon: number,\n  type: HistoryType,\n  days: number = 7\n): Promise<HistoricalDataPoint[]> => {\n  const endDate = new Date();\n  const startDate = new Date();\n  startDate.setDate(startDate.getDate() - days);\n\n  const formatDate = (d: Date) => d.toISOString().split('T')[0];\n\n  let variable = '';\n  switch (type) {\n    case 'temperature':\n      variable = 'temperature_2m_max,temperature_2m_min';\n      break;\n    case 'humidity':\n      variable = 'relative_humidity_2m_mean';\n      break;\n    case 'pressure':\n      variable = 'pressure_msl_mean';\n      break;\n    case 'wind':\n      variable = 'wind_speed_10m_max';\n      break;\n    case 'precipitation':\n      variable = 'precipitation_sum';\n      break;\n    case 'uv':\n      variable = 'uv_index_max';\n      break;\n    default:\n      variable = 'temperature_2m_max';\n  }\n\n  try {\n    const url = `https://archive-api.open-meteo.com/v1/archive?latitude=${lat}&longitude=${lon}&start_date=${formatDate(startDate)}&end_date=${formatDate(endDate)}&daily=${variable}&timezone=auto`;\n\n    const response = await fetch(url);\n    if (!response.ok) throw new Error('API error');\n\n    const data = await response.json();\n    const times = data.daily?.time || [];\n    const values = data.daily?.[Object.keys(data.daily).find(k => k !== 'time') || ''] || [];\n\n    return times.map((time: string, i: number) => ({\n      date: time,\n      value: values[i] ?? 0,\n    }));\n  } catch (error) {\n    console.error('Error fetching historical data:', error);\n    // Return mock data on error\n    return generateMockData(days, type);\n  }\n};\n\nconst generateMockData = (days: number, type: HistoryType): HistoricalDataPoint[] => {\n  const data: HistoricalDataPoint[] = [];\n  const baseValues: Record<HistoryType, { base: number; variance: number }> = {\n    temperature: { base: 20, variance: 8 },\n    humidity: { base: 60, variance: 20 },\n    pressure: { base: 1013, variance: 15 },\n    wind: { base: 15, variance: 10 },\n    precipitation: { base: 2, variance: 5 },\n    uv: { base: 5, variance: 3 },\n    air_quality: { base: 50, variance: 30 },\n  };\n\n  const { base, variance } = baseValues[type];\n\n  for (let i = days; i >= 0; i--) {\n    const date = new Date();\n    date.setDate(date.getDate() - i);\n    data.push({\n      date: date.toISOString().split('T')[0],\n      value: Math.max(0, base + (Math.random() - 0.5) * variance * 2),\n    });\n  }\n\n  return data;\n};\n\n// ============================================================================\n// CHART COMPONENT\n// ============================================================================\n\ninterface ChartProps {\n  data: HistoricalDataPoint[];\n  unit: string;\n  color: string;\n}\n\nconst HistoryChart: React.FC<ChartProps> = ({ data, unit, color }) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const [hoveredPoint, setHoveredPoint] = useState<{ index: number; x: number; y: number } | null>(null);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas || data.length === 0) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    const dpr = window.devicePixelRatio || 1;\n    const rect = canvas.getBoundingClientRect();\n    canvas.width = rect.width * dpr;\n    canvas.height = rect.height * dpr;\n    ctx.scale(dpr, dpr);\n\n    const width = rect.width;\n    const height = rect.height;\n    const padding = { top: 20, right: 20, bottom: 40, left: 50 };\n\n    const chartWidth = width - padding.left - padding.right;\n    const chartHeight = height - padding.top - padding.bottom;\n\n    const values = data.map(d => d.value);\n    const minVal = Math.min(...values) * 0.9;\n    const maxVal = Math.max(...values) * 1.1;\n    const range = maxVal - minVal || 1;\n\n    // Clear\n    ctx.clearRect(0, 0, width, height);\n\n    // Get CSS variables\n    const style = getComputedStyle(document.documentElement);\n    const textColor = style.getPropertyValue('--text-tertiary').trim() || '#999';\n    const borderColor = style.getPropertyValue('--border').trim() || 'rgba(0,0,0,0.1)';\n\n    // Draw grid lines\n    ctx.strokeStyle = borderColor;\n    ctx.lineWidth = 1;\n    for (let i = 0; i <= 4; i++) {\n      const y = padding.top + (chartHeight / 4) * i;\n      ctx.beginPath();\n      ctx.moveTo(padding.left, y);\n      ctx.lineTo(width - padding.right, y);\n      ctx.stroke();\n    }\n\n    // Draw Y-axis labels\n    ctx.fillStyle = textColor;\n    ctx.font = '11px -apple-system, sans-serif';\n    ctx.textAlign = 'right';\n    for (let i = 0; i <= 4; i++) {\n      const y = padding.top + (chartHeight / 4) * i;\n      const value = maxVal - (range / 4) * i;\n      ctx.fillText(value.toFixed(1), padding.left - 8, y + 4);\n    }\n\n    // Draw X-axis labels\n    ctx.textAlign = 'center';\n    const step = Math.ceil(data.length / 7);\n    data.forEach((d, i) => {\n      if (i % step === 0 || i === data.length - 1) {\n        const x = padding.left + (chartWidth / (data.length - 1)) * i;\n        const date = new Date(d.date);\n        const label = date.toLocaleDateString('es-ES', { day: 'numeric', month: 'short' });\n        ctx.fillText(label, x, height - padding.bottom + 20);\n      }\n    });\n\n    // Draw area gradient\n    const gradient = ctx.createLinearGradient(0, padding.top, 0, height - padding.bottom);\n    gradient.addColorStop(0, color + '40');\n    gradient.addColorStop(1, color + '00');\n\n    ctx.beginPath();\n    data.forEach((d, i) => {\n      const x = padding.left + (chartWidth / (data.length - 1)) * i;\n      const y = padding.top + chartHeight - ((d.value - minVal) / range) * chartHeight;\n      if (i === 0) ctx.moveTo(x, y);\n      else ctx.lineTo(x, y);\n    });\n    ctx.lineTo(padding.left + chartWidth, height - padding.bottom);\n    ctx.lineTo(padding.left, height - padding.bottom);\n    ctx.closePath();\n    ctx.fillStyle = gradient;\n    ctx.fill();\n\n    // Draw line\n    ctx.beginPath();\n    ctx.strokeStyle = color;\n    ctx.lineWidth = 2.5;\n    ctx.lineJoin = 'round';\n    ctx.lineCap = 'round';\n\n    data.forEach((d, i) => {\n      const x = padding.left + (chartWidth / (data.length - 1)) * i;\n      const y = padding.top + chartHeight - ((d.value - minVal) / range) * chartHeight;\n      if (i === 0) ctx.moveTo(x, y);\n      else ctx.lineTo(x, y);\n    });\n    ctx.stroke();\n\n    // Draw points\n    data.forEach((d, i) => {\n      const x = padding.left + (chartWidth / (data.length - 1)) * i;\n      const y = padding.top + chartHeight - ((d.value - minVal) / range) * chartHeight;\n\n      ctx.beginPath();\n      ctx.arc(x, y, hoveredPoint?.index === i ? 6 : 4, 0, Math.PI * 2);\n      ctx.fillStyle = hoveredPoint?.index === i ? color : '#fff';\n      ctx.fill();\n      ctx.strokeStyle = color;\n      ctx.lineWidth = 2;\n      ctx.stroke();\n    });\n\n  }, [data, color, hoveredPoint]);\n\n  const handleMouseMove = (e: React.MouseEvent<HTMLCanvasElement>) => {\n    const canvas = canvasRef.current;\n    if (!canvas || data.length === 0) return;\n\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const padding = { left: 50, right: 20 };\n    const chartWidth = rect.width - padding.left - padding.right;\n    const index = Math.round(((x - padding.left) / chartWidth) * (data.length - 1));\n\n    if (index >= 0 && index < data.length) {\n      const pointX = padding.left + (chartWidth / (data.length - 1)) * index;\n      setHoveredPoint({ index, x: pointX, y: e.clientY - rect.top });\n    } else {\n      setHoveredPoint(null);\n    }\n  };\n\n  const handleMouseLeave = () => setHoveredPoint(null);\n\n  return (\n    <div className=\"chart-container\">\n      <canvas\n        ref={canvasRef}\n        onMouseMove={handleMouseMove}\n        onMouseLeave={handleMouseLeave}\n        style={{ width: '100%', height: '100%' }}\n      />\n      {hoveredPoint && data[hoveredPoint.index] && (\n        <div\n          className=\"chart-tooltip\"\n          style={{\n            left: hoveredPoint.x,\n            top: hoveredPoint.y - 40,\n          }}\n        >\n          <div className=\"tooltip-value\">\n            {data[hoveredPoint.index].value.toFixed(1)} {unit}\n          </div>\n          <div className=\"tooltip-date\">\n            {new Date(data[hoveredPoint.index].date).toLocaleDateString('es-ES', {\n              weekday: 'short',\n              day: 'numeric',\n              month: 'short',\n            })}\n          </div>\n        </div>\n      )}\n\n      <style>{`\n        .chart-container {\n          position: relative;\n          width: 100%;\n          height: 250px;\n        }\n\n        .chart-tooltip {\n          position: absolute;\n          transform: translateX(-50%);\n          background: var(--bg-elevated);\n          border: 1px solid var(--border);\n          border-radius: 8px;\n          padding: 8px 12px;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n          pointer-events: none;\n          z-index: 10;\n          animation: tooltipFade 0.15s ease;\n        }\n\n        @keyframes tooltipFade {\n          from { opacity: 0; transform: translateX(-50%) translateY(5px); }\n          to { opacity: 1; transform: translateX(-50%) translateY(0); }\n        }\n\n        .tooltip-value {\n          font-size: 14px;\n          font-weight: 600;\n          color: var(--text-primary);\n        }\n\n        .tooltip-date {\n          font-size: 11px;\n          color: var(--text-tertiary);\n          margin-top: 2px;\n        }\n      `}</style>\n    </div>\n  );\n};\n\n// ============================================================================\n// MAIN MODAL COMPONENT\n// ============================================================================\n\nexport const HistoricalModal: React.FC<HistoricalModalProps> = ({\n  isOpen,\n  onClose,\n  type,\n  title,\n  currentValue,\n  unit,\n  lat,\n  lon,\n}) => {\n  const [data, setData] = useState<HistoricalDataPoint[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [period, setPeriod] = useState<7 | 14 | 30>(7);\n  const modalRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (isOpen) {\n      setLoading(true);\n      fetchHistoricalData(lat, lon, type, period).then(result => {\n        setData(result);\n        setLoading(false);\n      });\n    }\n  }, [isOpen, lat, lon, type, period]);\n\n  // Close on escape key\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') onClose();\n    };\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscape);\n      document.body.style.overflow = 'hidden';\n    }\n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n      document.body.style.overflow = '';\n    };\n  }, [isOpen, onClose]);\n\n  // Close on backdrop click\n  const handleBackdropClick = (e: React.MouseEvent) => {\n    if (e.target === e.currentTarget) onClose();\n  };\n\n  if (!isOpen) return null;\n\n  const getColor = (): string => {\n    switch (type) {\n      case 'temperature': return '#ff6b6b';\n      case 'humidity': return '#4ecdc4';\n      case 'pressure': return '#a855f7';\n      case 'wind': return '#3b82f6';\n      case 'precipitation': return '#06b6d4';\n      case 'uv': return '#f59e0b';\n      case 'air_quality': return '#22c55e';\n      default: return '#6366f1';\n    }\n  };\n\n  const stats = data.length > 0 ? {\n    min: Math.min(...data.map(d => d.value)),\n    max: Math.max(...data.map(d => d.value)),\n    avg: data.reduce((sum, d) => sum + d.value, 0) / data.length,\n    trend: data[data.length - 1]?.value - data[0]?.value,\n  } : null;\n\n  return (\n    <div className=\"modal-backdrop\" onClick={handleBackdropClick}>\n      <div className=\"modal-container\" ref={modalRef}>\n        <div className=\"modal-header\">\n          <div className=\"modal-title-section\">\n            <h2 className=\"modal-title\">{title}</h2>\n            <div className=\"current-value\" style={{ color: getColor() }}>\n              {currentValue.toFixed(1)} <span className=\"current-unit\">{unit}</span>\n            </div>\n          </div>\n          <button className=\"modal-close\" onClick={onClose} aria-label=\"Cerrar\">\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n              <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\n              <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\n            </svg>\n          </button>\n        </div>\n\n        <div className=\"modal-content\">\n          <div className=\"period-selector\">\n            {([7, 14, 30] as const).map(p => (\n              <button\n                key={p}\n                className={`period-btn ${period === p ? 'active' : ''}`}\n                onClick={() => setPeriod(p)}\n              >\n                {p} das\n              </button>\n            ))}\n          </div>\n\n          {loading ? (\n            <div className=\"loading-state\">\n              <div className=\"loading-spinner\" />\n              <span>Cargando historial...</span>\n            </div>\n          ) : (\n            <>\n              <HistoryChart data={data} unit={unit} color={getColor()} />\n\n              {stats && (\n                <div className=\"stats-grid\">\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Mnimo</span>\n                    <span className=\"stat-value\">{stats.min.toFixed(1)} {unit}</span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Mximo</span>\n                    <span className=\"stat-value\">{stats.max.toFixed(1)} {unit}</span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Promedio</span>\n                    <span className=\"stat-value\">{stats.avg.toFixed(1)} {unit}</span>\n                  </div>\n                  <div className=\"stat-item\">\n                    <span className=\"stat-label\">Tendencia</span>\n                    <span className={`stat-value trend ${stats.trend >= 0 ? 'up' : 'down'}`}>\n                      {stats.trend >= 0 ? '' : ''} {Math.abs(stats.trend).toFixed(1)} {unit}\n                    </span>\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n        </div>\n      </div>\n\n      <style>{`\n        .modal-backdrop {\n          position: fixed;\n          inset: 0;\n          background: rgba(0, 0, 0, 0.6);\n          backdrop-filter: blur(4px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n          padding: 20px;\n          animation: backdropFade 0.2s ease;\n        }\n\n        @keyframes backdropFade {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        .modal-container {\n          background: var(--bg-elevated);\n          border: 1px solid var(--border);\n          border-radius: var(--radius-xl);\n          width: 100%;\n          max-width: 600px;\n          max-height: 90vh;\n          overflow: hidden;\n          display: flex;\n          flex-direction: column;\n          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n          animation: modalSlide 0.3s ease;\n        }\n\n        @keyframes modalSlide {\n          from {\n            opacity: 0;\n            transform: translateY(20px) scale(0.95);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0) scale(1);\n          }\n        }\n\n        .modal-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          padding: clamp(16px, 4vw, 24px);\n          border-bottom: 1px solid var(--border);\n        }\n\n        .modal-title-section {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n\n        .modal-title {\n          font-size: clamp(16px, 4vw, 20px);\n          font-weight: 600;\n          color: var(--text-primary);\n          margin: 0;\n        }\n\n        .current-value {\n          font-size: clamp(24px, 6vw, 32px);\n          font-weight: 700;\n          line-height: 1.2;\n        }\n\n        .current-unit {\n          font-size: 0.5em;\n          font-weight: 500;\n          opacity: 0.7;\n        }\n\n        .modal-close {\n          width: 40px;\n          height: 40px;\n          border: none;\n          background: var(--bg-subtle);\n          border-radius: var(--radius-md);\n          color: var(--text-secondary);\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: all 0.2s;\n          flex-shrink: 0;\n        }\n\n        .modal-close:hover {\n          background: var(--danger);\n          color: white;\n          transform: rotate(90deg);\n        }\n\n        .modal-content {\n          padding: clamp(16px, 4vw, 24px);\n          overflow-y: auto;\n          display: flex;\n          flex-direction: column;\n          gap: clamp(16px, 4vw, 24px);\n        }\n\n        .period-selector {\n          display: flex;\n          gap: 8px;\n          background: var(--bg-subtle);\n          padding: 4px;\n          border-radius: var(--radius-md);\n          width: fit-content;\n        }\n\n        .period-btn {\n          padding: 8px 16px;\n          border: none;\n          background: transparent;\n          color: var(--text-secondary);\n          font-size: 13px;\n          font-weight: 500;\n          border-radius: var(--radius-sm);\n          cursor: pointer;\n          transition: all 0.2s;\n        }\n\n        .period-btn:hover {\n          color: var(--text-primary);\n        }\n\n        .period-btn.active {\n          background: var(--bg-elevated);\n          color: var(--text-primary);\n          box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n        }\n\n        .loading-state {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          height: 250px;\n          gap: 12px;\n          color: var(--text-tertiary);\n        }\n\n        .loading-spinner {\n          width: 32px;\n          height: 32px;\n          border: 3px solid var(--border);\n          border-top-color: var(--accent);\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n\n        .stats-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n          gap: clamp(8px, 2vw, 12px);\n        }\n\n        .stat-item {\n          background: var(--bg-subtle);\n          padding: clamp(12px, 3vw, 16px);\n          border-radius: var(--radius-md);\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n\n        .stat-label {\n          font-size: clamp(10px, 2.5vw, 11px);\n          color: var(--text-tertiary);\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n        }\n\n        .stat-value {\n          font-size: clamp(14px, 3.5vw, 16px);\n          font-weight: 600;\n          color: var(--text-primary);\n        }\n\n        .stat-value.trend.up {\n          color: #22c55e;\n        }\n\n        .stat-value.trend.down {\n          color: #ef4444;\n        }\n\n        @media (max-width: 480px) {\n          .modal-backdrop {\n            padding: 0;\n            align-items: flex-end;\n          }\n\n          .modal-container {\n            max-width: 100%;\n            max-height: 85vh;\n            border-radius: var(--radius-xl) var(--radius-xl) 0 0;\n            animation: modalSlideUp 0.3s ease;\n          }\n\n          @keyframes modalSlideUp {\n            from { transform: translateY(100%); }\n            to { transform: translateY(0); }\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n\n// ============================================================================\n// CLICKABLE VALUE COMPONENT (for triggering history)\n// ============================================================================\n\ninterface ClickableValueProps {\n  value: number;\n  unit: string;\n  type: HistoryType;\n  title: string;\n  lat: number;\n  lon: number;\n  className?: string;\n  children?: React.ReactNode;\n}\n\nexport const ClickableValue: React.FC<ClickableValueProps> = ({\n  value,\n  unit,\n  type,\n  title,\n  lat,\n  lon,\n  className,\n  children,\n}) => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  return (\n    <>\n      <button\n        className={`clickable-value ${className || ''}`}\n        onClick={() => setIsModalOpen(true)}\n        title=\"Ver historial\"\n      >\n        {children || `${value.toFixed(1)} ${unit}`}\n        <span className=\"history-indicator\">\n          <svg width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n            <circle cx=\"12\" cy=\"12\" r=\"10\" />\n            <polyline points=\"12 6 12 12 16 14\" />\n          </svg>\n        </span>\n      </button>\n\n      <HistoricalModal\n        isOpen={isModalOpen}\n        onClose={() => setIsModalOpen(false)}\n        type={type}\n        title={title}\n        currentValue={value}\n        unit={unit}\n        lat={lat}\n        lon={lon}\n      />\n\n      <style>{`\n        .clickable-value {\n          display: inline-flex;\n          align-items: center;\n          gap: 4px;\n          background: none;\n          border: none;\n          padding: 2px 6px;\n          margin: -2px -6px;\n          border-radius: var(--radius-sm);\n          cursor: pointer;\n          font: inherit;\n          color: inherit;\n          transition: all 0.2s;\n          position: relative;\n        }\n\n        .clickable-value:hover {\n          background: var(--accent-subtle);\n        }\n\n        .clickable-value:hover .history-indicator {\n          opacity: 1;\n          transform: scale(1);\n        }\n\n        .history-indicator {\n          opacity: 0;\n          transform: scale(0.8);\n          transition: all 0.2s;\n          color: var(--accent);\n        }\n      `}</style>\n    </>\n  );\n};\n","import React from 'react';\n\n// ============================================================================\n// ANIMATED SVG WEATHER ICONS - Beautiful and performant\n// ============================================================================\n\ninterface IconProps {\n  size?: number;\n  className?: string;\n}\n\n// Animated Sun\nexport const AnimatedSun: React.FC<IconProps> = ({ size = 48, className = '' }) => (\n  <svg\n    width={size}\n    height={size}\n    viewBox=\"0 0 100 100\"\n    className={`weather-icon ${className}`}\n  >\n    <defs>\n      <radialGradient id=\"sunGradient\" cx=\"50%\" cy=\"50%\" r=\"50%\">\n        <stop offset=\"0%\" stopColor=\"#FFD700\" />\n        <stop offset=\"70%\" stopColor=\"#FFA500\" />\n        <stop offset=\"100%\" stopColor=\"#FF8C00\" />\n      </radialGradient>\n      <filter id=\"sunGlow\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n        <feGaussianBlur stdDeviation=\"3\" result=\"blur\" />\n        <feMerge>\n          <feMergeNode in=\"blur\" />\n          <feMergeNode in=\"SourceGraphic\" />\n        </feMerge>\n      </filter>\n    </defs>\n\n    {/* Outer glow */}\n    <circle cx=\"50\" cy=\"50\" r=\"28\" fill=\"#FFD700\" opacity=\"0.3\">\n      <animate attributeName=\"r\" values=\"28;32;28\" dur=\"2s\" repeatCount=\"indefinite\" />\n      <animate attributeName=\"opacity\" values=\"0.3;0.5;0.3\" dur=\"2s\" repeatCount=\"indefinite\" />\n    </circle>\n\n    {/* Rays */}\n    <g filter=\"url(#sunGlow)\">\n      {[...Array(12)].map((_, i) => (\n        <line\n          key={i}\n          x1=\"50\"\n          y1=\"10\"\n          x2=\"50\"\n          y2=\"20\"\n          stroke=\"#FFD700\"\n          strokeWidth=\"3\"\n          strokeLinecap=\"round\"\n          transform={`rotate(${i * 30} 50 50)`}\n        >\n          <animate\n            attributeName=\"y1\"\n            values=\"10;8;10\"\n            dur=\"1.5s\"\n            begin={`${i * 0.1}s`}\n            repeatCount=\"indefinite\"\n          />\n        </line>\n      ))}\n    </g>\n\n    {/* Sun body */}\n    <circle cx=\"50\" cy=\"50\" r=\"22\" fill=\"url(#sunGradient)\" filter=\"url(#sunGlow)\">\n      <animate attributeName=\"r\" values=\"22;23;22\" dur=\"2s\" repeatCount=\"indefinite\" />\n    </circle>\n\n    <style>{`\n      .weather-icon { filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1)); }\n    `}</style>\n  </svg>\n);\n\n// Animated Moon\nexport const AnimatedMoon: React.FC<IconProps> = ({ size = 48, className = '' }) => (\n  <svg\n    width={size}\n    height={size}\n    viewBox=\"0 0 100 100\"\n    className={`weather-icon ${className}`}\n  >\n    <defs>\n      <radialGradient id=\"moonGradient\" cx=\"30%\" cy=\"30%\" r=\"70%\">\n        <stop offset=\"0%\" stopColor=\"#FFFACD\" />\n        <stop offset=\"100%\" stopColor=\"#F0E68C\" />\n      </radialGradient>\n      <filter id=\"moonGlow\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n        <feGaussianBlur stdDeviation=\"2\" result=\"blur\" />\n        <feMerge>\n          <feMergeNode in=\"blur\" />\n          <feMergeNode in=\"SourceGraphic\" />\n        </feMerge>\n      </filter>\n    </defs>\n\n    {/* Glow */}\n    <circle cx=\"50\" cy=\"50\" r=\"30\" fill=\"#FFFACD\" opacity=\"0.2\">\n      <animate attributeName=\"r\" values=\"30;34;30\" dur=\"3s\" repeatCount=\"indefinite\" />\n    </circle>\n\n    {/* Moon body */}\n    <circle cx=\"50\" cy=\"50\" r=\"24\" fill=\"url(#moonGradient)\" filter=\"url(#moonGlow)\" />\n\n    {/* Craters */}\n    <circle cx=\"42\" cy=\"45\" r=\"5\" fill=\"#DAA520\" opacity=\"0.3\" />\n    <circle cx=\"58\" cy=\"55\" r=\"3\" fill=\"#DAA520\" opacity=\"0.25\" />\n    <circle cx=\"52\" cy=\"40\" r=\"2.5\" fill=\"#DAA520\" opacity=\"0.2\" />\n\n    {/* Stars */}\n    {[\n      { x: 15, y: 20, delay: '0s' },\n      { x: 82, y: 25, delay: '0.5s' },\n      { x: 20, y: 75, delay: '1s' },\n      { x: 85, y: 70, delay: '1.5s' },\n      { x: 75, y: 15, delay: '0.3s' },\n    ].map((star, i) => (\n      <circle key={i} cx={star.x} cy={star.y} r=\"1.5\" fill=\"#FFFFFF\">\n        <animate\n          attributeName=\"opacity\"\n          values=\"1;0.3;1\"\n          dur=\"2s\"\n          begin={star.delay}\n          repeatCount=\"indefinite\"\n        />\n        <animate\n          attributeName=\"r\"\n          values=\"1.5;2;1.5\"\n          dur=\"2s\"\n          begin={star.delay}\n          repeatCount=\"indefinite\"\n        />\n      </circle>\n    ))}\n  </svg>\n);\n\n// Animated Cloud\nexport const AnimatedCloud: React.FC<IconProps & { dark?: boolean }> = ({\n  size = 48,\n  className = '',\n  dark = false\n}) => (\n  <svg\n    width={size}\n    height={size}\n    viewBox=\"0 0 100 100\"\n    className={`weather-icon ${className}`}\n  >\n    <defs>\n      <linearGradient id={dark ? \"darkCloudGrad\" : \"cloudGrad\"} x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n        <stop offset=\"0%\" stopColor={dark ? \"#6B7280\" : \"#FFFFFF\"} />\n        <stop offset=\"100%\" stopColor={dark ? \"#4B5563\" : \"#E5E7EB\"} />\n      </linearGradient>\n      <filter id=\"cloudShadow\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\">\n        <feDropShadow dx=\"0\" dy=\"2\" stdDeviation=\"2\" floodOpacity=\"0.2\" />\n      </filter>\n    </defs>\n\n    <g filter=\"url(#cloudShadow)\">\n      <ellipse cx=\"50\" cy=\"55\" rx=\"30\" ry=\"18\" fill={`url(#${dark ? \"darkCloudGrad\" : \"cloudGrad\"})`}>\n        <animate attributeName=\"cx\" values=\"50;52;50\" dur=\"4s\" repeatCount=\"indefinite\" />\n      </ellipse>\n      <circle cx=\"35\" cy=\"50\" r=\"16\" fill={`url(#${dark ? \"darkCloudGrad\" : \"cloudGrad\"})`}>\n        <animate attributeName=\"cx\" values=\"35;37;35\" dur=\"4s\" repeatCount=\"indefinite\" />\n      </circle>\n      <circle cx=\"55\" cy=\"45\" r=\"18\" fill={`url(#${dark ? \"darkCloudGrad\" : \"cloudGrad\"})`}>\n        <animate attributeName=\"cx\" values=\"55;57;55\" dur=\"4s\" repeatCount=\"indefinite\" />\n      </circle>\n      <circle cx=\"70\" cy=\"52\" r=\"14\" fill={`url(#${dark ? \"darkCloudGrad\" : \"cloudGrad\"})`}>\n        <animate attributeName=\"cx\" values=\"70;72;70\" dur=\"4s\" repeatCount=\"indefinite\" />\n      </circle>\n    </g>\n  </svg>\n);\n\n// Animated Rain\nexport const AnimatedRain: React.FC<IconProps & { heavy?: boolean }> = ({\n  size = 48,\n  className = '',\n  heavy = false\n}) => {\n  const dropCount = heavy ? 8 : 5;\n\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 100 100\"\n      className={`weather-icon ${className}`}\n    >\n      <defs>\n        <linearGradient id=\"rainCloudGrad\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor=\"#6B7280\" />\n          <stop offset=\"100%\" stopColor=\"#4B5563\" />\n        </linearGradient>\n        <linearGradient id=\"rainDrop\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor=\"#60A5FA\" />\n          <stop offset=\"100%\" stopColor=\"#3B82F6\" />\n        </linearGradient>\n      </defs>\n\n      {/* Cloud */}\n      <g transform=\"translate(0, -10) scale(0.8)\">\n        <ellipse cx=\"50\" cy=\"45\" rx=\"28\" ry=\"16\" fill=\"url(#rainCloudGrad)\" />\n        <circle cx=\"35\" cy=\"40\" r=\"14\" fill=\"url(#rainCloudGrad)\" />\n        <circle cx=\"55\" cy=\"35\" r=\"16\" fill=\"url(#rainCloudGrad)\" />\n        <circle cx=\"68\" cy=\"42\" r=\"12\" fill=\"url(#rainCloudGrad)\" />\n      </g>\n\n      {/* Rain drops */}\n      {[...Array(dropCount)].map((_, i) => {\n        const x = 25 + (i * 50 / dropCount) + (i % 2) * 5;\n        return (\n          <ellipse\n            key={i}\n            cx={x}\n            cy=\"55\"\n            rx=\"2\"\n            ry=\"6\"\n            fill=\"url(#rainDrop)\"\n          >\n            <animate\n              attributeName=\"cy\"\n              values=\"55;90;55\"\n              dur={`${0.6 + (i % 3) * 0.2}s`}\n              begin={`${i * 0.1}s`}\n              repeatCount=\"indefinite\"\n            />\n            <animate\n              attributeName=\"opacity\"\n              values=\"1;0.3;1\"\n              dur={`${0.6 + (i % 3) * 0.2}s`}\n              begin={`${i * 0.1}s`}\n              repeatCount=\"indefinite\"\n            />\n          </ellipse>\n        );\n      })}\n    </svg>\n  );\n};\n\n// Animated Snow\nexport const AnimatedSnow: React.FC<IconProps & { heavy?: boolean }> = ({\n  size = 48,\n  className = '',\n  heavy = false\n}) => {\n  const flakeCount = heavy ? 8 : 5;\n\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 100 100\"\n      className={`weather-icon ${className}`}\n    >\n      <defs>\n        <linearGradient id=\"snowCloudGrad\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n          <stop offset=\"0%\" stopColor=\"#E5E7EB\" />\n          <stop offset=\"100%\" stopColor=\"#D1D5DB\" />\n        </linearGradient>\n      </defs>\n\n      {/* Cloud */}\n      <g transform=\"translate(0, -10) scale(0.8)\">\n        <ellipse cx=\"50\" cy=\"45\" rx=\"28\" ry=\"16\" fill=\"url(#snowCloudGrad)\" />\n        <circle cx=\"35\" cy=\"40\" r=\"14\" fill=\"url(#snowCloudGrad)\" />\n        <circle cx=\"55\" cy=\"35\" r=\"16\" fill=\"url(#snowCloudGrad)\" />\n        <circle cx=\"68\" cy=\"42\" r=\"12\" fill=\"url(#snowCloudGrad)\" />\n      </g>\n\n      {/* Snowflakes */}\n      {[...Array(flakeCount)].map((_, i) => {\n        const x = 25 + (i * 50 / flakeCount) + (i % 2) * 5;\n        return (\n          <g key={i}>\n            <circle cx={x} cy=\"55\" r=\"3\" fill=\"#FFFFFF\" stroke=\"#E5E7EB\" strokeWidth=\"0.5\">\n              <animate\n                attributeName=\"cy\"\n                values=\"55;88;55\"\n                dur={`${1.5 + (i % 3) * 0.5}s`}\n                begin={`${i * 0.2}s`}\n                repeatCount=\"indefinite\"\n              />\n              <animate\n                attributeName=\"cx\"\n                values={`${x};${x + 5};${x - 3};${x}`}\n                dur={`${1.5 + (i % 3) * 0.5}s`}\n                begin={`${i * 0.2}s`}\n                repeatCount=\"indefinite\"\n              />\n            </circle>\n          </g>\n        );\n      })}\n    </svg>\n  );\n};\n\n// Animated Thunderstorm\nexport const AnimatedThunder: React.FC<IconProps> = ({ size = 48, className = '' }) => (\n  <svg\n    width={size}\n    height={size}\n    viewBox=\"0 0 100 100\"\n    className={`weather-icon ${className}`}\n  >\n    <defs>\n      <linearGradient id=\"stormCloudGrad\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n        <stop offset=\"0%\" stopColor=\"#4B5563\" />\n        <stop offset=\"100%\" stopColor=\"#1F2937\" />\n      </linearGradient>\n      <filter id=\"lightningGlow\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n        <feGaussianBlur stdDeviation=\"2\" result=\"blur\" />\n        <feMerge>\n          <feMergeNode in=\"blur\" />\n          <feMergeNode in=\"SourceGraphic\" />\n        </feMerge>\n      </filter>\n    </defs>\n\n    {/* Dark cloud */}\n    <g transform=\"translate(0, -8) scale(0.75)\">\n      <ellipse cx=\"50\" cy=\"45\" rx=\"30\" ry=\"18\" fill=\"url(#stormCloudGrad)\" />\n      <circle cx=\"32\" cy=\"40\" r=\"16\" fill=\"url(#stormCloudGrad)\" />\n      <circle cx=\"55\" cy=\"32\" r=\"18\" fill=\"url(#stormCloudGrad)\" />\n      <circle cx=\"72\" cy=\"42\" r=\"14\" fill=\"url(#stormCloudGrad)\" />\n    </g>\n\n    {/* Lightning bolt */}\n    <polygon\n      points=\"52,35 42,55 48,55 40,80 58,50 50,50 58,35\"\n      fill=\"#FDE047\"\n      filter=\"url(#lightningGlow)\"\n    >\n      <animate\n        attributeName=\"opacity\"\n        values=\"1;0;1;1;0;1\"\n        dur=\"2s\"\n        repeatCount=\"indefinite\"\n        keyTimes=\"0;0.1;0.2;0.5;0.6;1\"\n      />\n    </polygon>\n\n    {/* Rain drops */}\n    {[30, 45, 65, 75].map((x, i) => (\n      <ellipse key={i} cx={x} cy=\"55\" rx=\"1.5\" ry=\"5\" fill=\"#60A5FA\">\n        <animate\n          attributeName=\"cy\"\n          values=\"55;92;55\"\n          dur=\"0.6s\"\n          begin={`${i * 0.15}s`}\n          repeatCount=\"indefinite\"\n        />\n        <animate\n          attributeName=\"opacity\"\n          values=\"0.8;0.2;0.8\"\n          dur=\"0.6s\"\n          begin={`${i * 0.15}s`}\n          repeatCount=\"indefinite\"\n        />\n      </ellipse>\n    ))}\n  </svg>\n);\n\n// Animated Fog\nexport const AnimatedFog: React.FC<IconProps> = ({ size = 48, className = '' }) => (\n  <svg\n    width={size}\n    height={size}\n    viewBox=\"0 0 100 100\"\n    className={`weather-icon ${className}`}\n  >\n    {[\n      { y: 30, width: 60, delay: '0s' },\n      { y: 45, width: 70, delay: '0.5s' },\n      { y: 60, width: 55, delay: '1s' },\n      { y: 75, width: 65, delay: '1.5s' },\n    ].map((line, i) => (\n      <rect\n        key={i}\n        x={(100 - line.width) / 2}\n        y={line.y}\n        width={line.width}\n        height=\"6\"\n        rx=\"3\"\n        fill=\"#9CA3AF\"\n        opacity=\"0.6\"\n      >\n        <animate\n          attributeName=\"x\"\n          values={`${(100 - line.width) / 2};${(100 - line.width) / 2 + 10};${(100 - line.width) / 2}`}\n          dur=\"4s\"\n          begin={line.delay}\n          repeatCount=\"indefinite\"\n        />\n        <animate\n          attributeName=\"opacity\"\n          values=\"0.6;0.8;0.6\"\n          dur=\"3s\"\n          begin={line.delay}\n          repeatCount=\"indefinite\"\n        />\n      </rect>\n    ))}\n  </svg>\n);\n\n// Animated Partly Cloudy\nexport const AnimatedPartlyCloudy: React.FC<IconProps & { isDay?: boolean }> = ({\n  size = 48,\n  className = '',\n  isDay = true\n}) => (\n  <svg\n    width={size}\n    height={size}\n    viewBox=\"0 0 100 100\"\n    className={`weather-icon ${className}`}\n  >\n    <defs>\n      <radialGradient id=\"pcSunGrad\" cx=\"50%\" cy=\"50%\" r=\"50%\">\n        <stop offset=\"0%\" stopColor=\"#FFD700\" />\n        <stop offset=\"100%\" stopColor=\"#FFA500\" />\n      </radialGradient>\n      <radialGradient id=\"pcMoonGrad\" cx=\"30%\" cy=\"30%\" r=\"70%\">\n        <stop offset=\"0%\" stopColor=\"#FFFACD\" />\n        <stop offset=\"100%\" stopColor=\"#F0E68C\" />\n      </radialGradient>\n      <linearGradient id=\"pcCloudGrad\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n        <stop offset=\"0%\" stopColor=\"#FFFFFF\" />\n        <stop offset=\"100%\" stopColor=\"#E5E7EB\" />\n      </linearGradient>\n    </defs>\n\n    {/* Sun or Moon */}\n    {isDay ? (\n      <g transform=\"translate(55, 20)\">\n        {/* Sun rays */}\n        {[...Array(8)].map((_, i) => (\n          <line\n            key={i}\n            x1=\"0\"\n            y1=\"-18\"\n            x2=\"0\"\n            y2=\"-12\"\n            stroke=\"#FFD700\"\n            strokeWidth=\"2\"\n            strokeLinecap=\"round\"\n            transform={`rotate(${i * 45})`}\n          >\n            <animate\n              attributeName=\"y1\"\n              values=\"-18;-16;-18\"\n              dur=\"1.5s\"\n              begin={`${i * 0.1}s`}\n              repeatCount=\"indefinite\"\n            />\n          </line>\n        ))}\n        <circle r=\"10\" fill=\"url(#pcSunGrad)\">\n          <animate attributeName=\"r\" values=\"10;11;10\" dur=\"2s\" repeatCount=\"indefinite\" />\n        </circle>\n      </g>\n    ) : (\n      <g transform=\"translate(60, 25)\">\n        <circle r=\"12\" fill=\"url(#pcMoonGrad)\" />\n        <circle cx=\"-3\" cy=\"-2\" r=\"2\" fill=\"#DAA520\" opacity=\"0.3\" />\n        <circle cx=\"4\" cy=\"3\" r=\"1.5\" fill=\"#DAA520\" opacity=\"0.25\" />\n      </g>\n    )}\n\n    {/* Cloud */}\n    <g transform=\"translate(-5, 15)\">\n      <ellipse cx=\"45\" cy=\"55\" rx=\"25\" ry=\"14\" fill=\"url(#pcCloudGrad)\">\n        <animate attributeName=\"cx\" values=\"45;48;45\" dur=\"4s\" repeatCount=\"indefinite\" />\n      </ellipse>\n      <circle cx=\"32\" cy=\"50\" r=\"12\" fill=\"url(#pcCloudGrad)\">\n        <animate attributeName=\"cx\" values=\"32;35;32\" dur=\"4s\" repeatCount=\"indefinite\" />\n      </circle>\n      <circle cx=\"50\" cy=\"45\" r=\"14\" fill=\"url(#pcCloudGrad)\">\n        <animate attributeName=\"cx\" values=\"50;53;50\" dur=\"4s\" repeatCount=\"indefinite\" />\n      </circle>\n      <circle cx=\"62\" cy=\"52\" r=\"10\" fill=\"url(#pcCloudGrad)\">\n        <animate attributeName=\"cx\" values=\"62;65;62\" dur=\"4s\" repeatCount=\"indefinite\" />\n      </circle>\n    </g>\n  </svg>\n);\n\n// ============================================================================\n// MAIN WEATHER ICON COMPONENT\n// ============================================================================\n\ninterface WeatherIconAnimatedProps {\n  weatherCode: number;\n  isDay?: boolean;\n  size?: number;\n  className?: string;\n}\n\nexport const WeatherIconAnimated: React.FC<WeatherIconAnimatedProps> = ({\n  weatherCode,\n  isDay = true,\n  size = 48,\n  className = '',\n}) => {\n  // Clear sky\n  if (weatherCode === 0) {\n    return isDay\n      ? <AnimatedSun size={size} className={className} />\n      : <AnimatedMoon size={size} className={className} />;\n  }\n\n  // Mainly clear / Partly cloudy\n  if (weatherCode >= 1 && weatherCode <= 2) {\n    return <AnimatedPartlyCloudy size={size} className={className} isDay={isDay} />;\n  }\n\n  // Overcast\n  if (weatherCode === 3) {\n    return <AnimatedCloud size={size} className={className} dark />;\n  }\n\n  // Fog\n  if (weatherCode >= 45 && weatherCode <= 48) {\n    return <AnimatedFog size={size} className={className} />;\n  }\n\n  // Drizzle\n  if (weatherCode >= 51 && weatherCode <= 57) {\n    return <AnimatedRain size={size} className={className} />;\n  }\n\n  // Rain\n  if (weatherCode >= 61 && weatherCode <= 67) {\n    return <AnimatedRain size={size} className={className} heavy={weatherCode >= 65} />;\n  }\n\n  // Snow\n  if (weatherCode >= 71 && weatherCode <= 77) {\n    return <AnimatedSnow size={size} className={className} heavy={weatherCode >= 75} />;\n  }\n\n  // Rain showers\n  if (weatherCode >= 80 && weatherCode <= 82) {\n    return <AnimatedRain size={size} className={className} heavy={weatherCode >= 81} />;\n  }\n\n  // Snow showers\n  if (weatherCode >= 85 && weatherCode <= 86) {\n    return <AnimatedSnow size={size} className={className} heavy />;\n  }\n\n  // Thunderstorm\n  if (weatherCode >= 95 && weatherCode <= 99) {\n    return <AnimatedThunder size={size} className={className} />;\n  }\n\n  // Default: partly cloudy\n  return <AnimatedPartlyCloudy size={size} className={className} isDay={isDay} />;\n};\n\nexport default WeatherIconAnimated;\n","// ============================================================================\n// INTERNATIONALIZATION - 5 Languages\n// ============================================================================\n\nexport type Language = 'es' | 'en' | 'fr' | 'de' | 'pt';\n\nexport const languageNames: Record<Language, string> = {\n  es: 'Espaol',\n  en: 'English',\n  fr: 'Franais',\n  de: 'Deutsch',\n  pt: 'Portugus',\n};\n\nexport const languageFlags: Record<Language, string> = {\n  es: '',\n  en: '',\n  fr: '',\n  de: '',\n  pt: '',\n};\n\nexport interface Translations {\n  // App\n  appName: string;\n  loading: string;\n  error: string;\n  retry: string;\n\n  // Search\n  searchPlaceholder: string;\n  searchButton: string;\n  noResults: string;\n\n  // Current Weather\n  currentWeather: string;\n  feelsLike: string;\n  dewPoint: string;\n  humidity: string;\n  visibility: string;\n  pressure: string;\n  uvIndex: string;\n  airQuality: string;\n  wind: string;\n\n  // UV Levels\n  uvLow: string;\n  uvModerate: string;\n  uvHigh: string;\n  uvVeryHigh: string;\n  uvExtreme: string;\n\n  // AQI\n  aqiGood: string;\n  aqiFair: string;\n  aqiModerate: string;\n  aqiPoor: string;\n  aqiVeryPoor: string;\n\n  // Forecast\n  hourlyForecast: string;\n  dailyForecast: string;\n  next24Hours: string;\n  next10Days: string;\n  today: string;\n  tomorrow: string;\n  now: string;\n  atTime: string;\n  max: string;\n  min: string;\n\n  // Weather conditions\n  condition: string;\n  precipitation: string;\n  maxWind: string;\n\n  // Sun/Moon\n  sunrise: string;\n  sunset: string;\n  dayLength: string;\n\n  // Wind\n  windSpeed: string;\n  gusts: string;\n  windDirection: string;\n\n  // Cardinal directions\n  north: string;\n  south: string;\n  east: string;\n  west: string;\n  northeast: string;\n  northwest: string;\n  southeast: string;\n  southwest: string;\n\n  // Alerts\n  alerts: string;\n  noAlerts: string;\n\n  // Historical\n  historicalData: string;\n  last7Days: string;\n  average: string;\n\n  // Settings\n  settings: string;\n  language: string;\n  theme: string;\n  darkMode: string;\n  lightMode: string;\n\n  // Marine\n  marine: string;\n  marineConditions: string;\n  waveHeight: string;\n  swellDirection: string;\n  seaTemperature: string;\n\n  // Radar\n  radar: string;\n  rainRadar: string;\n  past: string;\n  forecast: string;\n\n  // Weather descriptions\n  clearSky: string;\n  mainlyClear: string;\n  partlyCloudy: string;\n  overcast: string;\n  fog: string;\n  drizzle: string;\n  rain: string;\n  heavyRain: string;\n  snow: string;\n  heavySnow: string;\n  thunderstorm: string;\n  unknown: string;\n}\n\nexport const translations: Record<Language, Translations> = {\n  es: {\n    // App\n    appName: 'MeteoFlow',\n    loading: 'Cargando...',\n    error: 'Error al cargar datos',\n    retry: 'Reintentar',\n\n    // Search\n    searchPlaceholder: 'Buscar ciudad...',\n    searchButton: 'Buscar',\n    noResults: 'No se encontraron resultados',\n\n    // Current Weather\n    currentWeather: 'Tiempo Actual',\n    feelsLike: 'Sensacin',\n    dewPoint: 'Pto. Roco',\n    humidity: 'Humedad',\n    visibility: 'Visibilidad',\n    pressure: 'Presin',\n    uvIndex: 'ndice UV',\n    airQuality: 'Calidad Aire',\n    wind: 'Viento',\n\n    // UV Levels\n    uvLow: 'Bajo',\n    uvModerate: 'Moderado',\n    uvHigh: 'Alto',\n    uvVeryHigh: 'Muy Alto',\n    uvExtreme: 'Extremo',\n\n    // AQI\n    aqiGood: 'Buena',\n    aqiFair: 'Aceptable',\n    aqiModerate: 'Moderada',\n    aqiPoor: 'Mala',\n    aqiVeryPoor: 'Muy Mala',\n\n    // Forecast\n    hourlyForecast: 'Pronstico por Hora',\n    dailyForecast: 'Pronstico Diario',\n    next24Hours: 'Prximas 24 horas',\n    next10Days: 'Pronstico 10 das',\n    today: 'Hoy',\n    tomorrow: 'Maana',\n    now: 'Ahora',\n    atTime: 'a las',\n    max: 'Max',\n    min: 'Min',\n\n    // Weather conditions\n    condition: 'Condicin',\n    precipitation: 'Precipitacin',\n    maxWind: 'Viento mx.',\n\n    // Sun/Moon\n    sunrise: 'Amanecer',\n    sunset: 'Atardecer',\n    dayLength: 'Duracin del da',\n\n    // Wind\n    windSpeed: 'Velocidad del Viento',\n    gusts: 'Rfagas',\n    windDirection: 'Direccin',\n\n    // Cardinal directions\n    north: 'N',\n    south: 'S',\n    east: 'E',\n    west: 'O',\n    northeast: 'NE',\n    northwest: 'NO',\n    southeast: 'SE',\n    southwest: 'SO',\n\n    // Alerts\n    alerts: 'Alertas',\n    noAlerts: 'Sin alertas activas',\n\n    // Historical\n    historicalData: 'Datos Histricos',\n    last7Days: 'ltimos 7 das',\n    average: 'Promedio',\n\n    // Settings\n    settings: 'Configuracin',\n    language: 'Idioma',\n    theme: 'Tema',\n    darkMode: 'Modo Oscuro',\n    lightMode: 'Modo Claro',\n\n    // Marine\n    marine: 'Marino',\n    marineConditions: 'Condiciones Marinas',\n    waveHeight: 'Altura de ola',\n    swellDirection: 'Direccin del oleaje',\n    seaTemperature: 'Temp. del mar',\n\n    // Radar\n    radar: 'Radar',\n    rainRadar: 'Radar de Lluvia',\n    past: 'Pasado',\n    forecast: 'Pronstico',\n\n    // Weather descriptions\n    clearSky: 'Despejado',\n    mainlyClear: 'Mayormente despejado',\n    partlyCloudy: 'Parcialmente nublado',\n    overcast: 'Nublado',\n    fog: 'Niebla',\n    drizzle: 'Llovizna',\n    rain: 'Lluvia',\n    heavyRain: 'Lluvia intensa',\n    snow: 'Nieve',\n    heavySnow: 'Nevada intensa',\n    thunderstorm: 'Tormenta',\n    unknown: 'Desconocido',\n  },\n\n  en: {\n    // App\n    appName: 'MeteoFlow',\n    loading: 'Loading...',\n    error: 'Error loading data',\n    retry: 'Retry',\n\n    // Search\n    searchPlaceholder: 'Search city...',\n    searchButton: 'Search',\n    noResults: 'No results found',\n\n    // Current Weather\n    currentWeather: 'Current Weather',\n    feelsLike: 'Feels Like',\n    dewPoint: 'Dew Point',\n    humidity: 'Humidity',\n    visibility: 'Visibility',\n    pressure: 'Pressure',\n    uvIndex: 'UV Index',\n    airQuality: 'Air Quality',\n    wind: 'Wind',\n\n    // UV Levels\n    uvLow: 'Low',\n    uvModerate: 'Moderate',\n    uvHigh: 'High',\n    uvVeryHigh: 'Very High',\n    uvExtreme: 'Extreme',\n\n    // AQI\n    aqiGood: 'Good',\n    aqiFair: 'Fair',\n    aqiModerate: 'Moderate',\n    aqiPoor: 'Poor',\n    aqiVeryPoor: 'Very Poor',\n\n    // Forecast\n    hourlyForecast: 'Hourly Forecast',\n    dailyForecast: 'Daily Forecast',\n    next24Hours: 'Next 24 hours',\n    next10Days: '10-day forecast',\n    today: 'Today',\n    tomorrow: 'Tomorrow',\n    now: 'Now',\n    atTime: 'at',\n    max: 'Max',\n    min: 'Min',\n\n    // Weather conditions\n    condition: 'Condition',\n    precipitation: 'Precipitation',\n    maxWind: 'Max wind',\n\n    // Sun/Moon\n    sunrise: 'Sunrise',\n    sunset: 'Sunset',\n    dayLength: 'Day length',\n\n    // Wind\n    windSpeed: 'Wind Speed',\n    gusts: 'Gusts',\n    windDirection: 'Direction',\n\n    // Cardinal directions\n    north: 'N',\n    south: 'S',\n    east: 'E',\n    west: 'W',\n    northeast: 'NE',\n    northwest: 'NW',\n    southeast: 'SE',\n    southwest: 'SW',\n\n    // Alerts\n    alerts: 'Alerts',\n    noAlerts: 'No active alerts',\n\n    // Historical\n    historicalData: 'Historical Data',\n    last7Days: 'Last 7 days',\n    average: 'Average',\n\n    // Settings\n    settings: 'Settings',\n    language: 'Language',\n    theme: 'Theme',\n    darkMode: 'Dark Mode',\n    lightMode: 'Light Mode',\n\n    // Marine\n    marine: 'Marine',\n    marineConditions: 'Marine Conditions',\n    waveHeight: 'Wave height',\n    swellDirection: 'Swell direction',\n    seaTemperature: 'Sea temperature',\n\n    // Radar\n    radar: 'Radar',\n    rainRadar: 'Rain Radar',\n    past: 'Past',\n    forecast: 'Forecast',\n\n    // Weather descriptions\n    clearSky: 'Clear sky',\n    mainlyClear: 'Mainly clear',\n    partlyCloudy: 'Partly cloudy',\n    overcast: 'Overcast',\n    fog: 'Fog',\n    drizzle: 'Drizzle',\n    rain: 'Rain',\n    heavyRain: 'Heavy rain',\n    snow: 'Snow',\n    heavySnow: 'Heavy snow',\n    thunderstorm: 'Thunderstorm',\n    unknown: 'Unknown',\n  },\n\n  fr: {\n    // App\n    appName: 'MeteoFlow',\n    loading: 'Chargement...',\n    error: 'Erreur de chargement',\n    retry: 'Ressayer',\n\n    // Search\n    searchPlaceholder: 'Rechercher une ville...',\n    searchButton: 'Rechercher',\n    noResults: 'Aucun rsultat',\n\n    // Current Weather\n    currentWeather: 'Mto Actuelle',\n    feelsLike: 'Ressenti',\n    dewPoint: 'Point de rose',\n    humidity: 'Humidit',\n    visibility: 'Visibilit',\n    pressure: 'Pression',\n    uvIndex: 'Indice UV',\n    airQuality: 'Qualit air',\n    wind: 'Vent',\n\n    // UV Levels\n    uvLow: 'Faible',\n    uvModerate: 'Modr',\n    uvHigh: 'lev',\n    uvVeryHigh: 'Trs lev',\n    uvExtreme: 'Extrme',\n\n    // AQI\n    aqiGood: 'Bonne',\n    aqiFair: 'Acceptable',\n    aqiModerate: 'Modre',\n    aqiPoor: 'Mauvaise',\n    aqiVeryPoor: 'Trs mauvaise',\n\n    // Forecast\n    hourlyForecast: 'Prvisions Horaires',\n    dailyForecast: 'Prvisions Quotidiennes',\n    next24Hours: 'Prochaines 24 heures',\n    next10Days: 'Prvisions 10 jours',\n    today: \"Aujourd'hui\",\n    tomorrow: 'Demain',\n    now: 'Maintenant',\n    atTime: '',\n    max: 'Max',\n    min: 'Min',\n\n    // Weather conditions\n    condition: 'Condition',\n    precipitation: 'Prcipitation',\n    maxWind: 'Vent max.',\n\n    // Sun/Moon\n    sunrise: 'Lever du soleil',\n    sunset: 'Coucher du soleil',\n    dayLength: 'Dure du jour',\n\n    // Wind\n    windSpeed: 'Vitesse du Vent',\n    gusts: 'Rafales',\n    windDirection: 'Direction',\n\n    // Cardinal directions\n    north: 'N',\n    south: 'S',\n    east: 'E',\n    west: 'O',\n    northeast: 'NE',\n    northwest: 'NO',\n    southeast: 'SE',\n    southwest: 'SO',\n\n    // Alerts\n    alerts: 'Alertes',\n    noAlerts: 'Aucune alerte active',\n\n    // Historical\n    historicalData: 'Donnes Historiques',\n    last7Days: '7 derniers jours',\n    average: 'Moyenne',\n\n    // Settings\n    settings: 'Paramtres',\n    language: 'Langue',\n    theme: 'Thme',\n    darkMode: 'Mode Sombre',\n    lightMode: 'Mode Clair',\n\n    // Marine\n    marine: 'Marin',\n    marineConditions: 'Conditions Marines',\n    waveHeight: 'Hauteur des vagues',\n    swellDirection: 'Direction de la houle',\n    seaTemperature: 'Temp. de la mer',\n\n    // Radar\n    radar: 'Radar',\n    rainRadar: 'Radar de Pluie',\n    past: 'Pass',\n    forecast: 'Prvision',\n\n    // Weather descriptions\n    clearSky: 'Ciel dgag',\n    mainlyClear: 'Gnralement dgag',\n    partlyCloudy: 'Partiellement nuageux',\n    overcast: 'Couvert',\n    fog: 'Brouillard',\n    drizzle: 'Bruine',\n    rain: 'Pluie',\n    heavyRain: 'Forte pluie',\n    snow: 'Neige',\n    heavySnow: 'Forte neige',\n    thunderstorm: 'Orage',\n    unknown: 'Inconnu',\n  },\n\n  de: {\n    // App\n    appName: 'MeteoFlow',\n    loading: 'Laden...',\n    error: 'Fehler beim Laden',\n    retry: 'Wiederholen',\n\n    // Search\n    searchPlaceholder: 'Stadt suchen...',\n    searchButton: 'Suchen',\n    noResults: 'Keine Ergebnisse',\n\n    // Current Weather\n    currentWeather: 'Aktuelles Wetter',\n    feelsLike: 'Gefhlt',\n    dewPoint: 'Taupunkt',\n    humidity: 'Feuchtigkeit',\n    visibility: 'Sicht',\n    pressure: 'Druck',\n    uvIndex: 'UV-Index',\n    airQuality: 'Luftqualitt',\n    wind: 'Wind',\n\n    // UV Levels\n    uvLow: 'Niedrig',\n    uvModerate: 'Mig',\n    uvHigh: 'Hoch',\n    uvVeryHigh: 'Sehr hoch',\n    uvExtreme: 'Extrem',\n\n    // AQI\n    aqiGood: 'Gut',\n    aqiFair: 'Akzeptabel',\n    aqiModerate: 'Mig',\n    aqiPoor: 'Schlecht',\n    aqiVeryPoor: 'Sehr schlecht',\n\n    // Forecast\n    hourlyForecast: 'Stndliche Vorhersage',\n    dailyForecast: 'Tgliche Vorhersage',\n    next24Hours: 'Nchste 24 Stunden',\n    next10Days: '10-Tage-Vorhersage',\n    today: 'Heute',\n    tomorrow: 'Morgen',\n    now: 'Jetzt',\n    atTime: 'um',\n    max: 'Max',\n    min: 'Min',\n\n    // Weather conditions\n    condition: 'Zustand',\n    precipitation: 'Niederschlag',\n    maxWind: 'Max. Wind',\n\n    // Sun/Moon\n    sunrise: 'Sonnenaufgang',\n    sunset: 'Sonnenuntergang',\n    dayLength: 'Tageslnge',\n\n    // Wind\n    windSpeed: 'Windgeschwindigkeit',\n    gusts: 'Ben',\n    windDirection: 'Richtung',\n\n    // Cardinal directions\n    north: 'N',\n    south: 'S',\n    east: 'O',\n    west: 'W',\n    northeast: 'NO',\n    northwest: 'NW',\n    southeast: 'SO',\n    southwest: 'SW',\n\n    // Alerts\n    alerts: 'Warnungen',\n    noAlerts: 'Keine aktiven Warnungen',\n\n    // Historical\n    historicalData: 'Historische Daten',\n    last7Days: 'Letzte 7 Tage',\n    average: 'Durchschnitt',\n\n    // Settings\n    settings: 'Einstellungen',\n    language: 'Sprache',\n    theme: 'Thema',\n    darkMode: 'Dunkelmodus',\n    lightMode: 'Hellmodus',\n\n    // Marine\n    marine: 'Meer',\n    marineConditions: 'Meeresbedingungen',\n    waveHeight: 'Wellenhhe',\n    swellDirection: 'Dnung-Richtung',\n    seaTemperature: 'Meerestemperatur',\n\n    // Radar\n    radar: 'Radar',\n    rainRadar: 'Regenradar',\n    past: 'Vergangen',\n    forecast: 'Vorhersage',\n\n    // Weather descriptions\n    clearSky: 'Klarer Himmel',\n    mainlyClear: 'berwiegend klar',\n    partlyCloudy: 'Teilweise bewlkt',\n    overcast: 'Bedeckt',\n    fog: 'Nebel',\n    drizzle: 'Nieselregen',\n    rain: 'Regen',\n    heavyRain: 'Starker Regen',\n    snow: 'Schnee',\n    heavySnow: 'Starker Schneefall',\n    thunderstorm: 'Gewitter',\n    unknown: 'Unbekannt',\n  },\n\n  pt: {\n    // App\n    appName: 'MeteoFlow',\n    loading: 'Carregando...',\n    error: 'Erro ao carregar dados',\n    retry: 'Tentar novamente',\n\n    // Search\n    searchPlaceholder: 'Buscar cidade...',\n    searchButton: 'Buscar',\n    noResults: 'Nenhum resultado encontrado',\n\n    // Current Weather\n    currentWeather: 'Tempo Atual',\n    feelsLike: 'Sensao',\n    dewPoint: 'Ponto de Orvalho',\n    humidity: 'Umidade',\n    visibility: 'Visibilidade',\n    pressure: 'Presso',\n    uvIndex: 'ndice UV',\n    airQuality: 'Qualidade do Ar',\n    wind: 'Vento',\n\n    // UV Levels\n    uvLow: 'Baixo',\n    uvModerate: 'Moderado',\n    uvHigh: 'Alto',\n    uvVeryHigh: 'Muito Alto',\n    uvExtreme: 'Extremo',\n\n    // AQI\n    aqiGood: 'Boa',\n    aqiFair: 'Aceitvel',\n    aqiModerate: 'Moderada',\n    aqiPoor: 'Ruim',\n    aqiVeryPoor: 'Muito Ruim',\n\n    // Forecast\n    hourlyForecast: 'Previso por Hora',\n    dailyForecast: 'Previso Diria',\n    next24Hours: 'Prximas 24 horas',\n    next10Days: 'Previso 10 dias',\n    today: 'Hoje',\n    tomorrow: 'Amanh',\n    now: 'Agora',\n    atTime: 's',\n    max: 'Mx',\n    min: 'Mn',\n\n    // Weather conditions\n    condition: 'Condio',\n    precipitation: 'Precipitao',\n    maxWind: 'Vento mx.',\n\n    // Sun/Moon\n    sunrise: 'Nascer do sol',\n    sunset: 'Pr do sol',\n    dayLength: 'Durao do dia',\n\n    // Wind\n    windSpeed: 'Velocidade do Vento',\n    gusts: 'Rajadas',\n    windDirection: 'Direo',\n\n    // Cardinal directions\n    north: 'N',\n    south: 'S',\n    east: 'L',\n    west: 'O',\n    northeast: 'NE',\n    northwest: 'NO',\n    southeast: 'SE',\n    southwest: 'SO',\n\n    // Alerts\n    alerts: 'Alertas',\n    noAlerts: 'Sem alertas ativos',\n\n    // Historical\n    historicalData: 'Dados Histricos',\n    last7Days: 'ltimos 7 dias',\n    average: 'Mdia',\n\n    // Settings\n    settings: 'Configuraes',\n    language: 'Idioma',\n    theme: 'Tema',\n    darkMode: 'Modo Escuro',\n    lightMode: 'Modo Claro',\n\n    // Marine\n    marine: 'Marinho',\n    marineConditions: 'Condies Marinhas',\n    waveHeight: 'Altura das ondas',\n    swellDirection: 'Direo da ondulao',\n    seaTemperature: 'Temp. do mar',\n\n    // Radar\n    radar: 'Radar',\n    rainRadar: 'Radar de Chuva',\n    past: 'Passado',\n    forecast: 'Previso',\n\n    // Weather descriptions\n    clearSky: 'Cu limpo',\n    mainlyClear: 'Majoritariamente limpo',\n    partlyCloudy: 'Parcialmente nublado',\n    overcast: 'Nublado',\n    fog: 'Nevoeiro',\n    drizzle: 'Chuvisco',\n    rain: 'Chuva',\n    heavyRain: 'Chuva forte',\n    snow: 'Neve',\n    heavySnow: 'Neve forte',\n    thunderstorm: 'Tempestade',\n    unknown: 'Desconhecido',\n  },\n};\n","import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { Language, translations, Translations, languageNames, languageFlags } from './translations';\n\ninterface LanguageContextType {\n  language: Language;\n  setLanguage: (lang: Language) => void;\n  t: Translations;\n  languageNames: typeof languageNames;\n  languageFlags: typeof languageFlags;\n  availableLanguages: Language[];\n}\n\nconst LanguageContext = createContext<LanguageContextType | undefined>(undefined);\n\nconst STORAGE_KEY = 'meteoflow-language';\n\n// Detect browser language\nconst detectBrowserLanguage = (): Language => {\n  const browserLang = navigator.language.split('-')[0];\n  const supported: Language[] = ['es', 'en', 'fr', 'de', 'pt'];\n  return supported.includes(browserLang as Language) ? (browserLang as Language) : 'es';\n};\n\ninterface LanguageProviderProps {\n  children: ReactNode;\n}\n\nexport const LanguageProvider: React.FC<LanguageProviderProps> = ({ children }) => {\n  const [language, setLanguageState] = useState<Language>(() => {\n    const saved = localStorage.getItem(STORAGE_KEY);\n    if (saved && ['es', 'en', 'fr', 'de', 'pt'].includes(saved)) {\n      return saved as Language;\n    }\n    return detectBrowserLanguage();\n  });\n\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, language);\n    document.documentElement.lang = language;\n  }, [language]);\n\n  const setLanguage = (lang: Language) => {\n    setLanguageState(lang);\n  };\n\n  const value: LanguageContextType = {\n    language,\n    setLanguage,\n    t: translations[language],\n    languageNames,\n    languageFlags,\n    availableLanguages: ['es', 'en', 'fr', 'de', 'pt'],\n  };\n\n  return (\n    <LanguageContext.Provider value={value}>\n      {children}\n    </LanguageContext.Provider>\n  );\n};\n\nexport const useLanguage = (): LanguageContextType => {\n  const context = useContext(LanguageContext);\n  if (!context) {\n    throw new Error('useLanguage must be used within a LanguageProvider');\n  }\n  return context;\n};\n\nexport default LanguageContext;\n","import React from 'react';\nimport type { CurrentWeather, AirQuality, Location } from '../types/weather';\nimport { DropletIcon, WindIcon, EyeIcon } from './Icons';\nimport { windDirectionToCardinal, formatTime } from '../services/weatherApi';\nimport { ClickableValue } from './HistoricalModal';\nimport { WeatherIconAnimated } from './WeatherIconAnimated';\nimport { useLanguage } from '../i18n/LanguageContext';\n\ninterface CurrentWeatherCardProps {\n  weather: CurrentWeather;\n  airQuality: AirQuality;\n  location: Location;\n  lastUpdated: string;\n  lat: number;\n  lon: number;\n}\n\nexport const CurrentWeatherCard: React.FC<CurrentWeatherCardProps> = ({\n  weather,\n  airQuality,\n  location,\n  lastUpdated,\n  lat,\n  lon,\n}) => {\n  const { t } = useLanguage();\n\n  // Weather code descriptions\n  const getWeatherDescription = (code: number): string => {\n    if (code === 0) return t.clearSky;\n    if (code >= 1 && code <= 2) return t.mainlyClear;\n    if (code === 3) return t.overcast;\n    if (code >= 45 && code <= 48) return t.fog;\n    if (code >= 51 && code <= 57) return t.drizzle;\n    if (code >= 61 && code <= 67) return code >= 65 ? t.heavyRain : t.rain;\n    if (code >= 71 && code <= 77) return code >= 75 ? t.heavySnow : t.snow;\n    if (code >= 80 && code <= 82) return t.rain;\n    if (code >= 85 && code <= 86) return t.heavySnow;\n    if (code >= 95 && code <= 99) return t.thunderstorm;\n    return t.partlyCloudy;\n  };\n\n  // AQI labels\n  const getAqiLabel = (category: string): { label: string; color: string } => {\n    const labelMap: Record<string, { label: string; color: string }> = {\n      'good': { label: t.aqiGood, color: '#4caf50' },\n      'moderate': { label: t.aqiFair, color: '#8bc34a' },\n      'unhealthy-sensitive': { label: t.aqiModerate, color: '#ffeb3b' },\n      'unhealthy': { label: t.aqiPoor, color: '#ff9800' },\n      'very-unhealthy': { label: t.aqiVeryPoor, color: '#f44336' },\n      'hazardous': { label: t.aqiVeryPoor, color: '#9c27b0' },\n    };\n    return labelMap[category] || labelMap['good'];\n  };\n\n  const aqiInfo = getAqiLabel(airQuality.category);\n\n  const getTempColor = (temp: number): string => {\n    if (temp <= 0) return 'var(--temp-cold)';\n    if (temp <= 10) return 'var(--temp-cool)';\n    if (temp <= 20) return 'var(--temp-mild)';\n    if (temp <= 30) return 'var(--temp-warm)';\n    return 'var(--temp-hot)';\n  };\n\n  const getUVLevel = (uv: number): { label: string; color: string } => {\n    if (uv <= 2) return { label: t.uvLow, color: 'var(--success)' };\n    if (uv <= 5) return { label: t.uvModerate, color: 'var(--warning)' };\n    if (uv <= 7) return { label: t.uvHigh, color: '#ff6d00' };\n    if (uv <= 10) return { label: t.uvVeryHigh, color: 'var(--danger)' };\n    return { label: t.uvExtreme, color: '#9c27b0' };\n  };\n\n  const uvInfo = getUVLevel(weather.uvIndex);\n\n  return (\n    <div className=\"weather-card\">\n      <div className=\"weather-card-header\">\n        <div className=\"location\">\n          <h1 className=\"location-name\">{location.name}</h1>\n          <p className=\"location-region\">{[location.region, location.country].filter(Boolean).join(', ')}</p>\n        </div>\n        <div className=\"status\">\n          <span className=\"status-dot\" />\n          <span className=\"status-time\">{formatTime(lastUpdated)}</span>\n        </div>\n      </div>\n\n      <div className=\"temperature-main\">\n        <div className=\"temperature-display\">\n          <ClickableValue\n            value={weather.temperature}\n            unit=\"C\"\n            type=\"temperature\"\n            title={t.feelsLike}\n            lat={lat}\n            lon={lon}\n          >\n            <span className=\"temperature-value\" style={{ color: getTempColor(weather.temperature) }}>\n              {Math.round(weather.temperature)}\n            </span>\n            <span className=\"temperature-unit\">C</span>\n          </ClickableValue>\n        </div>\n        <div className=\"weather-condition\">\n          <div className=\"weather-icon-container\">\n            <WeatherIconAnimated\n              weatherCode={weather.weatherCode}\n              isDay={weather.isDay}\n              size={90}\n            />\n          </div>\n          <span className=\"condition-text\">{getWeatherDescription(weather.weatherCode)}</span>\n        </div>\n      </div>\n\n      <div className=\"temperature-details\">\n        <div className=\"temp-detail\">\n          <span className=\"temp-detail-label\">{t.feelsLike}</span>\n          <span className=\"temp-detail-value\" style={{ color: getTempColor(weather.apparentTemperature) }}>\n            {Math.round(weather.apparentTemperature)}\n          </span>\n        </div>\n        <div className=\"temp-detail\">\n          <span className=\"temp-detail-label\">{t.dewPoint}</span>\n          <span className=\"temp-detail-value\">{Math.round(weather.dewPoint)}</span>\n        </div>\n        <div className=\"temp-detail\">\n          <span className=\"temp-detail-label\">{t.humidity}</span>\n          <span className=\"temp-detail-value\">{weather.humidity}%</span>\n        </div>\n      </div>\n\n      <div className=\"metrics-grid\">\n        <ClickableValue\n          value={weather.windSpeed}\n          unit=\"km/h\"\n          type=\"wind\"\n          title={t.windSpeed}\n          lat={lat}\n          lon={lon}\n          className=\"metric-clickable\"\n        >\n          <div className=\"metric\">\n            <div className=\"metric-icon\">\n              <WindIcon size={16} />\n            </div>\n            <div className=\"metric-content\">\n              <span className=\"metric-value\">{Math.round(weather.windSpeed)}</span>\n              <span className=\"metric-unit\">km/h</span>\n              <span className=\"metric-label\">{windDirectionToCardinal(weather.windDirection)}</span>\n            </div>\n          </div>\n        </ClickableValue>\n\n        <ClickableValue\n          value={weather.humidity}\n          unit=\"%\"\n          type=\"humidity\"\n          title={t.humidity}\n          lat={lat}\n          lon={lon}\n          className=\"metric-clickable\"\n        >\n          <div className=\"metric\">\n            <div className=\"metric-icon\">\n              <DropletIcon size={16} />\n            </div>\n            <div className=\"metric-content\">\n              <span className=\"metric-value\">{weather.humidity}</span>\n              <span className=\"metric-unit\">%</span>\n              <span className=\"metric-label\">{t.humidity}</span>\n            </div>\n          </div>\n        </ClickableValue>\n\n        <div className=\"metric\">\n          <div className=\"metric-icon\">\n            <EyeIcon size={16} />\n          </div>\n          <div className=\"metric-content\">\n            <span className=\"metric-value\">{(weather.visibility / 1000).toFixed(0)}</span>\n            <span className=\"metric-unit\">km</span>\n            <span className=\"metric-label\">{t.visibility}</span>\n          </div>\n        </div>\n\n        <div className=\"metric\">\n          <div className=\"metric-icon\" style={{ background: uvInfo.color, color: 'white' }}>\n            UV\n          </div>\n          <div className=\"metric-content\">\n            <span className=\"metric-value\">{Math.round(weather.uvIndex)}</span>\n            <span className=\"metric-label\" style={{ color: uvInfo.color }}>{uvInfo.label}</span>\n          </div>\n        </div>\n\n        <ClickableValue\n          value={weather.pressure}\n          unit=\"hPa\"\n          type=\"pressure\"\n          title={t.pressure}\n          lat={lat}\n          lon={lon}\n          className=\"metric-clickable\"\n        >\n          <div className=\"metric\">\n            <div className=\"metric-icon pressure-icon\">\n              <svg viewBox=\"0 0 24 24\" width=\"16\" height=\"16\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                <circle cx=\"12\" cy=\"12\" r=\"10\"/>\n                <path d=\"M12 6v6l4 2\"/>\n              </svg>\n            </div>\n            <div className=\"metric-content\">\n              <span className=\"metric-value\">{Math.round(weather.pressure)}</span>\n              <span className=\"metric-unit\">hPa</span>\n              <span className=\"metric-label\">{t.pressure}</span>\n            </div>\n          </div>\n        </ClickableValue>\n\n        <div className=\"metric\">\n          <div className=\"metric-icon aqi-icon\" style={{ background: aqiInfo.color }}>\n            {airQuality.aqi ?? 0}\n          </div>\n          <div className=\"metric-content\">\n            <span className=\"metric-value\" style={{ color: aqiInfo.color }}>{aqiInfo.label}</span>\n            <span className=\"metric-label\">{t.airQuality}</span>\n          </div>\n        </div>\n      </div>\n\n      <style>{`\n        .weather-card {\n          background: var(--bg-elevated);\n          border: 1px solid var(--border);\n          border-radius: var(--radius-xl);\n          padding: clamp(16px, 4vw, 24px);\n          display: flex;\n          flex-direction: column;\n          gap: clamp(16px, 3vw, 24px);\n          height: 100%;\n          min-width: 0;\n        }\n\n        .weather-card-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          gap: 12px;\n          flex-wrap: wrap;\n        }\n\n        .location {\n          min-width: 0;\n          flex: 1;\n        }\n\n        .location-name {\n          font-size: clamp(18px, 4vw, 22px);\n          font-weight: 600;\n          color: var(--text-primary);\n          margin: 0 0 4px 0;\n          letter-spacing: -0.3px;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .location-region {\n          font-size: clamp(11px, 2.5vw, 13px);\n          color: var(--text-tertiary);\n          margin: 0;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .status {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          padding: 6px 10px;\n          background: var(--bg-subtle);\n          border-radius: 16px;\n          flex-shrink: 0;\n        }\n\n        .status-dot {\n          width: 6px;\n          height: 6px;\n          background: var(--success);\n          border-radius: 50%;\n          animation: pulse 2s infinite;\n        }\n\n        @keyframes pulse {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.5; }\n        }\n\n        .status-time {\n          font-size: 11px;\n          color: var(--text-secondary);\n          font-weight: 500;\n        }\n\n        .temperature-main {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          gap: 16px;\n          flex-wrap: wrap;\n        }\n\n        .temperature-display {\n          display: flex;\n          align-items: flex-start;\n        }\n\n        .temperature-value {\n          font-size: clamp(48px, 15vw, 72px);\n          font-weight: 700;\n          line-height: 1;\n          letter-spacing: -3px;\n        }\n\n        .temperature-unit {\n          font-size: clamp(16px, 4vw, 24px);\n          font-weight: 500;\n          color: var(--text-tertiary);\n          margin-top: clamp(8px, 2vw, 12px);\n          margin-left: 2px;\n        }\n\n        .weather-condition {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 6px;\n          color: var(--text-secondary);\n        }\n\n        .weather-icon-container {\n          width: 90px;\n          height: 90px;\n          min-width: 90px;\n          min-height: 90px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-radius: var(--radius-lg);\n          background: var(--bg-subtle);\n          padding: 4px;\n        }\n\n        .condition-text {\n          font-size: clamp(12px, 3vw, 14px);\n          font-weight: 500;\n          color: var(--text-secondary);\n          text-align: center;\n        }\n\n        .temperature-details {\n          display: flex;\n          gap: clamp(12px, 4vw, 24px);\n          padding: clamp(12px, 3vw, 16px) 0;\n          border-top: 1px solid var(--border);\n          border-bottom: 1px solid var(--border);\n          flex-wrap: wrap;\n        }\n\n        .temp-detail {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n          min-width: 60px;\n        }\n\n        .temp-detail-label {\n          font-size: clamp(10px, 2.5vw, 11px);\n          color: var(--text-tertiary);\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n          font-weight: 500;\n        }\n\n        .temp-detail-value {\n          font-size: clamp(16px, 4vw, 20px);\n          font-weight: 600;\n          color: var(--text-primary);\n        }\n\n        .metrics-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(min(100%, 120px), 1fr));\n          gap: clamp(8px, 2vw, 12px);\n        }\n\n        .metric {\n          background: var(--bg-subtle);\n          border-radius: var(--radius-md);\n          padding: clamp(10px, 2.5vw, 14px);\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n          transition: var(--transition);\n          min-width: 0;\n        }\n\n        .metric:hover {\n          background: var(--accent-subtle);\n        }\n\n        .metric-icon {\n          width: clamp(28px, 6vw, 32px);\n          height: clamp(28px, 6vw, 32px);\n          background: var(--bg-elevated);\n          border-radius: var(--radius-sm);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: var(--accent);\n          font-size: 10px;\n          font-weight: 700;\n          flex-shrink: 0;\n        }\n\n        .metric-icon.aqi-icon {\n          color: white;\n          font-size: 9px;\n        }\n\n        .metric-content {\n          display: flex;\n          flex-wrap: wrap;\n          align-items: baseline;\n          gap: 3px;\n          min-width: 0;\n        }\n\n        .metric-value {\n          font-size: clamp(14px, 3.5vw, 18px);\n          font-weight: 600;\n          color: var(--text-primary);\n        }\n\n        .metric-unit {\n          font-size: clamp(10px, 2.5vw, 12px);\n          color: var(--text-tertiary);\n          font-weight: 500;\n        }\n\n        .metric-label {\n          font-size: clamp(9px, 2vw, 11px);\n          color: var(--text-tertiary);\n          width: 100%;\n          text-transform: uppercase;\n          letter-spacing: 0.3px;\n          font-weight: 500;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .metric-clickable {\n          display: contents;\n        }\n\n        .metric-clickable .metric {\n          cursor: pointer;\n          position: relative;\n        }\n\n        .metric-clickable .metric::after {\n          content: '';\n          position: absolute;\n          top: 4px;\n          right: 4px;\n          width: 6px;\n          height: 6px;\n          border-radius: 50%;\n          background: var(--accent);\n          opacity: 0.6;\n        }\n\n        .metric-clickable:hover .metric {\n          background: var(--accent-subtle);\n        }\n\n        @media (max-width: 400px) {\n          .metrics-grid {\n            grid-template-columns: repeat(2, 1fr);\n          }\n\n          .temperature-main {\n            flex-direction: column;\n            align-items: flex-start;\n          }\n\n          .weather-condition {\n            flex-direction: row;\n            width: 100%;\n            justify-content: flex-start;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport type { HourlyForecast } from '../types/weather';\nimport { DropletIcon } from './Icons';\nimport { WeatherIconAnimated } from './WeatherIconAnimated';\nimport { useLanguage } from '../i18n/LanguageContext';\n\ninterface HourlyForecastCardProps {\n  hours: HourlyForecast[];\n}\n\nexport const HourlyForecastCard: React.FC<HourlyForecastCardProps> = ({ hours }) => {\n  const [selectedIndex, setSelectedIndex] = useState<number | null>(null);\n  const { t } = useLanguage();\n\n  // Select 10 hours evenly spread across 24 hours (every ~2.5 hours)\n  const indices = [0, 3, 6, 9, 12, 15, 18, 21, 24, 27];\n  const displayHours = indices.map(i => hours[Math.min(i, hours.length - 1)]).filter(Boolean);\n  const numPoints = displayHours.length;\n\n  const formatHour = (timeStr: string, originalIndex: number): string => {\n    if (originalIndex === 0) return t.now;\n    const hour = new Date(timeStr).getHours();\n    return `${hour}:00`;\n  };\n\n  const isDay = (timeStr: string): boolean => {\n    const hour = new Date(timeStr).getHours();\n    return hour >= 7 && hour < 20;\n  };\n\n  const temps = displayHours.map(h => h.temperature);\n  const minTemp = Math.min(...temps);\n  const maxTemp = Math.max(...temps);\n  const tempRange = maxTemp - minTemp || 1;\n\n  const getY = (temp: number): number => {\n    return 75 - ((temp - minTemp) / tempRange) * 55;\n  };\n\n  const getX = (index: number): number => {\n    const padding = 5; // percentage padding on each side\n    const usableWidth = 100 - (padding * 2);\n    return padding + (index / (numPoints - 1)) * usableWidth;\n  };\n\n  const createPath = (): string => {\n    const points = displayHours.map((h, i) => ({\n      x: getX(i),\n      y: getY(h.temperature)\n    }));\n\n    let path = `M ${points[0].x} ${points[0].y}`;\n\n    for (let i = 1; i < points.length; i++) {\n      const prev = points[i - 1];\n      const curr = points[i];\n      const cpx = (prev.x + curr.x) / 2;\n      path += ` C ${cpx} ${prev.y}, ${cpx} ${curr.y}, ${curr.x} ${curr.y}`;\n    }\n\n    return path;\n  };\n\n  const createAreaPath = (): string => {\n    const linePath = createPath();\n    const lastX = getX(numPoints - 1);\n    const firstX = getX(0);\n    return `${linePath} L ${lastX} 95 L ${firstX} 95 Z`;\n  };\n\n  const getTempColor = (temp: number): string => {\n    if (temp <= 0) return '#2196f3';\n    if (temp <= 10) return '#00bcd4';\n    if (temp <= 20) return '#4caf50';\n    if (temp <= 30) return '#ff9800';\n    return '#f44336';\n  };\n\n  const selectedHour = selectedIndex !== null ? displayHours[selectedIndex] : null;\n\n  return (\n    <div className=\"hourly-card\">\n      <div className=\"hourly-header\">\n        <div>\n          <h3 className=\"hourly-title\">{t.next24Hours}</h3>\n          <p className=\"hourly-subtitle\">\n            {selectedHour ? (\n              <>\n                <span style={{ color: getTempColor(selectedHour.temperature) }}>\n                  {Math.round(selectedHour.temperature)}\n                </span>\n                {' '}{t.atTime}{' '}{formatHour(selectedHour.time, selectedIndex === 0 ? 0 : 1)}\n              </>\n            ) : (\n              <>{t.max} {Math.round(maxTemp)}  {t.min} {Math.round(minTemp)}</>\n            )}\n          </p>\n        </div>\n        {selectedHour && selectedHour.precipitationProbability > 0 && (\n          <div className=\"rain-badge\">\n            <DropletIcon size={12} />\n            <span>{selectedHour.precipitationProbability}%</span>\n          </div>\n        )}\n      </div>\n\n      <div className=\"chart-and-hours\">\n        {/* SVG Chart */}\n        <div className=\"chart-container\">\n          <svg\n            viewBox=\"0 0 100 100\"\n            preserveAspectRatio=\"none\"\n            className=\"temp-chart\"\n          >\n            <defs>\n              <linearGradient id=\"tempGradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n                <stop offset=\"0%\" stopColor=\"var(--accent)\" stopOpacity=\"0.3\" />\n                <stop offset=\"100%\" stopColor=\"var(--accent)\" stopOpacity=\"0\" />\n              </linearGradient>\n            </defs>\n\n            {/* Horizontal guide lines */}\n            <line x1=\"0\" y1=\"20\" x2=\"100\" y2=\"20\" stroke=\"var(--border)\" strokeWidth=\"0.3\" strokeDasharray=\"2\" />\n            <line x1=\"0\" y1=\"47\" x2=\"100\" y2=\"47\" stroke=\"var(--border)\" strokeWidth=\"0.3\" strokeDasharray=\"2\" />\n            <line x1=\"0\" y1=\"75\" x2=\"100\" y2=\"75\" stroke=\"var(--border)\" strokeWidth=\"0.3\" strokeDasharray=\"2\" />\n\n            {/* Area fill */}\n            <path d={createAreaPath()} fill=\"url(#tempGradient)\" />\n\n            {/* Line */}\n            <path\n              d={createPath()}\n              fill=\"none\"\n              stroke=\"var(--accent)\"\n              strokeWidth=\"0.8\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n            />\n\n            {/* Vertical line when selected */}\n            {selectedIndex !== null && (\n              <line\n                x1={getX(selectedIndex)}\n                y1={getY(displayHours[selectedIndex].temperature) + 3}\n                x2={getX(selectedIndex)}\n                y2=\"95\"\n                stroke=\"var(--accent)\"\n                strokeWidth=\"0.3\"\n                strokeDasharray=\"1\"\n              />\n            )}\n\n            {/* Points */}\n            {displayHours.map((h, i) => (\n              <g key={i}>\n                {/* Invisible larger hit area */}\n                <circle\n                  cx={getX(i)}\n                  cy={getY(h.temperature)}\n                  r=\"5\"\n                  fill=\"transparent\"\n                  style={{ cursor: 'pointer' }}\n                  onMouseEnter={() => setSelectedIndex(i)}\n                  onMouseLeave={() => setSelectedIndex(null)}\n                  onTouchStart={() => setSelectedIndex(i)}\n                />\n                {/* Visible point */}\n                <circle\n                  cx={getX(i)}\n                  cy={getY(h.temperature)}\n                  r={selectedIndex === i ? 2.5 : 1.5}\n                  fill={selectedIndex === i ? getTempColor(h.temperature) : 'var(--bg-elevated)'}\n                  stroke={selectedIndex === i ? 'var(--bg-elevated)' : 'var(--accent)'}\n                  strokeWidth=\"0.5\"\n                  style={{ transition: 'all 0.2s', pointerEvents: 'none' }}\n                />\n              </g>\n            ))}\n          </svg>\n\n          {/* Temperature labels on the right */}\n          <div className=\"chart-labels\">\n            <span>{Math.round(maxTemp)}</span>\n            <span>{Math.round((maxTemp + minTemp) / 2)}</span>\n            <span>{Math.round(minTemp)}</span>\n          </div>\n        </div>\n\n        {/* Hour boxes - aligned with chart points */}\n        <div className=\"hours-grid\">\n          {displayHours.map((hour, index) => (\n            <div\n              key={hour.time}\n              className={`hour-item ${index === 0 ? 'current' : ''} ${selectedIndex === index ? 'selected' : ''}`}\n              onMouseEnter={() => setSelectedIndex(index)}\n              onMouseLeave={() => setSelectedIndex(null)}\n              onTouchStart={() => setSelectedIndex(index)}\n            >\n              <span className=\"hour-time\">{formatHour(hour.time, index)}</span>\n              <div className=\"hour-icon\">\n                <WeatherIconAnimated\n                  weatherCode={hour.weatherCode}\n                  isDay={isDay(hour.time)}\n                  size={28}\n                />\n              </div>\n              <span className=\"hour-temp\" style={{ color: getTempColor(hour.temperature) }}>\n                {Math.round(hour.temperature)}\n              </span>\n              {hour.precipitationProbability > 0 && (\n                <div className=\"hour-rain\">\n                  <DropletIcon size={8} />\n                  {hour.precipitationProbability}%\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <style>{`\n        .hourly-card {\n          background: var(--bg-elevated);\n          border: 1px solid var(--border);\n          border-radius: var(--radius-xl);\n          padding: clamp(16px, 4vw, 24px);\n          display: flex;\n          flex-direction: column;\n          gap: clamp(12px, 3vw, 16px);\n          height: 100%;\n          min-width: 0;\n          overflow: hidden;\n        }\n\n        .hourly-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: flex-start;\n          gap: 12px;\n          flex-wrap: wrap;\n        }\n\n        .hourly-title {\n          font-size: clamp(14px, 3.5vw, 16px);\n          font-weight: 600;\n          color: var(--text-primary);\n          margin: 0 0 4px 0;\n        }\n\n        .hourly-subtitle {\n          font-size: clamp(11px, 2.5vw, 13px);\n          color: var(--text-tertiary);\n          margin: 0;\n        }\n\n        .rain-badge {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          padding: 4px 8px;\n          background: rgba(33, 150, 243, 0.1);\n          color: #2196f3;\n          border-radius: 10px;\n          font-size: 11px;\n          font-weight: 500;\n          flex-shrink: 0;\n        }\n\n        .chart-and-hours {\n          display: flex;\n          flex-direction: column;\n          gap: 0;\n        }\n\n        .chart-container {\n          position: relative;\n          height: clamp(80px, 12vw, 100px);\n          width: 100%;\n        }\n\n        .temp-chart {\n          width: 100%;\n          height: 100%;\n          display: block;\n        }\n\n        .chart-labels {\n          position: absolute;\n          right: 0;\n          top: 0;\n          bottom: 0;\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n          padding: 15% 0 22%;\n          font-size: clamp(8px, 2vw, 10px);\n          color: var(--text-tertiary);\n          font-weight: 500;\n          background: linear-gradient(90deg, transparent, var(--bg-elevated) 40%);\n          padding-left: 16px;\n          padding-right: 4px;\n        }\n\n        .hours-grid {\n          display: grid;\n          grid-template-columns: repeat(${numPoints}, 1fr);\n          gap: 4px;\n          padding-top: 8px;\n        }\n\n        .hour-item {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 4px;\n          padding: clamp(8px, 2vw, 12px) 4px;\n          background: var(--bg-subtle);\n          border: 1px solid var(--border);\n          border-radius: var(--radius-md);\n          cursor: pointer;\n          transition: var(--transition);\n          min-width: 0;\n        }\n\n        .hour-item:hover,\n        .hour-item.selected {\n          background: var(--accent-subtle);\n          border-color: var(--accent);\n          transform: translateY(-2px);\n          box-shadow: 0 4px 12px rgba(0,0,0,0.1);\n        }\n\n        .hour-item.current {\n          background: linear-gradient(135deg, var(--accent) 0%, #4a90d9 100%);\n          border-color: transparent;\n          color: white;\n          box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);\n        }\n\n        .hour-item.current .hour-time,\n        .hour-item.current .hour-temp {\n          color: white !important;\n        }\n\n        .hour-item.current .hour-rain {\n          background: rgba(255,255,255,0.25);\n          color: white;\n        }\n\n        .hour-icon {\n          width: 28px;\n          height: 28px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .hour-time {\n          font-size: clamp(9px, 2vw, 11px);\n          font-weight: 600;\n          color: var(--text-secondary);\n          letter-spacing: 0.2px;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          max-width: 100%;\n        }\n\n        .hour-temp {\n          font-size: clamp(12px, 3vw, 15px);\n          font-weight: 700;\n        }\n\n        .hour-rain {\n          display: flex;\n          align-items: center;\n          gap: 2px;\n          font-size: clamp(7px, 1.8vw, 9px);\n          color: #2196f3;\n          background: rgba(33, 150, 243, 0.1);\n          padding: 2px 4px;\n          border-radius: 4px;\n        }\n\n        @media (max-width: 600px) {\n          .hours-grid {\n            grid-template-columns: repeat(5, 1fr);\n          }\n\n          .hour-item:nth-child(n+6) {\n            display: none;\n          }\n        }\n\n        @media (max-width: 400px) {\n          .hour-item {\n            padding: 6px 2px;\n          }\n\n          .hour-icon {\n            width: 24px;\n            height: 24px;\n          }\n        }\n\n        @media (hover: none) {\n          .hour-item:hover {\n            background: var(--bg-subtle);\n            transform: none;\n            box-shadow: none;\n          }\n\n          .hour-item.selected {\n            background: var(--accent-subtle);\n            transform: translateY(-2px);\n          }\n\n          .hour-item.current:hover {\n            background: linear-gradient(135deg, var(--accent) 0%, #4a90d9 100%);\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\nimport type { DailyForecast } from '../types/weather';\nimport { DropletIcon, WindIcon } from './Icons';\nimport { formatDate } from '../services/weatherApi';\nimport { WeatherIconAnimated } from './WeatherIconAnimated';\nimport { useLanguage } from '../i18n/LanguageContext';\n\ninterface DailyForecastCardProps {\n  days: DailyForecast[];\n}\n\nexport const DailyForecastCard: React.FC<DailyForecastCardProps> = ({ days }) => {\n  const [expandedDay, setExpandedDay] = useState<number | null>(null);\n  const { t } = useLanguage();\n\n  const allTemps = days.flatMap(d => [d.temperatureMin, d.temperatureMax]);\n  const minTemp = Math.min(...allTemps);\n  const maxTemp = Math.max(...allTemps);\n  const tempRange = maxTemp - minTemp || 1;\n\n  // Weather code descriptions\n  const getWeatherDescription = (code: number): string => {\n    if (code === 0) return t.clearSky;\n    if (code >= 1 && code <= 2) return t.mainlyClear;\n    if (code === 3) return t.overcast;\n    if (code >= 45 && code <= 48) return t.fog;\n    if (code >= 51 && code <= 57) return t.drizzle;\n    if (code >= 61 && code <= 67) return code >= 65 ? t.heavyRain : t.rain;\n    if (code >= 71 && code <= 77) return code >= 75 ? t.heavySnow : t.snow;\n    if (code >= 80 && code <= 82) return t.rain;\n    if (code >= 85 && code <= 86) return t.heavySnow;\n    if (code >= 95 && code <= 99) return t.thunderstorm;\n    return t.partlyCloudy;\n  };\n\n  const getDayName = (dateStr: string, index: number): string => {\n    if (index === 0) return t.today;\n    if (index === 1) return t.tomorrow;\n    return formatDate(dateStr, { weekday: 'short' });\n  };\n\n  const getDateStr = (dateStr: string): string => {\n    return formatDate(dateStr, { day: 'numeric', month: 'short' });\n  };\n\n  const getBarPosition = (min: number, max: number) => {\n    const left = ((min - minTemp) / tempRange) * 100;\n    const right = 100 - ((max - minTemp) / tempRange) * 100;\n    return { left: `${left}%`, right: `${right}%` };\n  };\n\n  const getTempColor = (temp: number): string => {\n    if (temp <= 0) return '#2196f3';\n    if (temp <= 10) return '#00bcd4';\n    if (temp <= 20) return '#4caf50';\n    if (temp <= 30) return '#ff9800';\n    return '#f44336';\n  };\n\n  const getGradient = (min: number, max: number): string => {\n    return `linear-gradient(90deg, ${getTempColor(min)}, ${getTempColor(max)})`;\n  };\n\n  const toggleDay = (index: number) => {\n    setExpandedDay(expandedDay === index ? null : index);\n  };\n\n  return (\n    <div className=\"daily-card\">\n      <div className=\"daily-header\">\n        <h3 className=\"daily-title\">{t.next10Days}</h3>\n        <div className=\"temp-range-legend\">\n          <span>{Math.round(minTemp)}</span>\n          <div className=\"legend-bar\" />\n          <span>{Math.round(maxTemp)}</span>\n        </div>\n      </div>\n\n      <div className=\"days-container\">\n        {days.map((day, index) => {\n          const isExpanded = expandedDay === index;\n\n          return (\n            <div\n              key={day.date}\n              className={`day-item ${index === 0 ? 'today' : ''} ${isExpanded ? 'expanded' : ''}`}\n              onClick={() => toggleDay(index)}\n            >\n              <div className=\"day-main\">\n                <div className=\"day-left\">\n                  <span className=\"day-name\">{getDayName(day.date, index)}</span>\n                  <span className=\"day-date\">{getDateStr(day.date)}</span>\n                </div>\n\n                <div className=\"day-icon\">\n                  <WeatherIconAnimated weatherCode={day.weatherCode} size={40} />\n                  {day.precipitationProbability > 0 && (\n                    <span className=\"day-precip\">\n                      <DropletIcon size={10} />\n                      {day.precipitationProbability}%\n                    </span>\n                  )}\n                </div>\n\n                <div className=\"day-temps\">\n                  <span className=\"temp-min\" style={{ color: getTempColor(day.temperatureMin) }}>\n                    {Math.round(day.temperatureMin)}\n                  </span>\n                  <div className=\"temp-bar-wrapper\">\n                    <div className=\"temp-bar-bg\" />\n                    <div\n                      className=\"temp-bar-fill\"\n                      style={{\n                        ...getBarPosition(day.temperatureMin, day.temperatureMax),\n                        background: getGradient(day.temperatureMin, day.temperatureMax),\n                      }}\n                    />\n                  </div>\n                  <span className=\"temp-max\" style={{ color: getTempColor(day.temperatureMax) }}>\n                    {Math.round(day.temperatureMax)}\n                  </span>\n                </div>\n\n                <div className=\"day-expand\">\n                  <svg\n                    width=\"14\"\n                    height=\"14\"\n                    viewBox=\"0 0 16 16\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"2\"\n                    strokeLinecap=\"round\"\n                    style={{ transform: isExpanded ? 'rotate(180deg)' : 'rotate(0deg)', transition: '0.2s' }}\n                  >\n                    <path d=\"M4 6l4 4 4-4\" />\n                  </svg>\n                </div>\n              </div>\n\n              {isExpanded && (\n                <div className=\"day-details\">\n                  <div className=\"detail-grid\">\n                    <div className=\"detail-item\">\n                      <span className=\"detail-label\">{t.condition}</span>\n                      <span className=\"detail-value\">{getWeatherDescription(day.weatherCode)}</span>\n                    </div>\n                    <div className=\"detail-item\">\n                      <span className=\"detail-label\">{t.precipitation}</span>\n                      <span className=\"detail-value\">{day.precipitationSum?.toFixed(1) ?? 0} mm</span>\n                    </div>\n                    <div className=\"detail-item\">\n                      <span className=\"detail-label\">{t.maxWind}</span>\n                      <span className=\"detail-value\">\n                        <WindIcon size={12} />\n                        {Math.round(day.windSpeedMax ?? 0)} km/h\n                      </span>\n                    </div>\n                    <div className=\"detail-item\">\n                      <span className=\"detail-label\">{t.uvIndex}</span>\n                      <span className=\"detail-value\">{Math.round(day.uvIndexMax ?? 0)}</span>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          );\n        })}\n      </div>\n\n      <style>{`\n        .daily-card {\n          background: var(--bg-elevated);\n          border: 1px solid var(--border);\n          border-radius: var(--radius-xl);\n          padding: clamp(16px, 4vw, 24px);\n          display: flex;\n          flex-direction: column;\n          gap: clamp(12px, 3vw, 20px);\n          min-width: 0;\n          overflow: hidden;\n        }\n\n        .daily-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          gap: 12px;\n          flex-wrap: wrap;\n        }\n\n        .daily-title {\n          font-size: clamp(14px, 3.5vw, 16px);\n          font-weight: 600;\n          color: var(--text-primary);\n          margin: 0;\n        }\n\n        .temp-range-legend {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          font-size: clamp(9px, 2vw, 11px);\n          color: var(--text-tertiary);\n          font-weight: 500;\n        }\n\n        .legend-bar {\n          width: clamp(40px, 10vw, 60px);\n          height: 4px;\n          border-radius: 2px;\n          background: linear-gradient(90deg, #2196f3, #00bcd4, #4caf50, #ff9800, #f44336);\n        }\n\n        .days-container {\n          display: flex;\n          flex-direction: column;\n          gap: 2px;\n        }\n\n        .day-item {\n          border-radius: var(--radius-md);\n          cursor: pointer;\n          transition: var(--transition);\n          overflow: hidden;\n        }\n\n        .day-item:hover {\n          background: var(--bg-subtle);\n        }\n\n        .day-item.today {\n          background: var(--accent-subtle);\n        }\n\n        .day-item.expanded {\n          background: var(--bg-subtle);\n        }\n\n        .day-main {\n          display: grid;\n          grid-template-columns: minmax(60px, 90px) 50px 1fr 20px;\n          align-items: center;\n          gap: clamp(8px, 2vw, 16px);\n          padding: clamp(10px, 2.5vw, 14px) clamp(10px, 2.5vw, 16px);\n        }\n\n        .day-left {\n          display: flex;\n          flex-direction: column;\n          gap: 2px;\n          min-width: 0;\n        }\n\n        .day-name {\n          font-size: clamp(12px, 3vw, 14px);\n          font-weight: 600;\n          color: var(--text-primary);\n          text-transform: capitalize;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .day-date {\n          font-size: clamp(10px, 2.5vw, 12px);\n          color: var(--text-tertiary);\n        }\n\n        .day-icon {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 2px;\n          color: var(--accent);\n          width: 45px;\n          min-width: 45px;\n        }\n\n        .day-precip {\n          display: flex;\n          align-items: center;\n          gap: 2px;\n          font-size: clamp(8px, 2vw, 10px);\n          color: #2196f3;\n          font-weight: 500;\n        }\n\n        .day-temps {\n          display: flex;\n          align-items: center;\n          gap: clamp(6px, 2vw, 12px);\n          min-width: 0;\n        }\n\n        .temp-min,\n        .temp-max {\n          font-size: clamp(12px, 3vw, 14px);\n          font-weight: 600;\n          width: clamp(28px, 7vw, 36px);\n          flex-shrink: 0;\n        }\n\n        .temp-min {\n          text-align: right;\n        }\n\n        .temp-bar-wrapper {\n          flex: 1;\n          height: 5px;\n          position: relative;\n          min-width: clamp(40px, 15vw, 80px);\n        }\n\n        .temp-bar-bg {\n          position: absolute;\n          inset: 0;\n          background: var(--border);\n          border-radius: 3px;\n        }\n\n        .temp-bar-fill {\n          position: absolute;\n          top: 0;\n          bottom: 0;\n          border-radius: 3px;\n          transition: all 0.3s ease;\n        }\n\n        .day-expand {\n          color: var(--text-tertiary);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex-shrink: 0;\n        }\n\n        .day-details {\n          padding: 0 clamp(10px, 2.5vw, 16px) clamp(10px, 2.5vw, 16px);\n          border-top: 1px solid var(--border);\n          padding-top: clamp(10px, 2.5vw, 12px);\n        }\n\n        .detail-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(min(100%, 120px), 1fr));\n          gap: clamp(8px, 2vw, 12px);\n        }\n\n        .detail-item {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n\n        .detail-label {\n          font-size: clamp(9px, 2vw, 11px);\n          color: var(--text-tertiary);\n          text-transform: uppercase;\n          letter-spacing: 0.3px;\n          font-weight: 500;\n        }\n\n        .detail-value {\n          font-size: clamp(12px, 3vw, 14px);\n          font-weight: 500;\n          color: var(--text-primary);\n          display: flex;\n          align-items: center;\n          gap: 4px;\n        }\n\n        .detail-value svg {\n          color: var(--accent);\n        }\n\n        @media (max-width: 480px) {\n          .day-main {\n            grid-template-columns: minmax(50px, 70px) 40px 1fr 16px;\n          }\n\n          .temp-range-legend {\n            display: none;\n          }\n\n          .day-precip {\n            display: none;\n          }\n        }\n\n        @media (hover: none) {\n          .day-item:hover {\n            background: transparent;\n          }\n\n          .day-item.today:hover {\n            background: var(--accent-subtle);\n          }\n\n          .day-item.expanded:hover {\n            background: var(--bg-subtle);\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n","import React from 'react';\nimport type { AirQuality, CurrentWeather, DailyForecast, MarineData } from '../types/weather';\nimport { AirVentIcon, SunriseIcon, SunsetIcon, CompassIcon, WavesIcon } from './Icons';\nimport { aqiCategoryLabels, windDirectionToCardinal, formatTime } from '../services/weatherApi';\nimport { ClickableValue } from './HistoricalModal';\n\n// Shared styles for info cards\nexport const InfoCardStyles: React.FC = () => (\n  <style>{`\n    .info-card {\n      background: var(--bg-elevated);\n      border: 1px solid var(--border);\n      border-radius: var(--radius-xl);\n      padding: clamp(16px, 4vw, 24px);\n      display: flex;\n      flex-direction: column;\n      gap: clamp(14px, 3vw, 20px);\n      min-width: 0;\n      overflow: hidden;\n    }\n\n    .info-card-header {\n      display: flex;\n      align-items: center;\n      gap: clamp(10px, 2.5vw, 14px);\n      flex-wrap: wrap;\n    }\n\n    .info-card-icon {\n      width: clamp(32px, 8vw, 40px);\n      height: clamp(32px, 8vw, 40px);\n      border-radius: var(--radius-md);\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      background: var(--accent-subtle);\n      color: var(--accent);\n      flex-shrink: 0;\n    }\n\n    .info-card-title {\n      font-size: clamp(14px, 3.5vw, 16px);\n      font-weight: 600;\n      color: var(--text-primary);\n      margin: 0;\n    }\n\n    .info-card-subtitle {\n      font-size: clamp(10px, 2.5vw, 12px);\n      color: var(--text-tertiary);\n      font-weight: 500;\n    }\n\n    .info-card-content {\n      display: flex;\n      flex-direction: column;\n      gap: clamp(12px, 3vw, 16px);\n    }\n  `}</style>\n);\n\n// Air Quality Card\ninterface AirQualityCardProps {\n  airQuality: AirQuality;\n}\n\nexport const AirQualityCard: React.FC<AirQualityCardProps> = ({ airQuality }) => {\n  const aqiInfo = aqiCategoryLabels[airQuality.category];\n\n  const pollutants = [\n    { name: 'PM2.5', value: airQuality.pm25 ?? 0, unit: 'g/m', max: 50, desc: 'Partculas finas' },\n    { name: 'PM10', value: airQuality.pm10 ?? 0, unit: 'g/m', max: 100, desc: 'Partculas gruesas' },\n    { name: 'NO', value: airQuality.no2 ?? 0, unit: 'g/m', max: 200, desc: 'Dixido nitrgeno' },\n    { name: 'O', value: airQuality.o3 ?? 0, unit: 'g/m', max: 180, desc: 'Ozono' },\n    { name: 'SO', value: airQuality.so2 ?? 0, unit: 'g/m', max: 350, desc: 'Dixido azufre' },\n    { name: 'CO', value: airQuality.co ?? 0, unit: 'g/m', max: 10000, desc: 'Monxido carbono' },\n  ];\n\n  const getBarColor = (value: number, max: number): string => {\n    const ratio = value / max;\n    if (ratio <= 0.25) return '#22c55e';\n    if (ratio <= 0.5) return '#eab308';\n    if (ratio <= 0.75) return '#f97316';\n    return '#ef4444';\n  };\n\n  return (\n    <div className=\"info-card aqi-card\">\n      <div className=\"info-card-header\">\n        <div className=\"info-card-icon\" style={{ background: `${aqiInfo.color}20`, color: aqiInfo.color }}>\n          <AirVentIcon size={20} />\n        </div>\n        <div>\n          <h4 className=\"info-card-title\">Calidad del Aire</h4>\n          <span className=\"info-card-subtitle\">ndice AQI Europeo</span>\n        </div>\n      </div>\n\n      <div className=\"info-card-content\">\n        <div className=\"aqi-main\">\n          <div className=\"aqi-value\" style={{ backgroundColor: aqiInfo.color }}>\n            {airQuality.aqi ?? 0}\n          </div>\n          <div className=\"aqi-info\">\n            <span className=\"aqi-status\" style={{ color: aqiInfo.color }}>\n              {aqiInfo.label}\n            </span>\n            <span className=\"aqi-desc\">\n              {aqiInfo.label === 'Buena' && 'Ideal para actividades al aire libre'}\n              {aqiInfo.label === 'Moderada' && 'Aceptable para la mayora de personas'}\n              {aqiInfo.label === 'Desfavorable' && 'Grupos sensibles pueden verse afectados'}\n              {aqiInfo.label === 'Mala' && 'Evite actividades intensas al exterior'}\n              {aqiInfo.label === 'Muy mala' && 'Permanezca en interiores si es posible'}\n            </span>\n          </div>\n        </div>\n\n        <div className=\"aqi-scale\">\n          <div className=\"aqi-scale-bar\">\n            <div\n              className=\"aqi-scale-marker\"\n              style={{ left: `${Math.min((airQuality.aqi ?? 0), 100)}%` }}\n            />\n          </div>\n          <div className=\"aqi-scale-labels\">\n            <span>Buena</span>\n            <span>Moderada</span>\n            <span>Mala</span>\n          </div>\n        </div>\n\n        <div className=\"pollutants-grid\">\n          {pollutants.map(p => (\n            <div key={p.name} className=\"pollutant-item\">\n              <div className=\"pollutant-header\">\n                <span className=\"pollutant-name\">{p.name}</span>\n                <span className=\"pollutant-value\">{p.value.toFixed(1)}</span>\n              </div>\n              <div className=\"pollutant-bar-container\">\n                <div\n                  className=\"pollutant-bar\"\n                  style={{\n                    width: `${Math.min((p.value / p.max) * 100, 100)}%`,\n                    backgroundColor: getBarColor(p.value, p.max)\n                  }}\n                />\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <style>{`\n        .aqi-main {\n          display: flex;\n          align-items: center;\n          gap: clamp(12px, 3vw, 16px);\n          flex-wrap: wrap;\n        }\n\n        .aqi-value {\n          width: clamp(52px, 12vw, 64px);\n          height: clamp(52px, 12vw, 64px);\n          border-radius: var(--radius-lg);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: clamp(18px, 4.5vw, 24px);\n          font-weight: 700;\n          color: white;\n          flex-shrink: 0;\n        }\n\n        .aqi-info {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n          min-width: 0;\n          flex: 1;\n        }\n\n        .aqi-status {\n          font-size: clamp(15px, 3.5vw, 18px);\n          font-weight: 600;\n        }\n\n        .aqi-desc {\n          font-size: clamp(11px, 2.5vw, 13px);\n          color: var(--text-tertiary);\n          line-height: 1.4;\n        }\n\n        .aqi-scale {\n          display: flex;\n          flex-direction: column;\n          gap: 6px;\n        }\n\n        .aqi-scale-bar {\n          height: clamp(6px, 1.5vw, 8px);\n          background: linear-gradient(90deg, #22c55e 0%, #eab308 33%, #f97316 66%, #ef4444 100%);\n          border-radius: 4px;\n          position: relative;\n        }\n\n        .aqi-scale-marker {\n          position: absolute;\n          top: -4px;\n          width: 4px;\n          height: clamp(12px, 3vw, 16px);\n          background: var(--text-primary);\n          border-radius: 2px;\n          transform: translateX(-50%);\n          box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n        }\n\n        .aqi-scale-labels {\n          display: flex;\n          justify-content: space-between;\n          font-size: clamp(9px, 2vw, 11px);\n          color: var(--text-tertiary);\n          font-weight: 500;\n        }\n\n        .pollutants-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(min(100%, 120px), 1fr));\n          gap: clamp(8px, 2vw, 12px);\n        }\n\n        .pollutant-item {\n          display: flex;\n          flex-direction: column;\n          gap: 6px;\n          padding: clamp(10px, 2.5vw, 12px);\n          background: var(--bg-subtle);\n          border-radius: var(--radius-md);\n        }\n\n        .pollutant-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: baseline;\n          gap: 8px;\n        }\n\n        .pollutant-name {\n          font-size: clamp(10px, 2.5vw, 12px);\n          font-weight: 600;\n          color: var(--text-secondary);\n        }\n\n        .pollutant-value {\n          font-size: clamp(11px, 2.5vw, 13px);\n          font-weight: 600;\n          color: var(--text-primary);\n        }\n\n        .pollutant-bar-container {\n          height: 4px;\n          background: var(--border);\n          border-radius: 2px;\n          overflow: hidden;\n        }\n\n        .pollutant-bar {\n          height: 100%;\n          border-radius: 2px;\n          transition: width 0.3s ease;\n        }\n      `}</style>\n    </div>\n  );\n};\n\n// Sun Times Card\ninterface SunTimesCardProps {\n  today: DailyForecast;\n  weather: CurrentWeather;\n  lat?: number;\n  lon?: number;\n}\n\nexport const SunTimesCard: React.FC<SunTimesCardProps> = ({ today, weather, lat = 0, lon = 0 }) => {\n  const sunrise = new Date(today.sunrise);\n  const sunset = new Date(today.sunset);\n  const now = new Date();\n\n  const dayLength = sunset.getTime() - sunrise.getTime();\n  const elapsed = now.getTime() - sunrise.getTime();\n  const progress = Math.max(0, Math.min(100, (elapsed / dayLength) * 100));\n\n  const dayHours = Math.floor(dayLength / (1000 * 60 * 60));\n  const dayMins = Math.floor((dayLength % (1000 * 60 * 60)) / (1000 * 60));\n\n  const uvLevel = (uv: number): string => {\n    if (uv <= 2) return 'Bajo';\n    if (uv <= 5) return 'Moderado';\n    if (uv <= 7) return 'Alto';\n    if (uv <= 10) return 'Muy alto';\n    return 'Extremo';\n  };\n\n  const uvColor = (uv: number): string => {\n    if (uv <= 2) return '#22c55e';\n    if (uv <= 5) return '#eab308';\n    if (uv <= 7) return '#f97316';\n    if (uv <= 10) return '#ef4444';\n    return '#a855f7';\n  };\n\n  const uvAdvice = (uv: number): string => {\n    if (uv <= 2) return 'No se requiere proteccin';\n    if (uv <= 5) return 'Use proteccin solar';\n    if (uv <= 7) return 'Proteccin solar necesaria';\n    if (uv <= 10) return 'Evite exposicin prolongada';\n    return 'Evite salir al sol';\n  };\n\n  return (\n    <div className=\"info-card sun-card\">\n      <div className=\"info-card-header\">\n        <div className=\"info-card-icon\">\n          <SunriseIcon size={20} />\n        </div>\n        <div>\n          <h4 className=\"info-card-title\">Sol y UV</h4>\n          <span className=\"info-card-subtitle\">{dayHours}h {dayMins}m de luz solar</span>\n        </div>\n      </div>\n\n      <div className=\"info-card-content\">\n        <div className=\"sun-arc-container\">\n          <svg viewBox=\"0 0 200 110\" className=\"sun-arc\">\n            <defs>\n              <linearGradient id=\"arcGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n                <stop offset=\"0%\" stopColor=\"#ff9800\" stopOpacity=\"0.3\" />\n                <stop offset=\"50%\" stopColor=\"#ffc107\" />\n                <stop offset=\"100%\" stopColor=\"#ff9800\" stopOpacity=\"0.3\" />\n              </linearGradient>\n            </defs>\n            <path\n              d=\"M 10 100 A 90 90 0 0 1 190 100\"\n              fill=\"none\"\n              stroke=\"var(--border)\"\n              strokeWidth=\"3\"\n              strokeLinecap=\"round\"\n            />\n            <path\n              d=\"M 10 100 A 90 90 0 0 1 190 100\"\n              fill=\"none\"\n              stroke=\"url(#arcGradient)\"\n              strokeWidth=\"3\"\n              strokeLinecap=\"round\"\n              strokeDasharray={`${(progress / 100) * 283} 283`}\n            />\n            {progress > 0 && progress < 100 && (\n              <g>\n                <circle\n                  cx={10 + (180 * progress) / 100}\n                  cy={100 - Math.sin((progress / 100) * Math.PI) * 85}\n                  r=\"12\"\n                  fill=\"#ffc107\"\n                />\n                <circle\n                  cx={10 + (180 * progress) / 100}\n                  cy={100 - Math.sin((progress / 100) * Math.PI) * 85}\n                  r=\"16\"\n                  fill=\"#ffc107\"\n                  opacity=\"0.3\"\n                />\n              </g>\n            )}\n            <line x1=\"10\" y1=\"100\" x2=\"10\" y2=\"105\" stroke=\"var(--text-tertiary)\" strokeWidth=\"2\" />\n            <line x1=\"190\" y1=\"100\" x2=\"190\" y2=\"105\" stroke=\"var(--text-tertiary)\" strokeWidth=\"2\" />\n          </svg>\n        </div>\n\n        <div className=\"sun-times\">\n          <div className=\"sun-time-item\">\n            <div className=\"sun-time-icon sunrise\">\n              <SunriseIcon size={18} />\n            </div>\n            <div className=\"sun-time-info\">\n              <span className=\"sun-time-label\">Amanecer</span>\n              <span className=\"sun-time-value\">{formatTime(today.sunrise)}</span>\n            </div>\n          </div>\n          <div className=\"sun-time-item\">\n            <div className=\"sun-time-icon sunset\">\n              <SunsetIcon size={18} />\n            </div>\n            <div className=\"sun-time-info\">\n              <span className=\"sun-time-label\">Atardecer</span>\n              <span className=\"sun-time-value\">{formatTime(today.sunset)}</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"uv-section\">\n          <div className=\"uv-main\">\n            <ClickableValue\n              value={weather.uvIndex}\n              unit=\"\"\n              type=\"uv\"\n              title=\"ndice UV\"\n              lat={lat}\n              lon={lon}\n              className=\"uv-clickable\"\n            >\n              <div className=\"uv-circle\" style={{ borderColor: uvColor(weather.uvIndex) }}>\n                <span className=\"uv-value\" style={{ color: uvColor(weather.uvIndex) }}>\n                  {Math.round(weather.uvIndex)}\n                </span>\n                <span className=\"uv-label\">UV</span>\n              </div>\n            </ClickableValue>\n            <div className=\"uv-info\">\n              <span className=\"uv-level\" style={{ color: uvColor(weather.uvIndex) }}>\n                {uvLevel(weather.uvIndex)}\n              </span>\n              <span className=\"uv-advice\">{uvAdvice(weather.uvIndex)}</span>\n            </div>\n          </div>\n          <div className=\"uv-bar-container\">\n            <div className=\"uv-bar-scale\">\n              <span>0</span>\n              <span>3</span>\n              <span>6</span>\n              <span>9</span>\n              <span>11+</span>\n            </div>\n            <div className=\"uv-bar-track\">\n              <div\n                className=\"uv-bar-marker\"\n                style={{ left: `${Math.min((weather.uvIndex / 11) * 100, 100)}%` }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <style>{`\n        .sun-arc-container {\n          width: 100%;\n          max-width: min(220px, 60vw);\n          margin: 0 auto;\n        }\n\n        .sun-arc {\n          width: 100%;\n          height: auto;\n        }\n\n        .sun-times {\n          display: flex;\n          justify-content: space-between;\n          gap: clamp(8px, 2vw, 16px);\n          flex-wrap: wrap;\n        }\n\n        .sun-time-item {\n          display: flex;\n          align-items: center;\n          gap: clamp(8px, 2vw, 12px);\n          flex: 1;\n          min-width: min(100%, 140px);\n          padding: clamp(10px, 2.5vw, 12px);\n          background: var(--bg-subtle);\n          border-radius: var(--radius-md);\n        }\n\n        .sun-time-icon {\n          width: clamp(30px, 7vw, 36px);\n          height: clamp(30px, 7vw, 36px);\n          border-radius: var(--radius-sm);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex-shrink: 0;\n        }\n\n        .sun-time-icon.sunrise {\n          background: rgba(255, 152, 0, 0.15);\n          color: #ff9800;\n        }\n\n        .sun-time-icon.sunset {\n          background: rgba(233, 30, 99, 0.15);\n          color: #e91e63;\n        }\n\n        .sun-time-info {\n          display: flex;\n          flex-direction: column;\n          gap: 2px;\n          min-width: 0;\n        }\n\n        .sun-time-label {\n          font-size: clamp(9px, 2vw, 11px);\n          color: var(--text-tertiary);\n          text-transform: uppercase;\n          letter-spacing: 0.3px;\n          font-weight: 500;\n        }\n\n        .sun-time-value {\n          font-size: clamp(14px, 3.5vw, 16px);\n          font-weight: 600;\n          color: var(--text-primary);\n        }\n\n        .uv-section {\n          display: flex;\n          flex-direction: column;\n          gap: clamp(10px, 2.5vw, 12px);\n          padding: clamp(12px, 3vw, 16px);\n          background: var(--bg-subtle);\n          border-radius: var(--radius-md);\n        }\n\n        .uv-main {\n          display: flex;\n          align-items: center;\n          gap: clamp(12px, 3vw, 16px);\n          flex-wrap: wrap;\n        }\n\n        .uv-circle {\n          width: clamp(48px, 12vw, 56px);\n          height: clamp(48px, 12vw, 56px);\n          border-radius: 50%;\n          border: 3px solid;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          flex-shrink: 0;\n        }\n\n        .uv-value {\n          font-size: clamp(16px, 4vw, 20px);\n          font-weight: 700;\n          line-height: 1;\n        }\n\n        .uv-label {\n          font-size: clamp(8px, 2vw, 10px);\n          color: var(--text-tertiary);\n          font-weight: 500;\n        }\n\n        .uv-info {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n          min-width: 0;\n          flex: 1;\n        }\n\n        .uv-level {\n          font-size: clamp(14px, 3.5vw, 16px);\n          font-weight: 600;\n        }\n\n        .uv-advice {\n          font-size: clamp(10px, 2.5vw, 12px);\n          color: var(--text-tertiary);\n        }\n\n        .uv-bar-container {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n\n        .uv-bar-scale {\n          display: flex;\n          justify-content: space-between;\n          font-size: clamp(8px, 2vw, 10px);\n          color: var(--text-tertiary);\n          font-weight: 500;\n        }\n\n        .uv-bar-track {\n          height: clamp(5px, 1.5vw, 6px);\n          background: linear-gradient(90deg, #22c55e 0%, #eab308 27%, #f97316 55%, #ef4444 82%, #a855f7 100%);\n          border-radius: 3px;\n          position: relative;\n        }\n\n        .uv-bar-marker {\n          position: absolute;\n          top: -3px;\n          width: 4px;\n          height: clamp(10px, 2.5vw, 12px);\n          background: var(--text-primary);\n          border-radius: 2px;\n          transform: translateX(-50%);\n        }\n\n        .uv-clickable .uv-circle {\n          cursor: pointer;\n          transition: all 0.2s;\n        }\n\n        .uv-clickable:hover .uv-circle {\n          transform: scale(1.1);\n          box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n        }\n      `}</style>\n    </div>\n  );\n};\n\n// Wind Card\ninterface WindCardProps {\n  weather: CurrentWeather;\n  lat?: number;\n  lon?: number;\n}\n\nexport const WindCard: React.FC<WindCardProps> = ({ weather, lat = 0, lon = 0 }) => {\n  const cardinal = windDirectionToCardinal(weather.windDirection);\n\n  const getWindLevel = (speed: number): { label: string; color: string } => {\n    if (speed < 12) return { label: 'Calmado', color: '#22c55e' };\n    if (speed < 20) return { label: 'Brisa', color: '#4caf50' };\n    if (speed < 30) return { label: 'Moderado', color: '#ff9800' };\n    if (speed < 50) return { label: 'Fuerte', color: '#f97316' };\n    return { label: 'Muy fuerte', color: '#ef4444' };\n  };\n\n  const windLevel = getWindLevel(weather.windSpeed);\n\n  return (\n    <div className=\"info-card wind-card\">\n      <div className=\"info-card-header\">\n        <div className=\"info-card-icon\">\n          <CompassIcon size={20} />\n        </div>\n        <div>\n          <h4 className=\"info-card-title\">Viento</h4>\n          <span className=\"info-card-subtitle\">{windLevel.label}</span>\n        </div>\n      </div>\n\n      <div className=\"info-card-content\">\n        <div className=\"wind-compass\">\n          <div className=\"compass-ring\">\n            <span className=\"compass-direction n\">N</span>\n            <span className=\"compass-direction e\">E</span>\n            <span className=\"compass-direction s\">S</span>\n            <span className=\"compass-direction w\">O</span>\n\n            <div className=\"compass-ticks\">\n              {[...Array(36)].map((_, i) => (\n                <div\n                  key={i}\n                  className=\"compass-tick\"\n                  style={{ transform: `rotate(${i * 10}deg)` }}\n                />\n              ))}\n            </div>\n\n            <div\n              className=\"compass-needle\"\n              style={{ transform: `rotate(${weather.windDirection}deg)` }}\n            >\n              <div className=\"needle-body\" />\n            </div>\n          </div>\n          <ClickableValue\n            value={weather.windSpeed}\n            unit=\"km/h\"\n            type=\"wind\"\n            title=\"Velocidad del Viento\"\n            lat={lat}\n            lon={lon}\n            className=\"wind-speed-clickable\"\n          >\n            <div className=\"wind-speed-center\">\n              <span className=\"wind-speed-value\">{Math.round(weather.windSpeed)}</span>\n              <span className=\"wind-speed-unit\">km/h</span>\n            </div>\n          </ClickableValue>\n        </div>\n\n        <div className=\"wind-stats\">\n          <div className=\"wind-stat\">\n            <span className=\"wind-stat-label\">Direccin</span>\n            <span className=\"wind-stat-value\">{cardinal}</span>\n            <span className=\"wind-stat-extra\">{weather.windDirection}</span>\n          </div>\n          <div className=\"wind-stat\">\n            <span className=\"wind-stat-label\">Rfagas</span>\n            <span className=\"wind-stat-value\">{Math.round(weather.windGusts)}</span>\n            <span className=\"wind-stat-extra\">km/h</span>\n          </div>\n          <div className=\"wind-stat\">\n            <span className=\"wind-stat-label\">Intensidad</span>\n            <span className=\"wind-stat-value\" style={{ color: windLevel.color }}>{windLevel.label}</span>\n          </div>\n        </div>\n      </div>\n\n      <style>{`\n        .wind-compass {\n          position: relative;\n          width: clamp(120px, 35vw, 160px);\n          height: clamp(120px, 35vw, 160px);\n          margin: 0 auto;\n        }\n\n        .compass-ring {\n          position: absolute;\n          inset: 0;\n          border: 2px solid var(--border);\n          border-radius: 50%;\n          background: var(--bg-subtle);\n        }\n\n        .compass-ticks {\n          position: absolute;\n          inset: 8px;\n        }\n\n        .compass-tick {\n          position: absolute;\n          top: 0;\n          left: 50%;\n          width: 1px;\n          height: 6px;\n          background: var(--border);\n          transform-origin: 50% calc(clamp(60px, 17.5vw, 80px) - 8px);\n        }\n\n        .compass-tick:nth-child(9n) {\n          height: 10px;\n          background: var(--text-tertiary);\n        }\n\n        .compass-direction {\n          position: absolute;\n          font-size: clamp(10px, 2.5vw, 12px);\n          font-weight: 600;\n          color: var(--text-secondary);\n        }\n\n        .compass-direction.n { top: 10px; left: 50%; transform: translateX(-50%); }\n        .compass-direction.e { right: 10px; top: 50%; transform: translateY(-50%); }\n        .compass-direction.s { bottom: 10px; left: 50%; transform: translateX(-50%); }\n        .compass-direction.w { left: 10px; top: 50%; transform: translateY(-50%); }\n\n        .compass-needle {\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          width: 6px;\n          height: clamp(40px, 12vw, 56px);\n          margin-left: -3px;\n          margin-top: clamp(-40px, -12vw, -56px);\n          transform-origin: 50% 100%;\n          transition: transform 0.5s ease;\n        }\n\n        .needle-body {\n          width: 0;\n          height: 0;\n          border-left: 6px solid transparent;\n          border-right: 6px solid transparent;\n          border-bottom: clamp(40px, 12vw, 56px) solid var(--accent);\n          margin-left: -3px;\n        }\n\n        .wind-speed-center {\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          background: var(--bg-elevated);\n          padding: clamp(10px, 3vw, 16px);\n          border-radius: 50%;\n          width: clamp(52px, 16vw, 72px);\n          height: clamp(52px, 16vw, 72px);\n          justify-content: center;\n          border: 2px solid var(--border);\n        }\n\n        .wind-speed-value {\n          font-size: clamp(16px, 4.5vw, 22px);\n          font-weight: 700;\n          color: var(--text-primary);\n          line-height: 1;\n        }\n\n        .wind-speed-unit {\n          font-size: clamp(8px, 2vw, 10px);\n          color: var(--text-tertiary);\n          font-weight: 500;\n        }\n\n        .wind-stats {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(min(100%, 80px), 1fr));\n          gap: clamp(8px, 2vw, 12px);\n        }\n\n        .wind-stat {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 4px;\n          padding: clamp(10px, 2.5vw, 12px) clamp(6px, 1.5vw, 8px);\n          background: var(--bg-subtle);\n          border-radius: var(--radius-md);\n        }\n\n        .wind-stat-label {\n          font-size: clamp(8px, 2vw, 10px);\n          color: var(--text-tertiary);\n          text-transform: uppercase;\n          letter-spacing: 0.3px;\n          font-weight: 500;\n          text-align: center;\n        }\n\n        .wind-stat-value {\n          font-size: clamp(13px, 3.5vw, 16px);\n          font-weight: 600;\n          color: var(--text-primary);\n          text-align: center;\n        }\n\n        .wind-stat-extra {\n          font-size: clamp(9px, 2vw, 11px);\n          color: var(--text-tertiary);\n        }\n\n        .wind-speed-clickable {\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n        }\n\n        .wind-speed-clickable .wind-speed-center {\n          cursor: pointer;\n          transition: all 0.2s;\n        }\n\n        .wind-speed-clickable:hover .wind-speed-center {\n          background: var(--accent-subtle);\n          border-color: var(--accent);\n        }\n      `}</style>\n    </div>\n  );\n};\n\n// Marine Card\ninterface MarineCardProps {\n  marine: MarineData;\n}\n\nexport const MarineCard: React.FC<MarineCardProps> = ({ marine }) => {\n  const waveHeight = marine.waveHeight ?? 0;\n  const wavePeriod = marine.wavePeriod ?? 0;\n  const waveDirection = marine.waveDirection ?? 0;\n  const swellHeight = marine.swellHeight ?? 0;\n  const seaTemperature = marine.seaTemperature ?? 0;\n\n  const waveCardinal = windDirectionToCardinal(waveDirection);\n\n  const waveCondition = (height: number): { label: string; color: string } => {\n    if (height < 0.5) return { label: 'Calma', color: '#22c55e' };\n    if (height < 1) return { label: 'Mar rizada', color: '#4caf50' };\n    if (height < 1.5) return { label: 'Marejadilla', color: '#ff9800' };\n    if (height < 2.5) return { label: 'Marejada', color: '#f97316' };\n    if (height < 4) return { label: 'Fuerte marejada', color: '#ef4444' };\n    return { label: 'Mar gruesa', color: '#ef4444' };\n  };\n\n  const condition = waveCondition(waveHeight);\n\n  return (\n    <div className=\"info-card marine-card\">\n      <div className=\"info-card-header\">\n        <div className=\"info-card-icon\" style={{ background: 'rgba(33, 150, 243, 0.15)', color: '#2196f3' }}>\n          <WavesIcon size={20} />\n        </div>\n        <div>\n          <h4 className=\"info-card-title\">Condiciones Marinas</h4>\n          <span className=\"info-card-subtitle\" style={{ color: condition.color }}>{condition.label}</span>\n        </div>\n      </div>\n\n      <div className=\"info-card-content\">\n        <div className=\"marine-main\">\n          <div className=\"wave-display\">\n            <span className=\"wave-height\">{waveHeight.toFixed(1)}</span>\n            <span className=\"wave-unit\">m</span>\n          </div>\n          <div className=\"wave-info\">\n            <div className=\"wave-direction-indicator\">\n              <svg viewBox=\"0 0 24 24\" width=\"20\" height=\"20\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" style={{ transform: `rotate(${waveDirection}deg)` }}>\n                <path d=\"M12 19V5M5 12l7-7 7 7\" />\n              </svg>\n              <span>Desde {waveCardinal}</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"marine-grid\">\n          <div className=\"marine-stat\">\n            <span className=\"marine-stat-value\">{wavePeriod.toFixed(1)}<span className=\"marine-stat-unit\">s</span></span>\n            <span className=\"marine-stat-label\">Perodo</span>\n          </div>\n          <div className=\"marine-stat\">\n            <span className=\"marine-stat-value\">{swellHeight.toFixed(1)}<span className=\"marine-stat-unit\">m</span></span>\n            <span className=\"marine-stat-label\">Oleaje fondo</span>\n          </div>\n          {seaTemperature > 0 && (\n            <div className=\"marine-stat\">\n              <span className=\"marine-stat-value\">{seaTemperature.toFixed(0)}<span className=\"marine-stat-unit\">C</span></span>\n              <span className=\"marine-stat-label\">Temp. mar</span>\n            </div>\n          )}\n          <div className=\"marine-stat\">\n            <span className=\"marine-stat-value\">{waveDirection}<span className=\"marine-stat-unit\"></span></span>\n            <span className=\"marine-stat-label\">Direccin</span>\n          </div>\n        </div>\n\n        <div className=\"wave-animation\">\n          <svg viewBox=\"0 0 400 60\" preserveAspectRatio=\"none\" className=\"wave-svg\">\n            <path className=\"wave-path wave-1\" d=\"M0,30 Q25,10 50,30 T100,30 T150,30 T200,30 T250,30 T300,30 T350,30 T400,30 V60 H0 Z\" />\n            <path className=\"wave-path wave-2\" d=\"M0,35 Q25,15 50,35 T100,35 T150,35 T200,35 T250,35 T300,35 T350,35 T400,35 V60 H0 Z\" />\n            <path className=\"wave-path wave-3\" d=\"M0,40 Q25,20 50,40 T100,40 T150,40 T200,40 T250,40 T300,40 T350,40 T400,40 V60 H0 Z\" />\n          </svg>\n        </div>\n      </div>\n\n      <style>{`\n        .marine-main {\n          display: flex;\n          align-items: center;\n          gap: clamp(12px, 3vw, 20px);\n          padding: clamp(12px, 3vw, 16px);\n          background: var(--bg-subtle);\n          border-radius: var(--radius-md);\n          flex-wrap: wrap;\n        }\n\n        .wave-display {\n          display: flex;\n          align-items: baseline;\n          gap: 4px;\n        }\n\n        .wave-height {\n          font-size: clamp(28px, 8vw, 42px);\n          font-weight: 700;\n          color: #2196f3;\n          line-height: 1;\n        }\n\n        .wave-unit {\n          font-size: clamp(14px, 3.5vw, 18px);\n          color: var(--text-secondary);\n          font-weight: 500;\n        }\n\n        .wave-info {\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n          min-width: 0;\n          flex: 1;\n        }\n\n        .wave-direction-indicator {\n          display: flex;\n          align-items: center;\n          gap: clamp(6px, 1.5vw, 8px);\n          font-size: clamp(12px, 3vw, 14px);\n          color: var(--text-secondary);\n          font-weight: 500;\n        }\n\n        .wave-direction-indicator svg {\n          color: #2196f3;\n          transition: transform 0.3s ease;\n          flex-shrink: 0;\n        }\n\n        .marine-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(min(100%, 70px), 1fr));\n          gap: clamp(6px, 1.5vw, 8px);\n        }\n\n        .marine-stat {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 4px;\n          padding: clamp(10px, 2.5vw, 12px) clamp(6px, 1.5vw, 8px);\n          background: var(--bg-subtle);\n          border-radius: var(--radius-md);\n        }\n\n        .marine-stat-value {\n          font-size: clamp(14px, 3.5vw, 18px);\n          font-weight: 600;\n          color: var(--text-primary);\n        }\n\n        .marine-stat-unit {\n          font-size: clamp(10px, 2.5vw, 12px);\n          color: var(--text-tertiary);\n          font-weight: 400;\n          margin-left: 2px;\n        }\n\n        .marine-stat-label {\n          font-size: clamp(8px, 2vw, 10px);\n          color: var(--text-tertiary);\n          text-transform: uppercase;\n          letter-spacing: 0.3px;\n          font-weight: 500;\n          text-align: center;\n          white-space: nowrap;\n        }\n\n        .wave-animation {\n          height: clamp(40px, 10vw, 50px);\n          overflow: hidden;\n          border-radius: var(--radius-md);\n          background: linear-gradient(180deg, var(--bg-subtle) 0%, rgba(33, 150, 243, 0.1) 100%);\n        }\n\n        .wave-svg {\n          width: 200%;\n          height: 100%;\n          animation: waveMove 4s linear infinite;\n        }\n\n        .wave-path {\n          fill: rgba(33, 150, 243, 0.2);\n        }\n\n        .wave-path.wave-2 {\n          fill: rgba(33, 150, 243, 0.15);\n          animation: waveMove2 5s linear infinite;\n        }\n\n        .wave-path.wave-3 {\n          fill: rgba(33, 150, 243, 0.1);\n          animation: waveMove3 6s linear infinite;\n        }\n\n        @keyframes waveMove {\n          0% { transform: translateX(0); }\n          100% { transform: translateX(-50%); }\n        }\n\n        @keyframes waveMove2 {\n          0% { transform: translateX(-25%); }\n          100% { transform: translateX(-75%); }\n        }\n\n        @keyframes waveMove3 {\n          0% { transform: translateX(-10%); }\n          100% { transform: translateX(-60%); }\n        }\n      `}</style>\n    </div>\n  );\n};\n","// ============================================================================\n// DISASTER ALERTS API SERVICE\n// Uses free public APIs: USGS (earthquakes), NWS (weather alerts), GDACS (global)\n// ============================================================================\n\nexport interface Alert {\n  id: string;\n  type: AlertType;\n  severity: 'info' | 'minor' | 'moderate' | 'severe' | 'extreme';\n  title: string;\n  description: string;\n  location: string;\n  coordinates?: { lat: number; lon: number };\n  startTime?: string;\n  endTime?: string;\n  source: string;\n  url?: string;\n  magnitude?: number;\n  distance?: number; // km from user location\n}\n\nexport type AlertType =\n  | 'earthquake'\n  | 'tsunami'\n  | 'hurricane'\n  | 'typhoon'\n  | 'tornado'\n  | 'flood'\n  | 'storm'\n  | 'wildfire'\n  | 'volcano'\n  | 'extreme_heat'\n  | 'extreme_cold'\n  | 'wind'\n  | 'snow'\n  | 'rain'\n  | 'other';\n\n// ============================================================================\n// USGS EARTHQUAKE API (Free, unlimited)\n// https://earthquake.usgs.gov/fdsnws/event/1/\n// ============================================================================\n\ninterface USGSEarthquake {\n  id: string;\n  properties: {\n    mag: number;\n    place: string;\n    time: number;\n    updated: number;\n    url: string;\n    detail: string;\n    status: string;\n    tsunami: number;\n    sig: number;\n    alert: string | null;\n    title: string;\n    type: string;\n  };\n  geometry: {\n    type: string;\n    coordinates: [number, number, number]; // [lon, lat, depth]\n  };\n}\n\ninterface USGSResponse {\n  type: string;\n  metadata: {\n    generated: number;\n    url: string;\n    title: string;\n    count: number;\n  };\n  features: USGSEarthquake[];\n}\n\nexport const fetchEarthquakes = async (\n  lat: number,\n  lon: number,\n  radiusKm: number = 500,\n  minMagnitude: number = 4.0,\n  days: number = 7\n): Promise<Alert[]> => {\n  try {\n    const endTime = new Date().toISOString();\n    const startTime = new Date(Date.now() - days * 24 * 60 * 60 * 1000).toISOString();\n\n    const params = new URLSearchParams({\n      format: 'geojson',\n      starttime: startTime,\n      endtime: endTime,\n      latitude: lat.toString(),\n      longitude: lon.toString(),\n      maxradiuskm: radiusKm.toString(),\n      minmagnitude: minMagnitude.toString(),\n      orderby: 'magnitude',\n      limit: '20',\n    });\n\n    const response = await fetch(\n      `https://earthquake.usgs.gov/fdsnws/event/1/query?${params}`\n    );\n\n    if (!response.ok) throw new Error('USGS API error');\n\n    const data: USGSResponse = await response.json();\n\n    return data.features.map((eq): Alert => {\n      const [eqLon, eqLat] = eq.geometry.coordinates;\n      const distance = calculateDistance(lat, lon, eqLat, eqLon);\n\n      let severity: Alert['severity'] = 'info';\n      if (eq.properties.mag >= 7) severity = 'extreme';\n      else if (eq.properties.mag >= 6) severity = 'severe';\n      else if (eq.properties.mag >= 5) severity = 'moderate';\n      else if (eq.properties.mag >= 4) severity = 'minor';\n\n      return {\n        id: `eq_${eq.id}`,\n        type: eq.properties.tsunami ? 'tsunami' : 'earthquake',\n        severity,\n        title: `Terremoto M${eq.properties.mag.toFixed(1)}`,\n        description: eq.properties.place,\n        location: eq.properties.place,\n        coordinates: { lat: eqLat, lon: eqLon },\n        startTime: new Date(eq.properties.time).toISOString(),\n        source: 'USGS',\n        url: eq.properties.url,\n        magnitude: eq.properties.mag,\n        distance: Math.round(distance),\n      };\n    });\n  } catch (error) {\n    console.error('Error fetching earthquakes:', error);\n    return [];\n  }\n};\n\n// ============================================================================\n// NWS WEATHER ALERTS API (Free, unlimited for US)\n// https://api.weather.gov/alerts\n// ============================================================================\n\ninterface NWSAlert {\n  id: string;\n  properties: {\n    id: string;\n    areaDesc: string;\n    geocode: {\n      SAME: string[];\n      UGC: string[];\n    };\n    sent: string;\n    effective: string;\n    onset: string;\n    expires: string;\n    ends: string;\n    status: string;\n    messageType: string;\n    category: string;\n    severity: string;\n    certainty: string;\n    urgency: string;\n    event: string;\n    sender: string;\n    senderName: string;\n    headline: string;\n    description: string;\n    instruction: string;\n    response: string;\n  };\n}\n\ninterface NWSResponse {\n  type: string;\n  features: NWSAlert[];\n}\n\nconst mapNWSSeverity = (severity: string): Alert['severity'] => {\n  switch (severity.toLowerCase()) {\n    case 'extreme': return 'extreme';\n    case 'severe': return 'severe';\n    case 'moderate': return 'moderate';\n    case 'minor': return 'minor';\n    default: return 'info';\n  }\n};\n\nconst mapNWSEventType = (event: string): AlertType => {\n  const e = event.toLowerCase();\n  if (e.includes('tornado')) return 'tornado';\n  if (e.includes('hurricane') || e.includes('tropical')) return 'hurricane';\n  if (e.includes('typhoon')) return 'typhoon';\n  if (e.includes('tsunami')) return 'tsunami';\n  if (e.includes('flood')) return 'flood';\n  if (e.includes('storm') || e.includes('thunder')) return 'storm';\n  if (e.includes('fire') || e.includes('wildfire')) return 'wildfire';\n  if (e.includes('volcano')) return 'volcano';\n  if (e.includes('heat')) return 'extreme_heat';\n  if (e.includes('cold') || e.includes('freeze') || e.includes('frost')) return 'extreme_cold';\n  if (e.includes('wind')) return 'wind';\n  if (e.includes('snow') || e.includes('blizzard') || e.includes('ice')) return 'snow';\n  if (e.includes('rain')) return 'rain';\n  return 'other';\n};\n\nexport const fetchNWSAlerts = async (lat: number, lon: number): Promise<Alert[]> => {\n  try {\n    // Get the point info first\n    const pointResponse = await fetch(\n      `https://api.weather.gov/points/${lat.toFixed(4)},${lon.toFixed(4)}`,\n      { headers: { 'User-Agent': 'MeteoFlow Weather App' } }\n    );\n\n    if (!pointResponse.ok) {\n      // NWS only works for US locations\n      return [];\n    }\n\n    const pointData = await pointResponse.json();\n    const zone = pointData.properties?.forecastZone?.split('/').pop();\n\n    if (!zone) return [];\n\n    // Fetch alerts for the zone\n    const alertsResponse = await fetch(\n      `https://api.weather.gov/alerts/active?zone=${zone}`,\n      { headers: { 'User-Agent': 'MeteoFlow Weather App' } }\n    );\n\n    if (!alertsResponse.ok) return [];\n\n    const data: NWSResponse = await alertsResponse.json();\n\n    return data.features.map((alert): Alert => ({\n      id: `nws_${alert.properties.id}`,\n      type: mapNWSEventType(alert.properties.event),\n      severity: mapNWSSeverity(alert.properties.severity),\n      title: alert.properties.event,\n      description: alert.properties.headline || alert.properties.description,\n      location: alert.properties.areaDesc,\n      startTime: alert.properties.onset || alert.properties.effective,\n      endTime: alert.properties.ends || alert.properties.expires,\n      source: 'NWS',\n    }));\n  } catch (error) {\n    console.error('Error fetching NWS alerts:', error);\n    return [];\n  }\n};\n\n// ============================================================================\n// OPEN-METEO WEATHER ALERTS (via weather codes)\n// ============================================================================\n\nexport const getWeatherAlerts = (\n  weatherCode: number,\n  temperature: number,\n  windSpeed: number,\n  _precipitation: number\n): Alert[] => {\n  const alerts: Alert[] = [];\n\n  // Extreme weather codes\n  if (weatherCode >= 95 && weatherCode <= 99) {\n    alerts.push({\n      id: `wx_${Date.now()}_storm`,\n      type: 'storm',\n      severity: weatherCode === 99 ? 'extreme' : 'severe',\n      title: 'Tormenta Elctrica Severa',\n      description: weatherCode >= 96 ? 'Tormenta con granizo' : 'Tormenta elctrica intensa',\n      location: 'Ubicacin actual',\n      source: 'Open-Meteo',\n    });\n  }\n\n  // Heavy precipitation\n  if (weatherCode >= 65 && weatherCode <= 67) {\n    alerts.push({\n      id: `wx_${Date.now()}_rain`,\n      type: 'rain',\n      severity: 'moderate',\n      title: 'Lluvia Intensa',\n      description: 'Precipitaciones fuertes previstas. Riesgo de inundaciones locales.',\n      location: 'Ubicacin actual',\n      source: 'Open-Meteo',\n    });\n  }\n\n  // Heavy snow\n  if (weatherCode >= 75 && weatherCode <= 77) {\n    alerts.push({\n      id: `wx_${Date.now()}_snow`,\n      type: 'snow',\n      severity: 'moderate',\n      title: 'Nevada Intensa',\n      description: 'Nevadas fuertes previstas. Precaucin en carreteras.',\n      location: 'Ubicacin actual',\n      source: 'Open-Meteo',\n    });\n  }\n\n  // Extreme temperatures\n  if (temperature >= 40) {\n    alerts.push({\n      id: `wx_${Date.now()}_heat`,\n      type: 'extreme_heat',\n      severity: temperature >= 45 ? 'extreme' : 'severe',\n      title: 'Calor Extremo',\n      description: `Temperatura de ${Math.round(temperature)}C. Evite exposicin prolongada.`,\n      location: 'Ubicacin actual',\n      source: 'Open-Meteo',\n    });\n  } else if (temperature <= -20) {\n    alerts.push({\n      id: `wx_${Date.now()}_cold`,\n      type: 'extreme_cold',\n      severity: temperature <= -30 ? 'extreme' : 'severe',\n      title: 'Fro Extremo',\n      description: `Temperatura de ${Math.round(temperature)}C. Riesgo de congelacin.`,\n      location: 'Ubicacin actual',\n      source: 'Open-Meteo',\n    });\n  }\n\n  // High winds\n  if (windSpeed >= 80) {\n    alerts.push({\n      id: `wx_${Date.now()}_wind`,\n      type: 'wind',\n      severity: windSpeed >= 120 ? 'extreme' : windSpeed >= 100 ? 'severe' : 'moderate',\n      title: 'Vientos Fuertes',\n      description: `Vientos de ${Math.round(windSpeed)} km/h. Asegure objetos sueltos.`,\n      location: 'Ubicacin actual',\n      source: 'Open-Meteo',\n    });\n  }\n\n  return alerts;\n};\n\n// ============================================================================\n// GDACS - Global Disaster Alerts (RSS Feed)\n// https://www.gdacs.org/\n// ============================================================================\n\nexport const fetchGDACSAlerts = async (lat: number, lon: number): Promise<Alert[]> => {\n  try {\n    // GDACS provides RSS feeds - we'll use a CORS proxy for client-side fetching\n    // In production, this should be done server-side\n    const response = await fetch(\n      'https://www.gdacs.org/xml/rss_7d.xml',\n      { mode: 'cors' }\n    );\n\n    if (!response.ok) {\n      // Fallback: return empty if GDACS is not accessible (CORS issues)\n      console.warn('GDACS not accessible from client');\n      return [];\n    }\n\n    const text = await response.text();\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(text, 'text/xml');\n    const items = doc.querySelectorAll('item');\n\n    const alerts: Alert[] = [];\n\n    items.forEach((item) => {\n      const title = item.querySelector('title')?.textContent || '';\n      const description = item.querySelector('description')?.textContent || '';\n      const link = item.querySelector('link')?.textContent || '';\n      const pubDate = item.querySelector('pubDate')?.textContent || '';\n\n      // Parse GDACS geo coordinates if available\n      const geoLat = item.querySelector('geo\\\\:lat, lat')?.textContent;\n      const geoLon = item.querySelector('geo\\\\:long, long')?.textContent;\n\n      let alertLat: number | undefined;\n      let alertLon: number | undefined;\n      let distance: number | undefined;\n\n      if (geoLat && geoLon) {\n        alertLat = parseFloat(geoLat);\n        alertLon = parseFloat(geoLon);\n        distance = calculateDistance(lat, lon, alertLat, alertLon);\n      }\n\n      // Only include alerts within reasonable distance (2000km)\n      if (distance !== undefined && distance > 2000) return;\n\n      // Determine alert type from title\n      let type: AlertType = 'other';\n      let severity: Alert['severity'] = 'info';\n\n      const titleLower = title.toLowerCase();\n      if (titleLower.includes('earthquake')) {\n        type = 'earthquake';\n        if (titleLower.includes('orange') || titleLower.includes('red')) severity = 'severe';\n        else if (titleLower.includes('green')) severity = 'moderate';\n      } else if (titleLower.includes('tsunami')) {\n        type = 'tsunami';\n        severity = 'extreme';\n      } else if (titleLower.includes('cyclone') || titleLower.includes('hurricane') || titleLower.includes('typhoon')) {\n        type = titleLower.includes('typhoon') ? 'typhoon' : 'hurricane';\n        if (titleLower.includes('cat 4') || titleLower.includes('cat 5') || titleLower.includes('red')) {\n          severity = 'extreme';\n        } else if (titleLower.includes('cat 3') || titleLower.includes('orange')) {\n          severity = 'severe';\n        } else {\n          severity = 'moderate';\n        }\n      } else if (titleLower.includes('flood')) {\n        type = 'flood';\n        severity = 'moderate';\n      } else if (titleLower.includes('volcano')) {\n        type = 'volcano';\n        severity = 'severe';\n      }\n\n      alerts.push({\n        id: `gdacs_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n        type,\n        severity,\n        title: title.replace(/\\[.*?\\]/g, '').trim(),\n        description: description.replace(/<[^>]*>/g, '').trim(),\n        location: title,\n        coordinates: alertLat && alertLon ? { lat: alertLat, lon: alertLon } : undefined,\n        startTime: new Date(pubDate).toISOString(),\n        source: 'GDACS',\n        url: link,\n        distance,\n      });\n    });\n\n    return alerts.sort((a, b) => {\n      // Sort by distance first, then severity\n      if (a.distance && b.distance) return a.distance - b.distance;\n      return getSeverityWeight(b.severity) - getSeverityWeight(a.severity);\n    });\n  } catch (error) {\n    console.error('Error fetching GDACS alerts:', error);\n    return [];\n  }\n};\n\n// ============================================================================\n// COMBINED ALERTS FETCHER\n// ============================================================================\n\nexport const fetchAllAlerts = async (\n  lat: number,\n  lon: number,\n  weatherCode: number,\n  temperature: number,\n  windSpeed: number,\n  _precipitation: number\n): Promise<Alert[]> => {\n  const [earthquakes, nwsAlerts, weatherAlerts] = await Promise.all([\n    fetchEarthquakes(lat, lon, 500, 4.0, 7),\n    fetchNWSAlerts(lat, lon),\n    Promise.resolve(getWeatherAlerts(weatherCode, temperature, windSpeed, _precipitation)),\n  ]);\n\n  // Combine and sort by severity\n  const allAlerts = [...earthquakes, ...nwsAlerts, ...weatherAlerts];\n\n  return allAlerts.sort((a, b) => {\n    return getSeverityWeight(b.severity) - getSeverityWeight(a.severity);\n  });\n};\n\n// ============================================================================\n// UTILITY FUNCTIONS\n// ============================================================================\n\nconst getSeverityWeight = (severity: Alert['severity']): number => {\n  switch (severity) {\n    case 'extreme': return 5;\n    case 'severe': return 4;\n    case 'moderate': return 3;\n    case 'minor': return 2;\n    case 'info': return 1;\n    default: return 0;\n  }\n};\n\nconst calculateDistance = (lat1: number, lon1: number, lat2: number, lon2: number): number => {\n  const R = 6371; // Earth's radius in km\n  const dLat = toRad(lat2 - lat1);\n  const dLon = toRad(lon2 - lon1);\n  const a =\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) *\n    Math.sin(dLon / 2) * Math.sin(dLon / 2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  return R * c;\n};\n\nconst toRad = (deg: number): number => deg * (Math.PI / 180);\n\n// ============================================================================\n// ALERT ICONS AND COLORS\n// ============================================================================\n\nexport const getAlertIcon = (type: AlertType): string => {\n  switch (type) {\n    case 'earthquake': return '';\n    case 'tsunami': return '';\n    case 'hurricane': return '';\n    case 'typhoon': return '';\n    case 'tornado': return '';\n    case 'flood': return '';\n    case 'storm': return '';\n    case 'wildfire': return '';\n    case 'volcano': return '';\n    case 'extreme_heat': return '';\n    case 'extreme_cold': return '';\n    case 'wind': return '';\n    case 'snow': return '';\n    case 'rain': return '';\n    default: return '';\n  }\n};\n\nexport const getAlertColor = (severity: Alert['severity']): string => {\n  switch (severity) {\n    case 'extreme': return '#dc2626';\n    case 'severe': return '#ea580c';\n    case 'moderate': return '#f59e0b';\n    case 'minor': return '#84cc16';\n    case 'info': return '#3b82f6';\n    default: return '#6b7280';\n  }\n};\n\nexport const getSeverityLabel = (severity: Alert['severity']): string => {\n  switch (severity) {\n    case 'extreme': return 'Extremo';\n    case 'severe': return 'Severo';\n    case 'moderate': return 'Moderado';\n    case 'minor': return 'Menor';\n    case 'info': return 'Informativo';\n    default: return 'Desconocido';\n  }\n};\n","import React, { useState, useEffect } from 'react';\nimport type { Alert } from '../services/alertsApi';\nimport { getAlertIcon, getAlertColor, getSeverityLabel, fetchAllAlerts } from '../services/alertsApi';\n\ninterface AlertsCardProps {\n  lat: number;\n  lon: number;\n  weatherCode: number;\n  temperature: number;\n  windSpeed: number;\n  precipitation: number;\n}\n\nexport const AlertsCard: React.FC<AlertsCardProps> = ({\n  lat,\n  lon,\n  weatherCode,\n  temperature,\n  windSpeed,\n  precipitation,\n}) => {\n  const [alerts, setAlerts] = useState<Alert[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [expandedId, setExpandedId] = useState<string | null>(null);\n\n  useEffect(() => {\n    const loadAlerts = async () => {\n      setLoading(true);\n      try {\n        const data = await fetchAllAlerts(lat, lon, weatherCode, temperature, windSpeed, precipitation);\n        setAlerts(data);\n      } catch (error) {\n        console.error('Error loading alerts:', error);\n      }\n      setLoading(false);\n    };\n\n    loadAlerts();\n\n    // Refresh every 5 minutes\n    const interval = setInterval(loadAlerts, 5 * 60 * 1000);\n    return () => clearInterval(interval);\n  }, [lat, lon, weatherCode, temperature, windSpeed, precipitation]);\n\n  const toggleExpand = (id: string) => {\n    setExpandedId(expandedId === id ? null : id);\n  };\n\n  const formatTime = (isoString?: string) => {\n    if (!isoString) return '';\n    const date = new Date(isoString);\n    return date.toLocaleString('es-ES', {\n      day: 'numeric',\n      month: 'short',\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"alerts-loading\">\n        <div className=\"loading-spinner\" />\n        <span>Cargando alertas...</span>\n\n        <style>{`\n          .alerts-loading {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            gap: 12px;\n            padding: 40px;\n            color: var(--text-tertiary);\n          }\n\n          .loading-spinner {\n            width: 24px;\n            height: 24px;\n            border: 2px solid var(--border);\n            border-top-color: var(--accent);\n            border-radius: 50%;\n            animation: spin 1s linear infinite;\n          }\n\n          @keyframes spin {\n            to { transform: rotate(360deg); }\n          }\n        `}</style>\n      </div>\n    );\n  }\n\n  if (alerts.length === 0) {\n    return (\n      <div className=\"alerts-empty\">\n        <div className=\"empty-icon\"></div>\n        <h4>Sin alertas activas</h4>\n        <p>No hay alertas meteorolgicas o de desastres naturales para tu ubicacin.</p>\n\n        <style>{`\n          .alerts-empty {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            text-align: center;\n            padding: clamp(20px, 5vw, 40px);\n            gap: 12px;\n          }\n\n          .empty-icon {\n            width: 48px;\n            height: 48px;\n            background: var(--success);\n            color: white;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 24px;\n            font-weight: bold;\n          }\n\n          .alerts-empty h4 {\n            margin: 0;\n            font-size: clamp(14px, 3.5vw, 16px);\n            color: var(--text-primary);\n          }\n\n          .alerts-empty p {\n            margin: 0;\n            font-size: clamp(11px, 2.5vw, 13px);\n            color: var(--text-tertiary);\n            max-width: 250px;\n          }\n        `}</style>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"alerts-container\">\n      <div className=\"alerts-summary\">\n        <span className=\"alert-count\">{alerts.length} alerta{alerts.length !== 1 ? 's' : ''}</span>\n        <div className=\"severity-badges\">\n          {['extreme', 'severe', 'moderate'].map(severity => {\n            const count = alerts.filter(a => a.severity === severity).length;\n            if (count === 0) return null;\n            return (\n              <span\n                key={severity}\n                className=\"severity-badge\"\n                style={{ background: getAlertColor(severity as Alert['severity']) }}\n              >\n                {count}\n              </span>\n            );\n          })}\n        </div>\n      </div>\n\n      <div className=\"alerts-list\">\n        {alerts.map((alert) => (\n          <div\n            key={alert.id}\n            className={`alert-item ${expandedId === alert.id ? 'expanded' : ''}`}\n            onClick={() => toggleExpand(alert.id)}\n          >\n            <div className=\"alert-header\">\n              <span className=\"alert-icon\">{getAlertIcon(alert.type)}</span>\n              <div className=\"alert-info\">\n                <div className=\"alert-title-row\">\n                  <span className=\"alert-title\">{alert.title}</span>\n                  <span\n                    className=\"alert-severity\"\n                    style={{ background: getAlertColor(alert.severity) }}\n                  >\n                    {getSeverityLabel(alert.severity)}\n                  </span>\n                </div>\n                <span className=\"alert-location\">{alert.location}</span>\n              </div>\n              <svg\n                className=\"expand-icon\"\n                width=\"16\"\n                height=\"16\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n              >\n                <polyline points=\"6 9 12 15 18 9\" />\n              </svg>\n            </div>\n\n            {expandedId === alert.id && (\n              <div className=\"alert-details\">\n                <p className=\"alert-description\">{alert.description}</p>\n\n                <div className=\"alert-meta\">\n                  {alert.startTime && (\n                    <div className=\"meta-item\">\n                      <span className=\"meta-label\">Inicio</span>\n                      <span className=\"meta-value\">{formatTime(alert.startTime)}</span>\n                    </div>\n                  )}\n                  {alert.endTime && (\n                    <div className=\"meta-item\">\n                      <span className=\"meta-label\">Fin</span>\n                      <span className=\"meta-value\">{formatTime(alert.endTime)}</span>\n                    </div>\n                  )}\n                  {alert.magnitude && (\n                    <div className=\"meta-item\">\n                      <span className=\"meta-label\">Magnitud</span>\n                      <span className=\"meta-value\">M{alert.magnitude.toFixed(1)}</span>\n                    </div>\n                  )}\n                  {alert.distance && (\n                    <div className=\"meta-item\">\n                      <span className=\"meta-label\">Distancia</span>\n                      <span className=\"meta-value\">{alert.distance} km</span>\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"alert-footer\">\n                  <span className=\"alert-source\">Fuente: {alert.source}</span>\n                  {alert.url && (\n                    <a\n                      href={alert.url}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"alert-link\"\n                      onClick={(e) => e.stopPropagation()}\n                    >\n                      Ms info \n                    </a>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n        ))}\n      </div>\n\n      <style>{`\n        .alerts-container {\n          display: flex;\n          flex-direction: column;\n          gap: clamp(12px, 3vw, 16px);\n          height: 100%;\n        }\n\n        .alerts-summary {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding-bottom: clamp(8px, 2vw, 12px);\n          border-bottom: 1px solid var(--border);\n        }\n\n        .alert-count {\n          font-size: clamp(12px, 3vw, 14px);\n          font-weight: 600;\n          color: var(--text-primary);\n        }\n\n        .severity-badges {\n          display: flex;\n          gap: 6px;\n        }\n\n        .severity-badge {\n          padding: 2px 8px;\n          border-radius: 10px;\n          font-size: 11px;\n          font-weight: 600;\n          color: white;\n        }\n\n        .alerts-list {\n          display: flex;\n          flex-direction: column;\n          gap: clamp(8px, 2vw, 12px);\n          overflow-y: auto;\n          flex: 1;\n          min-height: 0;\n        }\n\n        .alert-item {\n          background: var(--bg-subtle);\n          border-radius: var(--radius-md);\n          overflow: hidden;\n          cursor: pointer;\n          transition: all 0.2s;\n        }\n\n        .alert-item:hover {\n          background: var(--accent-subtle);\n        }\n\n        .alert-header {\n          display: flex;\n          align-items: flex-start;\n          gap: clamp(10px, 2.5vw, 12px);\n          padding: clamp(10px, 2.5vw, 14px);\n        }\n\n        .alert-icon {\n          font-size: clamp(20px, 5vw, 24px);\n          flex-shrink: 0;\n        }\n\n        .alert-info {\n          flex: 1;\n          min-width: 0;\n        }\n\n        .alert-title-row {\n          display: flex;\n          align-items: flex-start;\n          gap: 8px;\n          flex-wrap: wrap;\n        }\n\n        .alert-title {\n          font-size: clamp(12px, 3vw, 14px);\n          font-weight: 600;\n          color: var(--text-primary);\n        }\n\n        .alert-severity {\n          padding: 2px 6px;\n          border-radius: 4px;\n          font-size: clamp(9px, 2vw, 10px);\n          font-weight: 600;\n          color: white;\n          text-transform: uppercase;\n          white-space: nowrap;\n        }\n\n        .alert-location {\n          font-size: clamp(10px, 2.5vw, 12px);\n          color: var(--text-tertiary);\n          display: block;\n          margin-top: 4px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n\n        .expand-icon {\n          color: var(--text-tertiary);\n          transition: transform 0.2s;\n          flex-shrink: 0;\n          margin-top: 4px;\n        }\n\n        .alert-item.expanded .expand-icon {\n          transform: rotate(180deg);\n        }\n\n        .alert-details {\n          padding: 0 clamp(10px, 2.5vw, 14px) clamp(10px, 2.5vw, 14px);\n          border-top: 1px solid var(--border);\n          animation: slideDown 0.2s ease;\n        }\n\n        @keyframes slideDown {\n          from {\n            opacity: 0;\n            transform: translateY(-10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        .alert-description {\n          font-size: clamp(11px, 2.5vw, 13px);\n          color: var(--text-secondary);\n          line-height: 1.5;\n          margin: clamp(8px, 2vw, 12px) 0;\n        }\n\n        .alert-meta {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(min(100%, 100px), 1fr));\n          gap: clamp(8px, 2vw, 12px);\n          margin-bottom: clamp(8px, 2vw, 12px);\n        }\n\n        .meta-item {\n          display: flex;\n          flex-direction: column;\n          gap: 2px;\n        }\n\n        .meta-label {\n          font-size: clamp(9px, 2vw, 10px);\n          color: var(--text-tertiary);\n          text-transform: uppercase;\n          letter-spacing: 0.3px;\n        }\n\n        .meta-value {\n          font-size: clamp(12px, 3vw, 14px);\n          font-weight: 600;\n          color: var(--text-primary);\n        }\n\n        .alert-footer {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding-top: clamp(8px, 2vw, 10px);\n          border-top: 1px solid var(--border);\n        }\n\n        .alert-source {\n          font-size: clamp(9px, 2vw, 11px);\n          color: var(--text-tertiary);\n        }\n\n        .alert-link {\n          font-size: clamp(11px, 2.5vw, 12px);\n          color: var(--accent);\n          text-decoration: none;\n          font-weight: 500;\n        }\n\n        .alert-link:hover {\n          text-decoration: underline;\n        }\n      `}</style>\n    </div>\n  );\n};\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useLanguage } from '../i18n/LanguageContext';\n\ninterface RainRadarProps {\n  lat: number;\n  lon: number;\n}\n\ninterface RadarFrame {\n  time: number;\n  path: string;\n}\n\nexport const RainRadarCard: React.FC<RainRadarProps> = ({ lat, lon }) => {\n  const { language } = useLanguage();\n  const [radarFrames, setRadarFrames] = useState<RadarFrame[]>([]);\n  const [currentFrame, setCurrentFrame] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const mapRef = useRef<HTMLDivElement>(null);\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Fetch radar data from RainViewer API\n  const fetchRadarData = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch('https://api.rainviewer.com/public/weather-maps.json');\n      if (!response.ok) throw new Error('Failed to fetch radar data');\n      const data = await response.json();\n\n      // Get past frames and forecast frames\n      const past = data.radar?.past || [];\n      const nowcast = data.radar?.nowcast || [];\n\n      const frames: RadarFrame[] = [\n        ...past.map((frame: { time: number; path: string }) => ({\n          time: frame.time,\n          path: frame.path,\n        })),\n        ...nowcast.slice(0, 3).map((frame: { time: number; path: string }) => ({\n          time: frame.time,\n          path: frame.path,\n        })),\n      ];\n\n      setRadarFrames(frames);\n      setCurrentFrame(past.length - 1); // Start at most recent past frame\n      setLoading(false);\n    } catch (err) {\n      setError('Unable to load radar data');\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchRadarData();\n    // Refresh radar data every 10 minutes\n    const refreshInterval = setInterval(fetchRadarData, 10 * 60 * 1000);\n    return () => clearInterval(refreshInterval);\n  }, [fetchRadarData]);\n\n  // Animation control\n  useEffect(() => {\n    if (isPlaying && radarFrames.length > 0) {\n      intervalRef.current = setInterval(() => {\n        setCurrentFrame(prev => (prev + 1) % radarFrames.length);\n      }, 500);\n    } else if (intervalRef.current) {\n      clearInterval(intervalRef.current);\n    }\n    return () => {\n      if (intervalRef.current) clearInterval(intervalRef.current);\n    };\n  }, [isPlaying, radarFrames.length]);\n\n  const formatTime = (timestamp: number): string => {\n    const date = new Date(timestamp * 1000);\n    return date.toLocaleTimeString(language === 'en' ? 'en-US' : language, {\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  const getFrameLabel = (index: number): string => {\n    if (radarFrames.length === 0) return '';\n    const pastCount = radarFrames.filter(f => f.time * 1000 < Date.now()).length;\n    if (index < pastCount) {\n      return formatTime(radarFrames[index].time);\n    }\n    return `+${(index - pastCount + 1) * 10}min`;\n  };\n\n  // Calculate zoom level based on desired coverage (approx 100km radius)\n  const zoom = 7;\n  const tileSize = 256;\n\n  // Convert lat/lon to tile coordinates\n  const getTileCoords = (lat: number, lon: number, zoom: number) => {\n    const n = Math.pow(2, zoom);\n    const x = Math.floor((lon + 180) / 360 * n);\n    const latRad = lat * Math.PI / 180;\n    const y = Math.floor((1 - Math.log(Math.tan(latRad) + 1 / Math.cos(latRad)) / Math.PI) / 2 * n);\n    return { x, y };\n  };\n\n  const { x: tileX, y: tileY } = getTileCoords(lat, lon, zoom);\n\n  // Get surrounding tiles for better coverage\n  const tiles = [\n    { dx: -1, dy: -1 }, { dx: 0, dy: -1 }, { dx: 1, dy: -1 },\n    { dx: -1, dy: 0 },  { dx: 0, dy: 0 },  { dx: 1, dy: 0 },\n    { dx: -1, dy: 1 },  { dx: 0, dy: 1 },  { dx: 1, dy: 1 },\n  ];\n\n  const currentRadarPath = radarFrames[currentFrame]?.path || '';\n\n  const radarLabels: Record<string, { title: string; noData: string; past: string; forecast: string }> = {\n    es: { title: 'Radar de Lluvia', noData: 'Sin datos de radar', past: 'Pasado', forecast: 'Pronstico' },\n    en: { title: 'Rain Radar', noData: 'No radar data', past: 'Past', forecast: 'Forecast' },\n    fr: { title: 'Radar de Pluie', noData: 'Pas de donnes radar', past: 'Pass', forecast: 'Prvision' },\n    de: { title: 'Regenradar', noData: 'Keine Radardaten', past: 'Vergangen', forecast: 'Vorhersage' },\n    pt: { title: 'Radar de Chuva', noData: 'Sem dados de radar', past: 'Passado', forecast: 'Previso' },\n  };\n\n  const labels = radarLabels[language] || radarLabels.es;\n\n  return (\n    <div className=\"radar-card\">\n      <div className=\"radar-header\">\n        <h3 className=\"radar-title\">{labels.title}</h3>\n        <div className=\"radar-time\">\n          {radarFrames[currentFrame] && (\n            <span className={currentFrame >= radarFrames.filter(f => f.time * 1000 < Date.now()).length ? 'forecast' : ''}>\n              {getFrameLabel(currentFrame)}\n            </span>\n          )}\n        </div>\n      </div>\n\n      <div className=\"radar-container\" ref={mapRef}>\n        {loading ? (\n          <div className=\"radar-loading\">\n            <div className=\"loading-spinner\" />\n          </div>\n        ) : error ? (\n          <div className=\"radar-error\">{error}</div>\n        ) : (\n          <>\n            {/* Base map tiles (OpenStreetMap) */}\n            <div className=\"map-layer base-map\">\n              {tiles.map(({ dx, dy }) => (\n                <img\n                  key={`base-${dx}-${dy}`}\n                  src={`https://tile.openstreetmap.org/${zoom}/${tileX + dx}/${tileY + dy}.png`}\n                  alt=\"\"\n                  style={{\n                    gridColumn: dx + 2,\n                    gridRow: dy + 2,\n                  }}\n                  loading=\"lazy\"\n                />\n              ))}\n            </div>\n\n            {/* Radar overlay */}\n            {currentRadarPath && (\n              <div className=\"map-layer radar-layer\">\n                {tiles.map(({ dx, dy }) => (\n                  <img\n                    key={`radar-${dx}-${dy}-${currentFrame}`}\n                    src={`https://tilecache.rainviewer.com${currentRadarPath}/${tileSize}/${zoom}/${tileX + dx}/${tileY + dy}/4/1_1.png`}\n                    alt=\"\"\n                    style={{\n                      gridColumn: dx + 2,\n                      gridRow: dy + 2,\n                    }}\n                    loading=\"lazy\"\n                    onError={(e) => {\n                      (e.target as HTMLImageElement).style.display = 'none';\n                    }}\n                  />\n                ))}\n              </div>\n            )}\n\n            {/* Center marker */}\n            <div className=\"center-marker\">\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\">\n                <circle cx=\"12\" cy=\"12\" r=\"8\" fill=\"var(--accent)\" fillOpacity=\"0.3\" />\n                <circle cx=\"12\" cy=\"12\" r=\"4\" fill=\"var(--accent)\" />\n              </svg>\n            </div>\n\n            {/* Legend */}\n            <div className=\"radar-legend\">\n              <div className=\"legend-gradient\" />\n              <div className=\"legend-labels\">\n                <span>0</span>\n                <span>mm/h</span>\n                <span>50+</span>\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n\n      {/* Timeline controls */}\n      <div className=\"radar-controls\">\n        <button\n          className=\"control-btn\"\n          onClick={() => setIsPlaying(!isPlaying)}\n          aria-label={isPlaying ? 'Pause' : 'Play'}\n        >\n          {isPlaying ? (\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <rect x=\"6\" y=\"4\" width=\"4\" height=\"16\" rx=\"1\" />\n              <rect x=\"14\" y=\"4\" width=\"4\" height=\"16\" rx=\"1\" />\n            </svg>\n          ) : (\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M8 5v14l11-7L8 5z\" />\n            </svg>\n          )}\n        </button>\n\n        <div className=\"timeline\">\n          <div className=\"timeline-track\">\n            <div className=\"timeline-past\" style={{ width: `${(radarFrames.filter(f => f.time * 1000 < Date.now()).length / radarFrames.length) * 100}%` }} />\n            <div\n              className=\"timeline-marker\"\n              style={{ left: `${(currentFrame / Math.max(1, radarFrames.length - 1)) * 100}%` }}\n            />\n          </div>\n          <input\n            type=\"range\"\n            min=\"0\"\n            max={Math.max(0, radarFrames.length - 1)}\n            value={currentFrame}\n            onChange={(e) => {\n              setCurrentFrame(parseInt(e.target.value));\n              setIsPlaying(false);\n            }}\n            className=\"timeline-slider\"\n          />\n        </div>\n\n        <div className=\"timeline-labels\">\n          <span className=\"past-label\">{labels.past}</span>\n          <span className=\"forecast-label\">{labels.forecast}</span>\n        </div>\n      </div>\n\n      <style>{`\n        .radar-card {\n          background: var(--bg-elevated);\n          border: 1px solid var(--border);\n          border-radius: var(--radius-xl);\n          padding: clamp(12px, 3vw, 20px);\n          display: flex;\n          flex-direction: column;\n          gap: 12px;\n          height: 100%;\n          min-height: 350px;\n        }\n\n        .radar-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .radar-title {\n          font-size: clamp(14px, 3.5vw, 16px);\n          font-weight: 600;\n          color: var(--text-primary);\n          margin: 0;\n        }\n\n        .radar-time {\n          font-size: 12px;\n          font-weight: 600;\n          color: var(--text-secondary);\n          padding: 4px 10px;\n          background: var(--bg-subtle);\n          border-radius: 12px;\n        }\n\n        .radar-time .forecast {\n          color: var(--accent);\n        }\n\n        .radar-container {\n          flex: 1;\n          min-height: 200px;\n          border-radius: var(--radius-lg);\n          overflow: hidden;\n          position: relative;\n          background: var(--bg-subtle);\n        }\n\n        .map-layer {\n          position: absolute;\n          inset: 0;\n          display: grid;\n          grid-template-columns: repeat(3, 1fr);\n          grid-template-rows: repeat(3, 1fr);\n        }\n\n        .map-layer img {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n        }\n\n        .base-map {\n          filter: saturate(0.7) brightness(0.95);\n        }\n\n        .dark .base-map {\n          filter: invert(1) hue-rotate(180deg) saturate(0.5) brightness(0.8);\n        }\n\n        .radar-layer {\n          opacity: 0.7;\n          mix-blend-mode: multiply;\n        }\n\n        .dark .radar-layer {\n          mix-blend-mode: screen;\n          opacity: 0.85;\n        }\n\n        .center-marker {\n          position: absolute;\n          top: 50%;\n          left: 50%;\n          transform: translate(-50%, -50%);\n          z-index: 10;\n          pointer-events: none;\n        }\n\n        .radar-legend {\n          position: absolute;\n          bottom: 8px;\n          right: 8px;\n          background: var(--bg-elevated);\n          padding: 6px 10px;\n          border-radius: 8px;\n          font-size: 9px;\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n          box-shadow: var(--shadow-sm);\n        }\n\n        .legend-gradient {\n          width: 80px;\n          height: 8px;\n          border-radius: 4px;\n          background: linear-gradient(90deg,\n            transparent 0%,\n            #00ff00 20%,\n            #ffff00 40%,\n            #ff8800 60%,\n            #ff0000 80%,\n            #ff00ff 100%\n          );\n        }\n\n        .legend-labels {\n          display: flex;\n          justify-content: space-between;\n          color: var(--text-tertiary);\n        }\n\n        .radar-loading,\n        .radar-error {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          height: 100%;\n          color: var(--text-tertiary);\n          font-size: 13px;\n        }\n\n        .loading-spinner {\n          width: 32px;\n          height: 32px;\n          border: 3px solid var(--border);\n          border-top-color: var(--accent);\n          border-radius: 50%;\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n\n        .radar-controls {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n\n        .control-btn {\n          width: 36px;\n          height: 36px;\n          border: 1px solid var(--border);\n          background: var(--bg-subtle);\n          border-radius: var(--radius-md);\n          color: var(--text-primary);\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: var(--transition);\n          flex-shrink: 0;\n        }\n\n        .control-btn:hover {\n          background: var(--accent-subtle);\n          border-color: var(--accent);\n          color: var(--accent);\n        }\n\n        .timeline {\n          flex: 1;\n          position: relative;\n          height: 36px;\n          display: flex;\n          align-items: center;\n        }\n\n        .timeline-track {\n          position: absolute;\n          left: 0;\n          right: 0;\n          height: 6px;\n          background: var(--border);\n          border-radius: 3px;\n          overflow: hidden;\n        }\n\n        .timeline-past {\n          position: absolute;\n          left: 0;\n          top: 0;\n          bottom: 0;\n          background: var(--text-tertiary);\n          opacity: 0.5;\n        }\n\n        .timeline-marker {\n          position: absolute;\n          top: 50%;\n          width: 12px;\n          height: 12px;\n          background: var(--accent);\n          border: 2px solid var(--bg-elevated);\n          border-radius: 50%;\n          transform: translate(-50%, -50%);\n          box-shadow: 0 2px 6px rgba(0,0,0,0.2);\n          z-index: 2;\n          pointer-events: none;\n        }\n\n        .timeline-slider {\n          position: absolute;\n          left: 0;\n          right: 0;\n          width: 100%;\n          height: 24px;\n          opacity: 0;\n          cursor: pointer;\n          z-index: 3;\n        }\n\n        .timeline-labels {\n          display: flex;\n          justify-content: space-between;\n          font-size: 10px;\n          color: var(--text-tertiary);\n        }\n\n        .forecast-label {\n          color: var(--accent);\n        }\n      `}</style>\n    </div>\n  );\n};\n","import React, { useState, useRef, useEffect } from 'react';\nimport { useLanguage } from '../i18n/LanguageContext';\nimport type { Language } from '../i18n/translations';\n\nexport const LanguageSelector: React.FC = () => {\n  const { language, setLanguage, languageNames, languageFlags, availableLanguages } = useLanguage();\n  const [isOpen, setIsOpen] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleSelect = (lang: Language) => {\n    setLanguage(lang);\n    setIsOpen(false);\n  };\n\n  return (\n    <div className=\"language-selector\" ref={dropdownRef}>\n      <button\n        className=\"language-button\"\n        onClick={() => setIsOpen(!isOpen)}\n        aria-label=\"Select language\"\n      >\n        <span className=\"language-flag\">{languageFlags[language]}</span>\n        <span className=\"language-code\">{language.toUpperCase()}</span>\n        <svg\n          width=\"12\"\n          height=\"12\"\n          viewBox=\"0 0 16 16\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"2\"\n          style={{ transform: isOpen ? 'rotate(180deg)' : 'rotate(0deg)', transition: '0.2s' }}\n        >\n          <path d=\"M4 6l4 4 4-4\" />\n        </svg>\n      </button>\n\n      {isOpen && (\n        <div className=\"language-dropdown\">\n          {availableLanguages.map((lang) => (\n            <button\n              key={lang}\n              className={`language-option ${lang === language ? 'active' : ''}`}\n              onClick={() => handleSelect(lang)}\n            >\n              <span className=\"option-flag\">{languageFlags[lang]}</span>\n              <span className=\"option-name\">{languageNames[lang]}</span>\n              {lang === language && (\n                <svg width=\"14\" height=\"14\" viewBox=\"0 0 16 16\" fill=\"currentColor\">\n                  <path d=\"M13.78 4.22a.75.75 0 010 1.06l-7.25 7.25a.75.75 0 01-1.06 0L2.22 9.28a.75.75 0 011.06-1.06L6 10.94l6.72-6.72a.75.75 0 011.06 0z\" />\n                </svg>\n              )}\n            </button>\n          ))}\n        </div>\n      )}\n\n      <style>{`\n        .language-selector {\n          position: relative;\n        }\n\n        .language-button {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          padding: 8px 12px;\n          background: var(--bg-subtle);\n          border: 1px solid var(--border);\n          border-radius: var(--radius-md);\n          cursor: pointer;\n          transition: var(--transition);\n          color: var(--text-primary);\n          font-size: 13px;\n          font-weight: 500;\n        }\n\n        .language-button:hover {\n          background: var(--accent-subtle);\n          border-color: var(--accent);\n        }\n\n        .language-flag {\n          font-size: 16px;\n          line-height: 1;\n        }\n\n        .language-code {\n          font-weight: 600;\n          letter-spacing: 0.5px;\n        }\n\n        .language-dropdown {\n          position: absolute;\n          top: calc(100% + 4px);\n          right: 0;\n          min-width: 160px;\n          background: var(--bg-elevated);\n          border: 1px solid var(--border);\n          border-radius: var(--radius-lg);\n          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\n          overflow: hidden;\n          z-index: 1000;\n          animation: dropdownFadeIn 0.15s ease;\n        }\n\n        @keyframes dropdownFadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(-8px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        .language-option {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          width: 100%;\n          padding: 10px 14px;\n          background: none;\n          border: none;\n          cursor: pointer;\n          transition: var(--transition);\n          color: var(--text-primary);\n          font-size: 13px;\n          text-align: left;\n        }\n\n        .language-option:hover {\n          background: var(--bg-subtle);\n        }\n\n        .language-option.active {\n          background: var(--accent-subtle);\n          color: var(--accent);\n        }\n\n        .option-flag {\n          font-size: 18px;\n          line-height: 1;\n        }\n\n        .option-name {\n          flex: 1;\n          font-weight: 500;\n        }\n\n        .language-option svg {\n          color: var(--accent);\n        }\n\n        @media (max-width: 480px) {\n          .language-code {\n            display: none;\n          }\n\n          .language-button {\n            padding: 8px;\n          }\n\n          .language-dropdown {\n            right: -8px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n","import React, { useState, useRef, useEffect, createContext, useContext } from 'react';\n\n// ============================================================================\n// SCREEN SIZE DETECTION\n// ============================================================================\n\nexport type ScreenType = 'mobile' | 'tablet' | 'desktop' | 'large';\n\nexport interface ScreenInfo {\n  type: ScreenType;\n  width: number;\n  height: number;\n  isTouch: boolean;\n  orientation: 'portrait' | 'landscape';\n  pixelRatio: number;\n}\n\nconst getScreenInfo = (): ScreenInfo => {\n  const width = window.innerWidth;\n  const height = window.innerHeight;\n\n  let type: ScreenType;\n  if (width < 640) type = 'mobile';\n  else if (width < 1024) type = 'tablet';\n  else if (width < 1440) type = 'desktop';\n  else type = 'large';\n\n  return {\n    type,\n    width,\n    height,\n    isTouch: 'ontouchstart' in window || navigator.maxTouchPoints > 0,\n    orientation: width > height ? 'landscape' : 'portrait',\n    pixelRatio: window.devicePixelRatio || 1,\n  };\n};\n\n// Screen context\nconst ScreenContext = createContext<ScreenInfo>(getScreenInfo());\n\nexport const ScreenProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [screen, setScreen] = useState<ScreenInfo>(getScreenInfo);\n\n  useEffect(() => {\n    const handleResize = () => setScreen(getScreenInfo());\n    window.addEventListener('resize', handleResize);\n    window.addEventListener('orientationchange', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n      window.removeEventListener('orientationchange', handleResize);\n    };\n  }, []);\n\n  return (\n    <ScreenContext.Provider value={screen}>\n      {children}\n    </ScreenContext.Provider>\n  );\n};\n\nexport const useScreen = () => useContext(ScreenContext);\n\n// ============================================================================\n// CARD SIZE SYSTEM - 2 SIZES ONLY\n// ============================================================================\n\nexport type CardSize = 'small' | 'large';\n\nexport interface CardConfig {\n  id: string;\n  title: string;\n  size: CardSize;\n  order: number;\n  visible: boolean;\n}\n\n// Get columns based on screen type\nconst getColumnCount = (screenType: ScreenType): number => {\n  switch (screenType) {\n    case 'mobile': return 2;\n    case 'tablet': return 4;\n    case 'desktop': return 6;\n    case 'large': return 8;\n    default: return 4;\n  }\n};\n\n// Card spans based on size\nconst getCardSpan = (size: CardSize, screenType: ScreenType): number => {\n  if (screenType === 'mobile') {\n    return size === 'large' ? 2 : 1;\n  }\n  if (screenType === 'tablet') {\n    return size === 'large' ? 4 : 2;\n  }\n  return size === 'large' ? 4 : 2;\n};\n\n// ============================================================================\n// DRAGGABLE CARD COMPONENT\n// ============================================================================\n\ninterface DraggableCardProps {\n  id: string;\n  title: string;\n  size: CardSize;\n  children: React.ReactNode;\n  onSizeChange?: (id: string, size: CardSize) => void;\n  onDragStart?: (id: string) => void;\n  onDragEnd?: (id: string) => void;\n  onDragOver?: (e: React.DragEvent) => void;\n  onDragLeave?: () => void;\n  onDrop?: (e: React.DragEvent) => void;\n  onTouchStart?: (e: React.TouchEvent) => void;\n  isDragging?: boolean;\n  draggedOver?: boolean;\n}\n\nexport const DraggableCard: React.FC<DraggableCardProps> = ({\n  id,\n  title,\n  size,\n  children,\n  onSizeChange,\n  onDragStart,\n  onDragEnd,\n  onDragOver,\n  onDragLeave,\n  onDrop,\n  onTouchStart,\n  isDragging,\n  draggedOver,\n}) => {\n  const screen = useScreen();\n  const cardRef = useRef<HTMLDivElement>(null);\n  const [isResizing, setIsResizing] = useState(false);\n\n  const handleDragStart = (e: React.DragEvent) => {\n    e.dataTransfer.setData('cardId', id);\n    e.dataTransfer.effectAllowed = 'move';\n    onDragStart?.(id);\n  };\n\n  const handleDragEnd = () => {\n    onDragEnd?.(id);\n  };\n\n  const toggleSize = () => {\n    if (onSizeChange) {\n      onSizeChange(id, size === 'small' ? 'large' : 'small');\n    }\n  };\n\n  const span = getCardSpan(size, screen.type);\n\n  return (\n    <div\n      ref={cardRef}\n      className={`draggable-card ${size} ${isDragging ? 'dragging' : ''} ${draggedOver ? 'drag-over' : ''}`}\n      draggable={!screen.isTouch || !isResizing}\n      onDragStart={handleDragStart}\n      onDragEnd={handleDragEnd}\n      onDragOver={onDragOver}\n      onDragLeave={onDragLeave}\n      onDrop={onDrop}\n      onTouchStart={onTouchStart}\n      style={{\n        gridColumn: `span ${span}`,\n      }}\n    >\n      <div className=\"card-header\">\n        <div className=\"drag-handle\">\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n            <circle cx=\"5\" cy=\"5\" r=\"2\" />\n            <circle cx=\"12\" cy=\"5\" r=\"2\" />\n            <circle cx=\"19\" cy=\"5\" r=\"2\" />\n            <circle cx=\"5\" cy=\"12\" r=\"2\" />\n            <circle cx=\"12\" cy=\"12\" r=\"2\" />\n            <circle cx=\"19\" cy=\"12\" r=\"2\" />\n            <circle cx=\"5\" cy=\"19\" r=\"2\" />\n            <circle cx=\"12\" cy=\"19\" r=\"2\" />\n            <circle cx=\"19\" cy=\"19\" r=\"2\" />\n          </svg>\n        </div>\n        <span className=\"card-title\">{title}</span>\n        <button\n          className=\"size-toggle\"\n          onClick={toggleSize}\n          onMouseDown={() => setIsResizing(true)}\n          onMouseUp={() => setIsResizing(false)}\n          title={size === 'small' ? 'Ampliar' : 'Reducir'}\n        >\n          {size === 'small' ? (\n            <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n              <polyline points=\"15 3 21 3 21 9\" />\n              <polyline points=\"9 21 3 21 3 15\" />\n              <line x1=\"21\" y1=\"3\" x2=\"14\" y2=\"10\" />\n              <line x1=\"3\" y1=\"21\" x2=\"10\" y2=\"14\" />\n            </svg>\n          ) : (\n            <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n              <polyline points=\"4 14 10 14 10 20\" />\n              <polyline points=\"20 10 14 10 14 4\" />\n              <line x1=\"14\" y1=\"10\" x2=\"21\" y2=\"3\" />\n              <line x1=\"3\" y1=\"21\" x2=\"10\" y2=\"14\" />\n            </svg>\n          )}\n        </button>\n      </div>\n      <div className=\"card-content\">\n        {children}\n      </div>\n\n      <style>{`\n        .draggable-card {\n          background: var(--bg-elevated);\n          border: 1px solid var(--border);\n          border-radius: var(--radius-xl);\n          display: flex;\n          flex-direction: column;\n          transition: transform 0.2s, box-shadow 0.2s, opacity 0.2s;\n          cursor: grab;\n          overflow: hidden;\n          min-height: 0;\n        }\n\n        .draggable-card:active {\n          cursor: grabbing;\n        }\n\n        .draggable-card.dragging {\n          opacity: 0.5;\n          transform: scale(1.02);\n          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);\n        }\n\n        .draggable-card.drag-over {\n          border-color: var(--accent);\n          box-shadow: 0 0 0 2px var(--accent-subtle);\n        }\n\n        .draggable-card.small {\n          min-height: clamp(180px, 35vw, 240px);\n        }\n\n        .draggable-card.large {\n          min-height: clamp(280px, 50vw, 400px);\n        }\n\n        .card-header {\n          display: flex;\n          align-items: center;\n          gap: clamp(8px, 2vw, 12px);\n          padding: clamp(10px, 2.5vw, 14px) clamp(12px, 3vw, 16px);\n          border-bottom: 1px solid var(--border);\n          background: var(--bg-subtle);\n          flex-shrink: 0;\n        }\n\n        .drag-handle {\n          color: var(--text-tertiary);\n          cursor: grab;\n          padding: 4px;\n          border-radius: 4px;\n          transition: color 0.2s, background 0.2s;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .drag-handle:hover {\n          color: var(--text-secondary);\n          background: var(--bg-elevated);\n        }\n\n        .card-title {\n          flex: 1;\n          font-size: clamp(12px, 3vw, 14px);\n          font-weight: 600;\n          color: var(--text-primary);\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .size-toggle {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: clamp(24px, 6vw, 28px);\n          height: clamp(24px, 6vw, 28px);\n          border: none;\n          background: var(--bg-elevated);\n          border-radius: var(--radius-sm);\n          color: var(--text-tertiary);\n          cursor: pointer;\n          transition: all 0.2s;\n          flex-shrink: 0;\n        }\n\n        .size-toggle:hover {\n          background: var(--accent-subtle);\n          color: var(--accent);\n        }\n\n        .card-content {\n          flex: 1;\n          padding: clamp(12px, 3vw, 16px);\n          overflow: auto;\n          min-height: 0;\n        }\n\n        @media (hover: none) {\n          .drag-handle {\n            display: none;\n          }\n\n          .draggable-card {\n            cursor: default;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n\n// ============================================================================\n// DRAGGABLE GRID CONTAINER\n// ============================================================================\n\ninterface DraggableGridProps {\n  cards: CardConfig[];\n  onReorder: (cards: CardConfig[]) => void;\n  onSizeChange: (id: string, size: CardSize) => void;\n  renderCard: (config: CardConfig) => React.ReactNode;\n}\n\nexport const DraggableGrid: React.FC<DraggableGridProps> = ({\n  cards,\n  onReorder,\n  onSizeChange,\n  renderCard,\n}) => {\n  const screen = useScreen();\n  const [draggedId, setDraggedId] = useState<string | null>(null);\n  const [dragOverId, setDragOverId] = useState<string | null>(null);\n  const gridRef = useRef<HTMLDivElement>(null);\n\n  const columns = getColumnCount(screen.type);\n\n  const handleDragOver = (e: React.DragEvent, targetId: string) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n    if (targetId !== draggedId) {\n      setDragOverId(targetId);\n    }\n  };\n\n  const handleDragLeave = () => {\n    setDragOverId(null);\n  };\n\n  const handleDrop = (e: React.DragEvent, targetId: string) => {\n    e.preventDefault();\n    const sourceId = e.dataTransfer.getData('cardId');\n\n    if (sourceId && sourceId !== targetId) {\n      const newCards = [...cards];\n      const sourceIndex = newCards.findIndex(c => c.id === sourceId);\n      const targetIndex = newCards.findIndex(c => c.id === targetId);\n\n      if (sourceIndex !== -1 && targetIndex !== -1) {\n        const [removed] = newCards.splice(sourceIndex, 1);\n        newCards.splice(targetIndex, 0, removed);\n\n        // Update order\n        newCards.forEach((card, index) => {\n          card.order = index;\n        });\n\n        onReorder(newCards);\n      }\n    }\n\n    setDraggedId(null);\n    setDragOverId(null);\n  };\n\n  // Touch drag support\n  const touchStartPos = useRef<{ x: number; y: number } | null>(null);\n\n  const handleTouchStart = (e: React.TouchEvent, cardId: string) => {\n    const touch = e.touches[0];\n    touchStartPos.current = { x: touch.clientX, y: touch.clientY };\n\n    // Long press to start drag\n    const timer = setTimeout(() => {\n      setDraggedId(cardId);\n    }, 500);\n\n    const cleanup = () => {\n      clearTimeout(timer);\n      document.removeEventListener('touchend', cleanup);\n      document.removeEventListener('touchmove', handleTouchMove);\n    };\n\n    const handleTouchMove = (moveEvent: TouchEvent) => {\n      const moveTouch = moveEvent.touches[0];\n      const dx = moveTouch.clientX - (touchStartPos.current?.x || 0);\n      const dy = moveTouch.clientY - (touchStartPos.current?.y || 0);\n\n      if (Math.abs(dx) > 10 || Math.abs(dy) > 10) {\n        clearTimeout(timer);\n      }\n    };\n\n    document.addEventListener('touchend', cleanup);\n    document.addEventListener('touchmove', handleTouchMove);\n  };\n\n  const visibleCards = cards\n    .filter(c => c.visible)\n    .sort((a, b) => a.order - b.order);\n\n  return (\n    <div\n      ref={gridRef}\n      className=\"draggable-grid\"\n      style={{\n        gridTemplateColumns: `repeat(${columns}, 1fr)`,\n      }}\n    >\n      {visibleCards.map((config) => (\n        <DraggableCard\n          key={config.id}\n          id={config.id}\n          title={config.title}\n          size={config.size}\n          onSizeChange={onSizeChange}\n          onDragStart={setDraggedId}\n          onDragEnd={() => setDraggedId(null)}\n          onDragOver={(e) => handleDragOver(e, config.id)}\n          onDragLeave={handleDragLeave}\n          onDrop={(e) => handleDrop(e, config.id)}\n          onTouchStart={(e) => handleTouchStart(e, config.id)}\n          isDragging={draggedId === config.id}\n          draggedOver={dragOverId === config.id}\n        >\n          {renderCard(config)}\n        </DraggableCard>\n      ))}\n\n      <style>{`\n        .draggable-grid {\n          display: grid;\n          gap: clamp(12px, 3vw, 20px);\n          width: 100%;\n          align-content: start;\n        }\n\n        @media (max-width: 640px) {\n          .draggable-grid {\n            gap: clamp(8px, 2vw, 12px);\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n\n// ============================================================================\n// SCREEN INFO DISPLAY COMPONENT\n// ============================================================================\n\nexport const ScreenInfoDisplay: React.FC = () => {\n  const screen = useScreen();\n\n  return (\n    <div className=\"screen-info\">\n      <div className=\"screen-badge\" data-type={screen.type}>\n        {screen.type.toUpperCase()}\n      </div>\n      <span className=\"screen-dims\">\n        {screen.width}{screen.height}\n      </span>\n      {screen.isTouch && <span className=\"touch-badge\">TOUCH</span>}\n      <span className=\"orientation-badge\">{screen.orientation}</span>\n\n      <style>{`\n        .screen-info {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-size: 10px;\n          font-weight: 600;\n          font-family: monospace;\n        }\n\n        .screen-badge {\n          padding: 4px 8px;\n          border-radius: 4px;\n          color: white;\n        }\n\n        .screen-badge[data-type=\"mobile\"] {\n          background: #ef4444;\n        }\n\n        .screen-badge[data-type=\"tablet\"] {\n          background: #f59e0b;\n        }\n\n        .screen-badge[data-type=\"desktop\"] {\n          background: #22c55e;\n        }\n\n        .screen-badge[data-type=\"large\"] {\n          background: #3b82f6;\n        }\n\n        .screen-dims {\n          color: var(--text-secondary);\n        }\n\n        .touch-badge {\n          padding: 2px 6px;\n          background: var(--accent);\n          color: white;\n          border-radius: 4px;\n        }\n\n        .orientation-badge {\n          padding: 2px 6px;\n          background: var(--bg-subtle);\n          color: var(--text-tertiary);\n          border-radius: 4px;\n          text-transform: uppercase;\n        }\n      `}</style>\n    </div>\n  );\n};\n\n// ============================================================================\n// LOCAL STORAGE PERSISTENCE\n// ============================================================================\n\nconst STORAGE_KEY = 'meteoflow_card_layout';\n\nexport const saveCardLayout = (cards: CardConfig[]) => {\n  try {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(cards));\n  } catch (e) {\n    console.error('Error saving card layout:', e);\n  }\n};\n\nexport const loadCardLayout = (defaultCards: CardConfig[]): CardConfig[] => {\n  try {\n    const saved = localStorage.getItem(STORAGE_KEY);\n    if (saved) {\n      const parsed = JSON.parse(saved) as CardConfig[];\n      // Merge with defaults to handle new cards\n      return defaultCards.map(defaultCard => {\n        const savedCard = parsed.find(c => c.id === defaultCard.id);\n        return savedCard ? { ...defaultCard, ...savedCard } : defaultCard;\n      });\n    }\n  } catch (e) {\n    console.error('Error loading card layout:', e);\n  }\n  return defaultCards;\n};\n","import React, { Suspense, lazy, useState, useEffect, useCallback } from 'react';\nimport { useWeather, useDarkMode } from './hooks/useWeather';\nimport { LocationSearch } from './components/LocationSearch';\nimport { CurrentWeatherCard } from './components/CurrentWeatherCard';\nimport { HourlyForecastCard } from './components/HourlyForecast';\nimport { DailyForecastCard } from './components/DailyForecast';\nimport { AirQualityCard, SunTimesCard, WindCard, MarineCard, InfoCardStyles } from './components/InfoCards';\nimport { AlertsCard } from './components/AlertsCard';\nimport { RainRadarCard } from './components/RainRadar';\nimport { SunIcon, MoonIcon, RefreshIcon } from './components/Icons';\nimport { LanguageProvider, useLanguage } from './i18n/LanguageContext';\nimport { LanguageSelector } from './components/LanguageSelector';\nimport {\n  ScreenProvider,\n  DraggableGrid,\n  ScreenInfoDisplay,\n  saveCardLayout,\n  loadCardLayout,\n  type CardConfig,\n  type CardSize,\n} from './components/DraggableGrid';\n\n// Lazy load 3D landscape engine for better performance\nconst LandscapeEngine = lazy(() =>\n  import('./components/LandscapeEngine').then(m => ({ default: m.LandscapeEngine }))\n);\n\n// Default card configurations (titles will be translated in component)\nconst DEFAULT_CARDS: CardConfig[] = [\n  { id: 'current', title: 'currentWeather', size: 'large', order: 0, visible: true },\n  { id: 'hourly', title: 'hourlyForecast', size: 'large', order: 1, visible: true },\n  { id: 'radar', title: 'radar', size: 'large', order: 2, visible: true },\n  { id: 'alerts', title: 'alerts', size: 'small', order: 3, visible: true },\n  { id: 'daily', title: 'dailyForecast', size: 'large', order: 4, visible: true },\n  { id: 'air', title: 'airQuality', size: 'small', order: 5, visible: true },\n  { id: 'sun', title: 'sunrise', size: 'small', order: 6, visible: true },\n  { id: 'wind', title: 'wind', size: 'small', order: 7, visible: true },\n  { id: 'marine', title: 'marine', size: 'small', order: 8, visible: true },\n];\n\n\n// Main App Content (uses screen context)\nconst AppContent: React.FC = () => {\n  const {\n    data,\n    loading,\n    error,\n    location,\n    setLocation,\n    refresh,\n    searchResults,\n    search,\n    searching,\n    useCurrentLocation,\n  } = useWeather();\n\n  const [isDark, toggleDark] = useDarkMode();\n  const { t } = useLanguage();\n  const [cards, setCards] = useState<CardConfig[]>(() => loadCardLayout(DEFAULT_CARDS));\n  const [isEditMode, setIsEditMode] = useState(false);\n\n  // Save layout when cards change\n  useEffect(() => {\n    saveCardLayout(cards);\n  }, [cards]);\n\n  // Handle card size change\n  const handleSizeChange = useCallback((id: string, size: CardSize) => {\n    setCards(prev => prev.map(card =>\n      card.id === id ? { ...card, size } : card\n    ));\n  }, []);\n\n  // Toggle card visibility\n  const toggleCardVisibility = useCallback((id: string) => {\n    setCards(prev => prev.map(card =>\n      card.id === id ? { ...card, visible: !card.visible } : card\n    ));\n  }, []);\n\n  // Handle card reordering via drag and drop\n  const handleReorder = useCallback((reorderedCards: CardConfig[]) => {\n    setCards(reorderedCards);\n  }, []);\n\n  // Reset layout\n  const resetLayout = useCallback(() => {\n    setCards(DEFAULT_CARDS);\n  }, []);\n\n  // Render card content\n  const renderCardContent = useCallback((config: CardConfig) => {\n    if (!data) return null;\n\n    switch (config.id) {\n      case 'current':\n        return (\n          <CurrentWeatherCard\n            weather={data.current}\n            airQuality={data.airQuality}\n            location={data.location}\n            lastUpdated={data.lastUpdated}\n            lat={data.location.latitude}\n            lon={data.location.longitude}\n          />\n        );\n      case 'hourly':\n        return <HourlyForecastCard hours={data.hourly} />;\n      case 'radar':\n        return <RainRadarCard lat={data.location.latitude} lon={data.location.longitude} />;\n      case 'daily':\n        return <DailyForecastCard days={data.daily} />;\n      case 'alerts':\n        return (\n          <AlertsCard\n            lat={data.location.latitude}\n            lon={data.location.longitude}\n            weatherCode={data.current.weatherCode}\n            temperature={data.current.temperature}\n            windSpeed={data.current.windSpeed}\n            precipitation={data.current.precipitation || 0}\n          />\n        );\n      case 'air':\n        return <AirQualityCard airQuality={data.airQuality} />;\n      case 'sun':\n        return <SunTimesCard today={data.daily[0]} weather={data.current} lat={data.location.latitude} lon={data.location.longitude} />;\n      case 'wind':\n        return <WindCard weather={data.current} lat={data.location.latitude} lon={data.location.longitude} />;\n      case 'marine':\n        return data.marine ? <MarineCard marine={data.marine} /> : (\n          <div className=\"no-marine\">\n            <p>Datos marinos no disponibles para esta ubicacin</p>\n          </div>\n        );\n      default:\n        return null;\n    }\n  }, [data]);\n\n  return (\n    <div className={`app ${isDark ? 'dark' : 'light'}`}>\n      <InfoCardStyles />\n\n      {/* 3D Landscape Background */}\n      {data && (\n        <Suspense fallback={<div className=\"landscape-loading\" />}>\n          <LandscapeEngine\n            weatherParams={{\n              temperature: data.current.temperature,\n              weatherCode: data.current.weatherCode,\n              isDay: data.current.isDay,\n              humidity: data.current.humidity,\n              windSpeed: data.current.windSpeed,\n              precipitation: data.current.precipitation || 0,\n              cloudCover: data.current.cloudCover || 0,\n              visibility: data.current.visibility,\n            }}\n            className=\"landscape-background\"\n          />\n        </Suspense>\n      )}\n\n      {/* Glass overlay for content */}\n      <div className=\"app-overlay\">\n        <header className=\"app-header\">\n          <div className=\"header-content\">\n            <div className=\"brand\">\n              <div className=\"brand-icon\">\n                <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\">\n                  <circle cx=\"16\" cy=\"16\" r=\"14\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n                  <circle cx=\"16\" cy=\"16\" r=\"6\" fill=\"currentColor\"/>\n                  <line x1=\"16\" y1=\"1\" x2=\"16\" y2=\"6\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n                  <line x1=\"16\" y1=\"26\" x2=\"16\" y2=\"31\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n                  <line x1=\"1\" y1=\"16\" x2=\"6\" y2=\"16\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n                  <line x1=\"26\" y1=\"16\" x2=\"31\" y2=\"16\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n                </svg>\n              </div>\n              <div className=\"brand-text\">\n                <span className=\"brand-name\">MeteoFlow</span>\n                <span className=\"brand-version\">PRO</span>\n              </div>\n            </div>\n\n            <div className=\"header-center\">\n              <LocationSearch\n                onSelect={setLocation}\n                onSearch={search}\n                searchResults={searchResults}\n                searching={searching}\n                onUseCurrentLocation={useCurrentLocation}\n                currentLocation={location}\n              />\n            </div>\n\n            <div className=\"header-actions\">\n              <ScreenInfoDisplay />\n              <LanguageSelector />\n              <button\n                onClick={() => setIsEditMode(!isEditMode)}\n                className={`action-btn ${isEditMode ? 'active' : ''}`}\n                aria-label={t.settings}\n                title={t.settings}\n              >\n                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                  <rect x=\"3\" y=\"3\" width=\"7\" height=\"7\" rx=\"1\"/>\n                  <rect x=\"14\" y=\"3\" width=\"7\" height=\"7\" rx=\"1\"/>\n                  <rect x=\"3\" y=\"14\" width=\"7\" height=\"7\" rx=\"1\"/>\n                  <rect x=\"14\" y=\"14\" width=\"7\" height=\"7\" rx=\"1\"/>\n                </svg>\n              </button>\n              <button\n                onClick={refresh}\n                className={`action-btn ${loading ? 'loading' : ''}`}\n                disabled={loading}\n                aria-label={t.retry}\n              >\n                <RefreshIcon size={20} />\n              </button>\n              <button onClick={toggleDark} className=\"action-btn\" aria-label={isDark ? t.lightMode : t.darkMode}>\n                {isDark ? <SunIcon size={20} /> : <MoonIcon size={20} />}\n              </button>\n            </div>\n          </div>\n        </header>\n\n        {/* Edit Mode Panel */}\n        {isEditMode && (\n          <div className=\"edit-panel\">\n            <div className=\"edit-panel-content\">\n              <h3>Personalizar Dashboard</h3>\n              <p>Arrastra las tarjetas para reordenarlas. Usa los botones para cambiar el tamao.</p>\n\n              <div className=\"card-toggles\">\n                {cards.map(card => (\n                  <label key={card.id} className=\"card-toggle\">\n                    <input\n                      type=\"checkbox\"\n                      checked={card.visible}\n                      onChange={() => toggleCardVisibility(card.id)}\n                    />\n                    <span className=\"toggle-label\">{card.title}</span>\n                    <span className={`toggle-size ${card.size}`}>\n                      {card.size === 'small' ? 'S' : 'L'}\n                    </span>\n                  </label>\n                ))}\n              </div>\n\n              <button onClick={resetLayout} className=\"reset-btn\">\n                Restablecer Layout\n              </button>\n            </div>\n          </div>\n        )}\n\n        <main className=\"main-content\">\n          {loading && !data ? (\n            <div className=\"loading-state\">\n              <div className=\"loading-spinner\">\n                <svg viewBox=\"0 0 50 50\">\n                  <circle cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"3\" strokeDasharray=\"80 40\" strokeLinecap=\"round\"/>\n                </svg>\n              </div>\n              <p className=\"loading-text\">{t.loading}</p>\n            </div>\n          ) : error ? (\n            <div className=\"error-state\">\n              <div className=\"error-icon\">!</div>\n              <p className=\"error-text\">{t.error}</p>\n              <button onClick={useCurrentLocation} className=\"error-btn\">{t.retry}</button>\n            </div>\n          ) : data ? (\n            <DraggableGrid\n              cards={cards}\n              onReorder={handleReorder}\n              onSizeChange={handleSizeChange}\n              renderCard={renderCardContent}\n            />\n          ) : null}\n        </main>\n\n        <footer className=\"app-footer\">\n          <span>MeteoFlow PRO</span>\n          <span className=\"footer-separator\"></span>\n          <span>100+ Paisajes 3D</span>\n          <span className=\"footer-separator\"></span>\n          <span>Alertas en Tiempo Real</span>\n          <span className=\"footer-separator\"></span>\n          <span>Open-Meteo  USGS  NWS</span>\n        </footer>\n      </div>\n\n      <style>{`\n        :root {\n          --bg-base: rgba(250, 250, 250, 0.85);\n          --bg-elevated: rgba(255, 255, 255, 0.9);\n          --bg-subtle: rgba(245, 245, 245, 0.8);\n          --border: rgba(0, 0, 0, 0.08);\n          --border-strong: rgba(0, 0, 0, 0.12);\n          --text-primary: #1a1a1a;\n          --text-secondary: #666666;\n          --text-tertiary: #999999;\n          --accent: #0066ff;\n          --accent-subtle: rgba(0, 102, 255, 0.1);\n          --success: #00c853;\n          --warning: #ffab00;\n          --danger: #ff3d00;\n          --temp-cold: #2196f3;\n          --temp-cool: #00bcd4;\n          --temp-mild: #4caf50;\n          --temp-warm: #ff9800;\n          --temp-hot: #f44336;\n          --radius-sm: 8px;\n          --radius-md: 12px;\n          --radius-lg: 16px;\n          --radius-xl: 20px;\n          --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);\n          --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.12);\n          --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.16);\n          --glass-blur: blur(20px);\n          --transition: 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n\n        .dark {\n          --bg-base: rgba(13, 13, 13, 0.85);\n          --bg-elevated: rgba(26, 26, 26, 0.9);\n          --bg-subtle: rgba(20, 20, 20, 0.8);\n          --border: rgba(255, 255, 255, 0.1);\n          --border-strong: rgba(255, 255, 255, 0.15);\n          --text-primary: #ffffff;\n          --text-secondary: #a0a0a0;\n          --text-tertiary: #666666;\n          --accent: #4d94ff;\n          --accent-subtle: rgba(77, 148, 255, 0.15);\n          --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);\n          --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.4);\n          --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.5);\n        }\n\n        * {\n          margin: 0;\n          padding: 0;\n          box-sizing: border-box;\n        }\n\n        html {\n          font-size: 16px;\n          -webkit-font-smoothing: antialiased;\n          -moz-osx-font-smoothing: grayscale;\n        }\n\n        body {\n          font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;\n          background: #000;\n          color: var(--text-primary);\n          line-height: 1.5;\n          overflow-x: hidden;\n        }\n\n        .app {\n          min-height: 100vh;\n          min-height: 100dvh;\n          position: relative;\n        }\n\n        .landscape-background {\n          position: fixed !important;\n          inset: 0;\n          z-index: 0;\n        }\n\n        .landscape-loading {\n          position: fixed;\n          inset: 0;\n          background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);\n        }\n\n        .app-overlay {\n          position: relative;\n          z-index: 10;\n          min-height: 100vh;\n          min-height: 100dvh;\n          display: flex;\n          flex-direction: column;\n          background: linear-gradient(180deg, transparent 0%, var(--bg-base) 20%);\n        }\n\n        /* Header */\n        .app-header {\n          position: sticky;\n          top: 0;\n          z-index: 100;\n          background: var(--bg-elevated);\n          backdrop-filter: var(--glass-blur);\n          -webkit-backdrop-filter: var(--glass-blur);\n          border-bottom: 1px solid var(--border);\n        }\n\n        .header-content {\n          max-width: 1800px;\n          margin: 0 auto;\n          padding: 0 clamp(12px, 3vw, 24px);\n          height: clamp(52px, 8vh, 68px);\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          gap: clamp(8px, 2vw, 16px);\n        }\n\n        .brand {\n          display: flex;\n          align-items: center;\n          gap: 10px;\n          flex-shrink: 0;\n        }\n\n        .brand-icon {\n          width: clamp(32px, 5vw, 40px);\n          height: clamp(32px, 5vw, 40px);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          color: var(--accent);\n        }\n\n        .brand-icon svg {\n          width: 100%;\n          height: 100%;\n        }\n\n        .brand-text {\n          display: flex;\n          flex-direction: column;\n        }\n\n        .brand-name {\n          font-size: clamp(14px, 2vw, 18px);\n          font-weight: 700;\n          color: var(--text-primary);\n          letter-spacing: -0.5px;\n        }\n\n        .brand-version {\n          font-size: 9px;\n          color: var(--accent);\n          font-weight: 700;\n          text-transform: uppercase;\n          letter-spacing: 1px;\n          background: var(--accent-subtle);\n          padding: 1px 4px;\n          border-radius: 4px;\n          width: fit-content;\n        }\n\n        .header-center {\n          flex: 1;\n          max-width: 400px;\n          min-width: 0;\n        }\n\n        .header-actions {\n          display: flex;\n          align-items: center;\n          gap: clamp(4px, 1vw, 8px);\n          flex-shrink: 0;\n        }\n\n        .action-btn {\n          width: clamp(36px, 5vw, 42px);\n          height: clamp(36px, 5vw, 42px);\n          border: 1px solid var(--border);\n          background: var(--bg-elevated);\n          backdrop-filter: var(--glass-blur);\n          border-radius: var(--radius-md);\n          color: var(--text-secondary);\n          cursor: pointer;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: var(--transition);\n        }\n\n        .action-btn:hover {\n          background: var(--accent-subtle);\n          color: var(--accent);\n          border-color: var(--accent);\n        }\n\n        .action-btn.active {\n          background: var(--accent);\n          color: white;\n          border-color: var(--accent);\n        }\n\n        .action-btn.loading svg {\n          animation: spin 1s linear infinite;\n        }\n\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n\n        /* Edit Panel */\n        .edit-panel {\n          background: var(--bg-elevated);\n          border-bottom: 1px solid var(--border);\n          padding: clamp(12px, 3vw, 20px);\n        }\n\n        .edit-panel-content {\n          max-width: 1800px;\n          margin: 0 auto;\n        }\n\n        .edit-panel h3 {\n          font-size: clamp(14px, 3vw, 16px);\n          margin-bottom: 4px;\n          color: var(--text-primary);\n        }\n\n        .edit-panel p {\n          font-size: clamp(11px, 2.5vw, 13px);\n          color: var(--text-tertiary);\n          margin-bottom: 12px;\n        }\n\n        .card-toggles {\n          display: flex;\n          flex-wrap: wrap;\n          gap: 8px;\n          margin-bottom: 12px;\n        }\n\n        .card-toggle {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          padding: 6px 10px;\n          background: var(--bg-subtle);\n          border-radius: var(--radius-sm);\n          cursor: pointer;\n          font-size: clamp(11px, 2.5vw, 12px);\n          transition: var(--transition);\n        }\n\n        .card-toggle:hover {\n          background: var(--accent-subtle);\n        }\n\n        .card-toggle input {\n          width: 14px;\n          height: 14px;\n          accent-color: var(--accent);\n        }\n\n        .toggle-label {\n          color: var(--text-primary);\n        }\n\n        .toggle-size {\n          padding: 2px 6px;\n          border-radius: 4px;\n          font-size: 10px;\n          font-weight: 600;\n        }\n\n        .toggle-size.small {\n          background: var(--border);\n          color: var(--text-secondary);\n        }\n\n        .toggle-size.large {\n          background: var(--accent);\n          color: white;\n        }\n\n        .reset-btn {\n          padding: 8px 16px;\n          background: var(--bg-subtle);\n          border: 1px solid var(--border);\n          border-radius: var(--radius-sm);\n          color: var(--text-secondary);\n          font-size: 12px;\n          cursor: pointer;\n          transition: var(--transition);\n        }\n\n        .reset-btn:hover {\n          background: var(--danger);\n          color: white;\n          border-color: var(--danger);\n        }\n\n        /* Main Content */\n        .main-content {\n          flex: 1;\n          max-width: 1800px;\n          width: 100%;\n          margin: 0 auto;\n          padding: clamp(12px, 3vw, 24px);\n        }\n\n        /* Dashboard Grid */\n        .dashboard-grid {\n          display: grid;\n          gap: clamp(12px, 2vw, 20px);\n          align-content: start;\n        }\n\n        /* Loading State */\n        .loading-state {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          min-height: 60vh;\n          gap: 16px;\n        }\n\n        .loading-spinner {\n          width: 50px;\n          height: 50px;\n          color: var(--accent);\n        }\n\n        .loading-spinner svg {\n          width: 100%;\n          height: 100%;\n          animation: spin 1s linear infinite;\n        }\n\n        .loading-text {\n          font-size: 14px;\n          color: var(--text-secondary);\n        }\n\n        /* Error State */\n        .error-state {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          min-height: 60vh;\n          gap: 12px;\n          padding: 20px;\n          text-align: center;\n        }\n\n        .error-icon {\n          width: 48px;\n          height: 48px;\n          background: var(--danger);\n          color: white;\n          border-radius: 50%;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 24px;\n          font-weight: 700;\n        }\n\n        .error-text {\n          font-size: 14px;\n          color: var(--text-secondary);\n          max-width: 280px;\n        }\n\n        .error-btn {\n          padding: 10px 20px;\n          background: var(--accent);\n          color: white;\n          border: none;\n          border-radius: var(--radius-md);\n          font-size: 14px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: var(--transition);\n        }\n\n        .error-btn:hover {\n          opacity: 0.9;\n        }\n\n        /* No Marine Data */\n        .no-marine {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          height: 100%;\n          text-align: center;\n          color: var(--text-tertiary);\n          font-size: clamp(12px, 3vw, 14px);\n          padding: 20px;\n        }\n\n        /* Footer */\n        .app-footer {\n          padding: clamp(10px, 2vw, 14px);\n          text-align: center;\n          font-size: clamp(9px, 2vw, 11px);\n          color: var(--text-tertiary);\n          display: flex;\n          justify-content: center;\n          flex-wrap: wrap;\n          gap: 6px;\n          background: var(--bg-elevated);\n          backdrop-filter: var(--glass-blur);\n          border-top: 1px solid var(--border);\n        }\n\n        .footer-separator {\n          opacity: 0.5;\n        }\n\n        /* Card Glass Effect */\n        .weather-card,\n        .hourly-card,\n        .daily-card,\n        .info-card,\n        .draggable-card {\n          background: var(--bg-elevated) !important;\n          backdrop-filter: var(--glass-blur);\n          -webkit-backdrop-filter: var(--glass-blur);\n          box-shadow: var(--shadow-md);\n        }\n\n        /* Mobile Adjustments */\n        @media (max-width: 640px) {\n          .brand-text {\n            display: none;\n          }\n\n          .header-center {\n            max-width: none;\n          }\n\n          .screen-info {\n            display: none;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .header-actions {\n            gap: 4px;\n          }\n\n          .action-btn {\n            width: 36px;\n            height: 36px;\n          }\n\n          .edit-panel {\n            padding: 12px;\n          }\n\n          .card-toggles {\n            gap: 6px;\n          }\n\n          .card-toggle {\n            padding: 5px 8px;\n            font-size: 11px;\n          }\n        }\n\n        /* Safe area insets */\n        @supports (padding: max(0px)) {\n          .header-content {\n            padding-left: max(clamp(12px, 3vw, 24px), env(safe-area-inset-left));\n            padding-right: max(clamp(12px, 3vw, 24px), env(safe-area-inset-right));\n          }\n\n          .main-content {\n            padding-left: max(clamp(12px, 3vw, 24px), env(safe-area-inset-left));\n            padding-right: max(clamp(12px, 3vw, 24px), env(safe-area-inset-right));\n            padding-bottom: max(clamp(12px, 3vw, 24px), env(safe-area-inset-bottom));\n          }\n        }\n\n        /* Touch improvements */\n        @media (hover: none) {\n          .action-btn:hover {\n            background: var(--bg-elevated);\n            color: var(--text-secondary);\n            border-color: var(--border);\n          }\n\n          .action-btn.active:hover {\n            background: var(--accent);\n            color: white;\n          }\n\n          .action-btn:active {\n            background: var(--accent-subtle);\n            color: var(--accent);\n          }\n        }\n\n        /* Reduce motion */\n        @media (prefers-reduced-motion: reduce) {\n          *,\n          *::before,\n          *::after {\n            animation-duration: 0.01ms !important;\n            animation-iteration-count: 1 !important;\n            transition-duration: 0.01ms !important;\n          }\n        }\n\n        /* High contrast mode */\n        @media (prefers-contrast: high) {\n          :root {\n            --border: rgba(0, 0, 0, 0.3);\n            --border-strong: rgba(0, 0, 0, 0.5);\n          }\n\n          .dark {\n            --border: rgba(255, 255, 255, 0.3);\n            --border-strong: rgba(255, 255, 255, 0.5);\n          }\n        }\n\n        /* Scrollbar styling */\n        ::-webkit-scrollbar {\n          width: 8px;\n          height: 8px;\n        }\n\n        ::-webkit-scrollbar-track {\n          background: var(--bg-subtle);\n          border-radius: 4px;\n        }\n\n        ::-webkit-scrollbar-thumb {\n          background: var(--border-strong);\n          border-radius: 4px;\n        }\n\n        ::-webkit-scrollbar-thumb:hover {\n          background: var(--text-tertiary);\n        }\n      `}</style>\n    </div>\n  );\n};\n\n// App wrapper with providers\nconst App: React.FC = () => (\n  <LanguageProvider>\n    <ScreenProvider>\n      <AppContent />\n    </ScreenProvider>\n  </LanguageProvider>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\n\nconsole.log('MeteoFlow: Iniciando...');\n\ntry {\n  const root = document.getElementById('root');\n  console.log('MeteoFlow: Root element:', root);\n\n  if (root) {\n    ReactDOM.createRoot(root).render(\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    );\n    console.log('MeteoFlow: App renderizada');\n  } else {\n    console.error('MeteoFlow: No se encontr el elemento root');\n  }\n} catch (error) {\n  console.error('MeteoFlow: Error al iniciar:', error);\n  document.body.innerHTML = `<div style=\"padding: 20px; color: red;\">Error: ${error}</div>`;\n}\n"],"file":"assets/index-DO4T41mq.js"}